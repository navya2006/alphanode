(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/search/[scope]-authdesktop",16,32,51,65,66,68,70,71,75,89,95,109,115,128,324,326,"ExperienceHeroCommon","ExperienceSurveyCommon","RoleBasedAccessControlProvider","SendObjectWrapperCommon","facebookEnsureInitForDesktop","www/live-session-authdesktop",515,574,582,646,647,648,649,650,651,655,656],{"+41Z":function(e,t,n){var i=n("q1tI"),r=n("CKfu"),o=n("qD10"),a=n("28DW"),s=n("v/Q4"),c=n("vvax"),l=n("yweb"),d=n("pLLR"),u=n("n6mq"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),p(this,"state",{showLegalText:!1}),p(this,"toggleLegalText",()=>{const e=this.state.showLegalText;this.setState({showLegalText:!e})})}getPersonalizedText(){const{viewer:e}=this.props;let t;return e&&e.firstName?t=e.firstName:e&&e.partner&&e.partner.business_name&&(t=e.partner.business_name),t?Object(c.b)(this.props.i18n._("Hi {{ displayName }},","client.partner.adcredits_calendly.sales_contact_modal.display_text.personalized_business_name","Text to prompt to schedule a sales call with name"),{displayName:t}):this.props.i18n._("Hi!","client.partner.adcredits_calendly.sales_contact_modal.display_text.generic_greeting","Text to prompt to schedule a sales call")}getPersonalizedURL(){const{leadId:e}=this.props;return Object(r.a)({leadId:e,source:"adcredits_calendly.sales_contact_modal"})}renderButtonWithLink(){const{handleComplete:e}=this.props;return Object(h.jsx)(u.f,{padding:6,position:"absolute",display:"flex",bottom:!0,right:!0,children:Object(h.jsx)(u.f,{paddingX:1,paddingY:2,children:Object(h.jsx)(o.a,{to:this.getPersonalizedURL(),external:!0,children:Object(h.jsx)(u.g,{size:"md",color:"red",text:this.props.i18n._("Schedule time now","client.partner.adcredits_calendly.sales_contact_modal.submit_button.schedule_time_now.link","Button to schedule sales call"),onClick:()=>{Object(a.a)("client.partner.adcredits_calendly.sales_contact_modal.complete"),e()}})})})})}renderPinGridImageBoxShort(){return Object(h.jsx)(u.f,{width:180,height:320,children:Object(h.jsx)(u.y,{alt:this.props.i18n._("Pin grid image short","client.partner.adcredits_calendly.sales_contact_modal.image_short","Pin grid image preview text"),naturalWidth:180,naturalHeight:320,src:"https://i.pinimg.com/originals/6a/93/eb/6a93eb6b580747e78f0788b3c36abc12.png"})})}renderPinGridImageBoxLong(){return Object(h.jsx)(u.f,{width:180,height:510,children:Object(h.jsx)(u.y,{alt:this.props.i18n._("Pin grid image long","client.partner.adcredits_calendly.sales_contact_modal.image_long","Pin grid image preview text"),naturalWidth:180,naturalHeight:510,src:"https://i.pinimg.com/originals/58/49/1e/58491ea02f79fb3725684c8e81e4cd09.png"})})}render(){const{showLegalText:e}=this.state,t=e?this.renderPinGridImageBoxLong():this.renderPinGridImageBoxShort(),n=this.renderButtonWithLink();return Object(h.jsx)(u.f,{color:"white",overflow:"hidden",rounding:3,width:540,height:e?480:320,children:Object(h.jsxs)(u.f,{display:"flex",alignItems:"center",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"start",justifyContent:"start",width:180,height:e?480:320,children:t}),Object(h.jsxs)(u.f,{position:"relative",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"start",width:360,height:e?480:320,children:Object(h.jsx)(u.f,{paddingX:8,children:Object(h.jsxs)(u.f,{paddingY:8,children:[Object(h.jsx)(u.v,{overflow:"normal",size:"md",children:this.props.i18n._("Get $100 of free ads credit!","client.partner.adcredits_calendly.sales_contact_modal.heading.ads_consultation","Prompt to schedule ads consultation and receive ad credits")}),Object(h.jsx)(u.f,{paddingY:2,children:Object(h.jsx)(u.bb,{size:"md",children:this.getPersonalizedText()})}),Object(h.jsx)(u.f,{paddingY:2,children:Object(h.jsx)(u.bb,{size:"md",children:this.props.i18n._("You’ve qualified for a free ads consultation. Book your session with a Pinterest ads expert and get $100 in ads credit!","client.partner.adcredits_calendly.sales_contact_modal.subtext.schedule_call","Prompt to schedule a sales call")})}),Object(h.jsx)(u.bb,{align:"center",inline:!0,size:"sm",children:Object(c.b)(this.props.i18n._("{{ additionalTerms }}","client.partner.adcredits_calendly.sales_contact_modal.additional_terms","preview of terms"),{additionalTerms:Object(h.jsx)(u.f,{display:"inlineBlock",paddingY:1,children:Object(h.jsx)(u.ab,{fullWidth:!1,onTap:this.toggleLegalText,children:Object(h.jsx)(u.bb,{inline:!0,size:"sm",weight:"bold",children:this.props.i18n._("Additional terms apply","client.partner.adcredits_calendly.sales_contact_modal.additional_terms.text","click for more terms")})})},"additionalTermsModal")})}),e&&Object(h.jsx)(u.f,{marginTop:3,children:Object(h.jsx)(u.bb,{size:"sm",children:this.props.i18n._("By tapping Schedule time now, you agree to Pinterest’s Business Terms of Service, and acknowledge our Privacy Policy. When you click Schedule time now and succesfully book a call with sales, $100 in ads credit will be issued to the account associated with the advertiser ID claiming the credits. Any unused ads credits will expire 90 days after credited to your account. Limit one per account. U.S. only. Must be 18+. Pinterest reserves the right to cancel or modify offer at any time.","client.partner.adcredits_calendly.sales_contact_modal.additional_terms.legal_text","additional legal text")})})]})})}),n]}),Object(h.jsx)(u.f,{padding:4,position:"absolute",right:!0,top:!0,children:Object(h.jsx)(u.x,{accessibilityLabel:this.props.i18n._("Close upsell","client.partner.adcredits_calendly.sales_contact_modal.close_icon_accessibility_label","Accessibility label for close icon in sales contact modal"),icon:"cancel",iconColor:"gray",onClick:()=>{Object(a.a)("client.partner.adcredits_calendly.sales_contact_modal.dismiss"),this.props.handleDismiss()},size:"sm"})})]})})}}function m(e){const t=Object(l.c)(),n=Object(d.d)(),i=Object(s.a)();return Object(h.jsx)(b,{...e,requestContext:n,viewer:i,i18n:t})}class f extends i.Component{getPersonalizedURL(){const{leadId:e,viewer:t}=this.props;return Object(r.a)({country:t.country||"",leadId:e,source:"outbound_calendly.sales_contact_modal"})}renderButtonWithLink(){const{handleComplete:e}=this.props;return Object(h.jsx)(u.f,{padding:6,position:"absolute",display:"flex",bottom:!0,right:!0,children:Object(h.jsx)(u.f,{paddingX:1,paddingY:2,children:Object(h.jsx)(o.a,{to:this.getPersonalizedURL(),external:!0,children:Object(h.jsx)(u.g,{size:"md",color:"red",text:this.props.i18n._("Schedule time now","client.partner.outbound_calendly.sales_contact_modal.submit_button.schedule_time_now.link","Button to schedule sales call"),onClick:()=>{Object(a.a)("client.partner.outbound_calendly.sales_contact_modal.complete"),e()}})})})})}renderPinGridImageBox(){return Object(h.jsx)(u.f,{width:180,height:315,children:Object(h.jsx)(u.y,{alt:this.props.i18n._("Pin grid image","client.partner.outbound_calendly.sales_contact_modal.image","Pin grid image preview text"),naturalWidth:180,naturalHeight:315,src:"https://i.pinimg.com/originals/32/8c/3d/328c3de21311632f53a50d2462149799.png"})})}render(){const e=this.renderPinGridImageBox(),t=this.renderButtonWithLink(),n=this.props.i18n._("Drive traffic","client.partner.outbound_calendly.sales_contact_modal.subtext.drive_traffic","Benefit for scheduling a sales call -- drive traffic"),i=this.props.i18n._("Increase sales","client.partner.outbound_calendly.sales_contact_modal.subtext.increase_sales","Benefit for scheduling a sales call -- increase sales"),r=this.props.i18n._("Grow brand awareness","client.partner.outbound_calendly.sales_contact_modal.subtext.grow_awareness","Benefit for scheduling a sales call -- grow awareness");return Object(h.jsx)(u.f,{color:"white",overflow:"hidden",rounding:3,width:540,height:315,children:Object(h.jsxs)(u.f,{display:"flex",alignItems:"center",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"start",justifyContent:"start",width:180,height:315,children:e}),Object(h.jsxs)(u.f,{position:"relative",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"start",width:360,height:315,children:Object(h.jsx)(u.f,{paddingX:8,children:Object(h.jsxs)(u.f,{paddingY:6,children:[Object(h.jsx)(u.f,{paddingY:2,children:Object(h.jsx)(u.v,{overflow:"normal",size:"md",children:this.props.i18n._("You qualify for a free ads consultation","client.partner.outbound_calendly.sales_contact_modal.heading.ads_consultation","Prompt to schedule outbound ads consultation")})}),Object(h.jsx)(u.bb,{size:"md",children:this.props.i18n._("Let a Pinterest business expert help your business:","client.partner.outbound_calendly.sales_contact_modal.subtext","Subtext to prompt to schedule a sales call with Pinterest business expert")}),Object(h.jsxs)(u.f,{paddingY:1,children:[Object(h.jsxs)(u.bb,{size:"md",children:["• ",n]}),Object(h.jsxs)(u.bb,{size:"md",children:["• ",i]}),Object(h.jsxs)(u.bb,{size:"md",children:["• ",r]})]}),Object(h.jsx)(u.bb,{size:"md",children:this.props.i18n._("Schedule your 20-minute session today!","client.partner.outbound_calendly.sales_contact_modal.subtext.schedule_call","Prompt to schedule a sales call")})]})})}),t]}),Object(h.jsx)(u.f,{padding:4,position:"absolute",right:!0,top:!0,children:Object(h.jsx)(u.x,{accessibilityLabel:this.props.i18n._("Close upsell","client.partner.outbound_calendly.sales_contact_modal.close_icon_accessibility_label","Accessibility label for close icon in outbound sales contact modal"),icon:"cancel",iconColor:"gray",onClick:()=>{Object(a.a)("client.partner.outbound_calendly.sales_contact_modal.dismiss"),this.props.handleDismiss()},size:"sm"})})]})})}}function g(e){const t=Object(l.c)(),n=Object(d.d)(),i=Object(s.a)();return Object(h.jsx)(f,{...e,requestContext:n,viewer:i,i18n:t})}var j=n("7w6Q"),y=n("r8eU");class O extends i.Component{constructor(...e){var t,n,i;super(...e),i={isPersonalized:!1,isInBSLCopyExperiment:!1,isInShopifyCopyExperiment:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}getPersonalizedText(){const{viewer:e}=this.props;let t,n;return e&&e.partner&&e.partner.business_name&&(n=e.partner.business_name),e&&e.firstName?t=e.firstName:e&&e.partner&&e.partner.business_name&&(t=e.partner.business_name),this.state.isInBSLCopyExperiment?t?Object(c.b)(this.props.i18n._("Hi, {{ displayName }}!","client.partner.calendly.sales_contact_modal.display_text.personalized_business_name","Text to prompt to reserve sales call session"),{displayName:t}):this.props.i18n._("Hi!","client.partner.calendly.sales_contact_modal.display_text.generic_thanks","Text to prompt to schedule a sales call and learn tips from Pinterest experts"):this.state.isInShopifyCopyExperiment?n?Object(c.b)(this.props.i18n._("{{ businessName }} was selected to receive a free, personalized 1:1 ads consultation!","client.partner.calendly.sales_contact_modal.display_text.qualified_business","Text to prompt a business is eligible to reserve sales call session"),{businessName:n}):this.props.i18n._("You were selected to receive a free, personalized 1:1 ads consultation!","client.partner.calendly.sales_contact_modal.display_text.generic_qualified_text","Text to prompt a generic business is eligible to reserve sales call session"):t?Object(c.b)(this.props.i18n._("Thanks for requesting a free ads consultation, {{ displayName }}!","client.partner.calendly.sales_contact_modal.display_text.personalized_business_name","Text to prompt to reserve sales call session"),{displayName:t}):this.props.i18n._("Thanks for requesting a free ads consultation!","client.partner.calendly.sales_contact_modal.display_text.generic_thanks","Text to prompt to schedule a sales call and learn tips from Pinterest experts")}getSubtext(){return this.state.isInShopifyCopyExperiment?this.props.i18n._("Let us show you how our Shopify tools make advertising even easier.","client.partner.calendly.sales_contact_modal.display_subtext.shopify","Subtext to prompt a Shopify user to schedule a sales call and learn tips from Pinterest experts"):this.props.i18n._("After reviewing your business, our Pinterest experts found new ways to help you meet your goals.","client.partner.calendly.sales_contact_modal.display_subtext","Subtext to prompt to schedule a sales call and learn tips from Pinterest experts")}getPersonalizedLink(){const{leadId:e}=this.props;return e?"/business/schedule_call/?sfid="+e:(j.a.increment("client.partner.calendly.sales_contact_modal.lead_missing.route",1),"/schedule_call/")}getPersonalizedURL(){const{leadId:e,viewer:t}=this.props;return Object(r.a)({country:t.country||"",leadId:e,source:"sales_contact_modal"})}renderButtonsWithLink(){const{handleComplete:e}=this.props;return Object(h.jsx)(u.f,{padding:6,position:"absolute",display:"flex",bottom:!0,right:!0,children:Object(h.jsx)(u.f,{paddingX:1,paddingY:2,children:Object(h.jsx)(o.a,{to:this.getPersonalizedURL(),external:!0,children:Object(h.jsx)(u.g,{size:"md",color:"red",text:this.props.i18n._("Schedule time now","client.partner.calendly.sales_contact_modal.submit_button.schedule_time_now.link","Button to schedule sales call"),onClick:()=>{Object(a.a)("client.partner.calendly.sales_contact_modal.complete"),e()}})})})})}renderButtonsWithRoute(){const{handleComplete:e}=this.props;return Object(h.jsx)(u.f,{padding:6,position:"absolute",display:"flex",bottom:!0,right:!0,children:Object(h.jsx)(u.f,{paddingX:1,paddingY:2,children:Object(h.jsx)(o.a,{to:this.getPersonalizedLink(),children:Object(h.jsx)(u.g,{size:"md",color:"red",text:this.props.i18n._("Schedule time now","client.partner.calendly.sales_contact_modal.submit_button.schedule_time_now.route","Button to schedule sales call"),onClick:()=>{Object(a.a)("client.partner.calendly.sales_contact_modal.complete"),e()}})})})})}renderPinGridImageBox(){return Object(h.jsx)(u.f,{width:180,height:315,children:Object(h.jsx)(u.y,{alt:this.props.i18n._("Pin grid image","client.partner.calendly.sales_contact_modal.image","Pin grid image preview text"),naturalWidth:180,naturalHeight:315,src:"https://i.pinimg.com/originals/32/8c/3d/328c3de21311632f53a50d2462149799.png"})})}componentDidMount(){if("webform"===this.props.leadSource){const e=new y.b(this.props.requestContext,"adv_growth_calendly_iframe_sales_contact").enabled();this.setState({isPersonalized:e})}if(502205===this.props.experienceId&&"Behavior Score"===this.props.leadSource){const e=new y.b(this.props.requestContext,"adv_growth_calendly_bsl_modal_copy").enabled();this.setState({isInBSLCopyExperiment:e})}if(502205===this.props.experienceId&&"Shopify"===this.props.leadSource){const e=new y.b(this.props.requestContext,"adv_growth_calendly_shopify_modal").enabled();this.setState({isInShopifyCopyExperiment:e})}}render(){const e=this.state.isPersonalized?this.renderButtonsWithRoute():this.renderButtonsWithLink();return Object(h.jsx)(u.f,{color:"white",overflow:"hidden",rounding:3,width:540,height:315,children:Object(h.jsxs)(u.f,{display:"flex",alignItems:"center",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"start",justifyContent:"start",width:180,height:315,children:this.renderPinGridImageBox()}),Object(h.jsxs)(u.f,{position:"relative",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"start",width:360,height:315,children:Object(h.jsx)(u.f,{paddingX:8,children:Object(h.jsxs)(u.f,{paddingY:6,children:[Object(h.jsx)(u.v,{overflow:"normal",size:"md",children:this.props.i18n._("Let's talk! Get more traffic and sales","client.partner.calendly.sales_contact_modal.heading.more_sales","prompt to schedule ads consultation")}),Object(h.jsx)(u.f,{paddingY:3,children:Object(h.jsx)(u.bb,{size:"md",children:this.getPersonalizedText()})}),Object(h.jsx)(u.f,{paddingY:2,children:Object(h.jsx)(u.bb,{size:"md",children:this.getSubtext()})})]})})}),e]}),Object(h.jsx)(u.f,{padding:4,position:"absolute",right:!0,top:!0,children:Object(h.jsx)(u.x,{accessibilityLabel:this.props.i18n._("Close upsell","client.partner.calendly.sales_contact_modal.close_icon_accessibility_label","Accessibility label for close icon in sales contact modal"),icon:"cancel",iconColor:"gray",onClick:()=>{Object(a.a)("client.partner.calendly.sales_contact_modal.dismiss"),this.props.handleDismiss()},size:"sm"})})]})})}}function x(e){const t=Object(l.c)(),n=Object(d.d)(),i=Object(s.a)();return Object(h.jsx)(O,{...e,requestContext:n,viewer:i,i18n:t})}var v=n("c4Fo"),_=n("FDmi"),w=n("+Poj"),S=n.n(w),C=n("eOdZ");function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I="first",E="end";class k extends i.Component{constructor(e){super(e),T(this,"onCheck",({checked:e})=>{501312===this.props.experienceId?Object(a.a)("auth.web.fix_bounced_email_modal.uncheck.notifications.box"):Object(a.a)("auth.web.fix_email_modal.uncheck.notifications.box"),this.setState({checked:e})}),T(this,"onTextChange",({value:e})=>{501312===this.props.experienceId?Object(a.a)("auth.web.fix_bounced_email_modal.change.email.text"):Object(a.a)("auth.web.fix_email_modal.change.email.text"),this.setState({newEmail:e})}),T(this,"closeModal",()=>{const{handleComplete:e}=this.props;setTimeout(e,5e3)}),T(this,"updateEmailAddress",()=>{const{currentEmail:e}=this.props,{checked:t,newEmail:n}=this.state;e&&n&&e.trim()!==n?C.a.create("UserSettingsResource",{email:n,email_bounced:!1}).callUpdate({showError:!1}).then(()=>this.updateNotifSetting(t),e=>this.setState({errorMessage:e.message})):this.updateNotifSetting(t)}),T(this,"updateNotifSetting",e=>{let t;this.setState({currentStep:E}),t=!0===e?{section:"settings_email_everything",option:"ONLY_REQUIRED",value:!1}:{section:"settings_email_everything",option:"ONLY_REQUIRED",value:!0},C.a.create("EmailSettingsResource",t).callUpdate(),501312===this.props.experienceId?(Object(a.a)("auth.web.fix_bounced_email_modal.completed"),this.closeModal()):(Object(a.a)("auth.web.fix_email_modal.completed"),this.closeModal())}),this.state={currentStep:I,newEmail:e.currentEmail,checked:!0}}getModalText(e){return e===I?501312===this.props.experienceId?this.props.descriptionText:this.props.i18n._("We're having some trouble reaching you. Is this still your email?","prompt to update email","prompt to update email"):this.props.i18n._("Thanks! Your email preferences have been saved.","after updating email address","after updating email address")}renderStep(e){const{checked:t,errorMessage:n,newEmail:i}=this.state,{experienceId:r}=this.props;return e===I?501312===r?Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.db,{errorMessage:n,id:"email",onChange:this.onTextChange,size:"lg",type:"email",value:i}),Object(h.jsx)(u.f,{paddingY:2,children:Object(h.jsx)(u.g,{fullWidth:!0,color:"red",text:this.props.i18n._("Done","done updating email address","done updating email address"),onClick:this.updateEmailAddress})}),Object(h.jsxs)(u.f,{alignItems:"center",display:"flex",children:[Object(h.jsx)(u.k,{checked:t,id:"notif",onChange:this.onCheck,size:"sm"}),Object(h.jsx)(u.z,{htmlFor:"notif",children:Object(h.jsx)(u.f,{paddingX:2,children:Object(h.jsx)(u.bb,{size:"md",children:this.props.i18n._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt","checkbox option in a prompt")})})})]})]}):Object(h.jsxs)(u.f,{maxWidth:310,children:[Object(h.jsxs)(u.f,{alignItems:"center",display:"flex",marginBottom:6,children:[Object(h.jsx)(u.k,{checked:t,id:"notif",onChange:this.onCheck,size:"sm"}),Object(h.jsx)(u.z,{htmlFor:"notif",children:Object(h.jsx)(u.f,{paddingX:2,children:Object(h.jsx)(u.bb,{size:"md",children:this.props.i18n._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt","checkbox option in a prompt")})})})]}),Object(h.jsx)(u.db,{errorMessage:n,id:"email",onChange:this.onTextChange,size:"lg",type:"email",value:i}),Object(h.jsx)(u.f,{paddingY:1,children:Object(h.jsx)(u.g,{fullWidth:!0,color:"red",text:this.props.i18n._("Done","done updating email address","done updating email address"),onClick:this.updateEmailAddress})})]}):Object(h.jsx)(u.bb,{overflow:"normal",children:Object(c.b)(this.props.i18n._("You can always change them later from your {{settingsLink}}.","link to change email settings","link to change email settings"),{settingsLink:Object(h.jsx)(o.a,{to:"/settings/",children:this.props.i18n._("Settings","link to edit account settings","link to edit account settings")},"settingsLink")})})}render(){const{handleDismiss:e,experienceId:t,titleText:n,userAvatar:i,userPhoto:r,userName:o}=this.props,{currentStep:s}=this.state;return 501312===t?Object(h.jsx)(u.H,{heading:Object(h.jsx)(u.f,{display:"flex",justifyContent:"center",alignItems:"center",children:n}),accessibilityModalLabel:n||"",onDismiss:()=>{Object(a.a)("auth.web.fix_bounced_email_modal.dismiss"),e()},footer:null,role:"alertdialog",size:"sm",children:Object(h.jsxs)(u.f,{children:[r&&i&&o?Object(h.jsx)(u.f,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(h.jsx)(_.a,{src:i,name:o,size:"lg"})}):null,Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.f,{paddingX:4,paddingY:2,children:Object(h.jsx)(u.bb,{children:this.getModalText(s)})}),Object(h.jsx)(u.f,{padding:4,alignSelf:"center",children:this.renderStep(s)})]})]})}):Object(h.jsx)(u.f,{color:"white",overflow:"hidden",rounding:2,width:660,height:540,children:Object(h.jsxs)(u.f,{display:"flex",alignItems:"center",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540,children:Object(h.jsx)(u.f,{width:292,height:479,marginBottom:-6,children:Object(h.jsx)(u.y,{alt:this.props.i18n._("preview of mobile app","prompt to fix email","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:S.a})})}),Object(h.jsxs)(u.f,{position:"relative",children:[Object(h.jsx)(u.f,{display:"flex",alignItems:"center",width:330,height:540,children:Object(h.jsxs)(u.f,{paddingX:3,children:[Object(h.jsx)(u.f,{paddingY:6,children:Object(h.jsx)(u.v,{overflow:"normal",size:"sm",children:this.getModalText(s)})}),this.renderStep(s)]})}),s===I&&Object(h.jsx)(u.f,{padding:6,position:"absolute",bottom:!0,right:!0,children:Object(h.jsx)(u.ab,{fullWidth:!1,onTap:()=>{Object(a.a)("auth.web.fix_email_modal.dismiss"),e()},children:Object(h.jsx)(u.bb,{weight:"bold",children:this.props.i18n._("Skip for now","Skip prompt to change email address","Skip prompt to change email address")})})})]})]})})}}function P(e){const t=Object(l.c)(),n=Object(s.a)();return Object(h.jsx)(k,{...e,i18n:t,userAvatar:n.isAuth?n.imageLargeUrl:void 0,userName:n.isAuth?n.username:void 0})}var R=n("Ht9O"),L=n("TgLd"),A=n("NdXn"),D=n("gC5q");t.a=({placementId:e})=>Object(h.jsx)(v.a,{experienceIds:[501312,500331,502205,502334,502271,502726,502804,503587,503192],placementId:e,children:({experience_id:e,complete:t,dismiss:n,display_data:i})=>{const r=function(e){switch(e){case 502205:case 502804:return x;case 503192:return m;case 502334:case 503587:return g;case 502271:return R.a;default:return P}}(e);return Object(h.jsx)(L.b,{accessibilityModalLabel:"",onDismiss:n,size:500331===e?"md":"sm",children:Object(h.jsx)(r,{...Object(D.a)(A.a)(i),handleComplete:t,handleDismiss:n,experienceId:e})})}})},"+P9k":function(e,t,n){const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchSensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[o={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null},d={alias:null,args:null,concreteType:"TextTagMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinBlockId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinPageId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:[a,r],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auxData",storageKey:null},a,r],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[r,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[o,a,d,s,c,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};var r,o,a,s,c,l,d;i.hash="d4c69f8666b3019392015bcfcced5dfa",e.exports=i},"+Poj":function(e,t){e.exports="https://s.pinimg.com/webapp/fix_email-74ef63c3.png"},"+c4W":function(e,t,n){var i=n("711d"),r=n("4/ic"),o=n("9ggG"),a=n("9Nap");e.exports=function(e){return o(e)?i(a(e)):r(e)}},"+lzj":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return p}));var i=n("fyR6"),r=n("vzKb");const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{o.longTaskDurations=[]},s=Object(i.a)(()=>o.elementTimings),c=()=>s.get(),l=e=>{e&&s.save(),o.elementTimings=[]},d=()=>o;let u=0;const h=()=>u,p=()=>{Object(r.a)({type:"element",buffered:!0},e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[]),[]))}),Object(r.a)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>o.longTaskDurations.push(e.duration))},()=>a()),Object(r.a)({type:"first-input",buffered:!0},(e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()},()=>{o.firstInputDelay=null}),Object(r.a)({type:"largest-contentful-paint",buffered:!0},e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,o.largestContentfulPaint=i.renderTime||i.loadTime||null)}),Object(r.a)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)})})}},"+wdc":function(e,t,n){var i,r,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var d=null,u=null,h=function(){if(null!==d)try{var e=t.unstable_now();d(!0,e),d=null}catch(n){throw setTimeout(h,0),n}};i=function(e){null!==d?setTimeout(i,0,e):(d=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,b=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var f=!1,g=null,j=-1,y=5,O=0;t.unstable_shouldYield=function(){return t.unstable_now()>=O},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,v=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();O=e+y;try{g(!0,e)?v.postMessage(null):(f=!1,g=null)}catch(n){throw v.postMessage(null),n}}else f=!1},i=function(e){g=e,f||(f=!0,v.postMessage(null))},r=function(e,n){j=p((function(){e(t.unstable_now())}),n)},o=function(){b(j),j=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<C(r,t)))break e;e[i]=t,e[n]=r,n=i}}function w(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>C(a,n))void 0!==c&&0>C(c,a)?(e[i]=c,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[i]=c,e[s]=n,i=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],E=1,k=null,P=3,R=!1,L=!1,A=!1;function D(e){for(var t=w(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,_(T,t)}t=w(I)}}function B(e){if(A=!1,D(e),!L)if(null!==w(T))L=!0,i(N);else{var t=w(I);null!==t&&r(B,t.startTime-e)}}function N(e,n){L=!1,A&&(A=!1,o()),R=!0;var i=P;try{for(D(n),k=w(T);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=k.callback;if("function"==typeof a){k.callback=null,P=k.priorityLevel;var s=a(k.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?k.callback=s:k===w(T)&&S(T),D(n)}else S(T);k=w(T)}if(null!==k)var c=!0;else{var l=w(I);null!==l&&r(B,l.startTime-n),c=!1}return c}finally{k=null,P=i,R=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,i(N))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return w(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:E++,callback:n,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,_(I,e),null===w(T)&&e===w(I)&&(A?o():A=!0,r(B,a-s))):(e.sortIndex=c,_(T,e),L||R||(L=!0,i(N))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},"+wrf":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("ViqK"),a=n("yaUg"),s=n("yweb"),c=n("v/Q4"),l=n("n6mq"),d=n("nKUr");function u({actionsDisabled:e,invite:t,isDim:n,onApprove:i,onDelete:r}){const u=Object(s.c)(),h=Object(c.a)(),{access:p,status:b,invited_by_user:m,invited_user:f}=t,g=h.isAuth&&f.id===h.id,j=h.isAuth&&m.id===h.id,y=f.id===m.id,O="accepted"===b,x=p.includes("approve"),v=p.includes("delete"),_=u._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),w=((e,t,n)=>e?u._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?u._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):u._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]"))(g,y,O),S=v&&!x,C=v&&x,T=`/${f.username}/`;return Object(d.jsxs)(l.f,{children:[Object(d.jsx)(o.a,{imageUrl:f.image_medium_url||"",name:f.full_name,title:f.full_name,subtitle:((e,n,i)=>{const r=t.invited_by_user.full_name;return e?u._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):n?u._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):i?u._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(a.a)(u._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:r})})(g,j,y),linkURL:T,isDim:void 0!==n?n:!O,accessory:S&&Object(d.jsx)(l.g,{disabled:e,onClick:r,text:w,size:"lg"})}),C&&Object(d.jsxs)(l.f,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[Object(d.jsx)(l.f,{paddingX:1,flex:"grow",width:"50%",children:Object(d.jsx)(l.g,{fullWidth:!0,disabled:e,onClick:r,text:w,size:"lg"})}),Object(d.jsx)(l.f,{paddingX:1,flex:"grow",width:"50%",children:Object(d.jsx)(l.g,{fullWidth:!0,color:"red",disabled:e,onClick:i,text:_,size:"lg"})})]})]})}var h=n("4dcN"),p=n("M1Uz"),b=n("L2iP"),m=n("TgLd"),f=n("vvax");function g(e){const t=Object(s.c)(),{onCancel:n,onRemove:i,useGestaltModal:r}=e,o=t._("Are you sure you want to leave this group board and remove it from your profile?"),a=r?l.H:m.b;return Object(d.jsx)(a,{accessibilityModalLabel:t._("Leave board?"),heading:t._("Leave board?"),onDismiss:n,size:"sm",footer:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"end",children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{onClick:n,text:t._("Cancel")})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{color:"red",onClick:i,text:t._("Leave")})})]}),children:Object(d.jsx)(l.f,{padding:5,children:Object(d.jsx)(l.bb,{children:o})})})}class j extends i.Component{constructor(...e){var t,n,i;super(...e),i={shouldBlock:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}getBlockDescription(e,t){return"declineRequest"===e?t?Object(f.b)(this.props.i18n._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):this.props.i18n._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(f.b)(this.props.i18n._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):this.props.i18n._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:n,onCancel:r,onRemove:o,onRemoveAndBlock:a,useGestaltModal:s}=this.props,c="declineRequest"===e?Object(f.b)(this.props.i18n._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:n}).join(""):Object(f.b)(this.props.i18n._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:n}).join(""),u=this.props.i18n._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),h=this.getBlockDescription(e,t),p=this.state.shouldBlock?this.props.i18n._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):this.props.i18n._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),b=Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{padding:5,children:Object(d.jsx)(l.bb,{children:u})}),Object(d.jsx)(l.q,{}),Object(d.jsxs)(l.f,{padding:5,display:"flex",children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.k,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsxs)(l.z,{htmlFor:"banUser",children:[Object(d.jsx)(l.bb,{weight:"bold",children:Object(f.b)(this.props.i18n._("Block {{ name }}"),{name:t||""})}),Object(d.jsx)(l.bb,{size:"md",children:h})]})})]})]}),g=s?l.H:m.b;return Object(d.jsx)(g,{accessibilityModalLabel:c,heading:c,onDismiss:r,size:"sm",footer:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{onClick:r,text:this.props.i18n._("Cancel")})}),Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.g,{color:"red",onClick:this.state.shouldBlock?a:o,text:p})})]}),children:b})}}function y(e){const t=Object(s.c)();return Object(d.jsx)(j,{...e,i18n:t})}var O=n("ZE2w"),x=n("nGHF");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),v(this,"state",{currentModal:null,loading:!1}),v(this,"showRemoveSuccessToast",()=>{const{toastManagerContext:e}=this.props,t=this.props.i18n._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast(({onHide:e})=>Object(d.jsx)(p.a,{duration:3e3,onHide:e,text:t}))}),v(this,"onDelete",()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),v(this,"onApprove",()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),v(this,"deleteBoardInvite",(e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:n,onInviteDidUpdate:i}=this.props,r=this.isViewerInvitedUser,o=r?"collaborator_decline_invite":"collaborator_delete_invite";h.a.trackEvent(o,"click"),this.setState({currentModal:null,loading:!0}),t(r,e).then(()=>{h.a.trackEvent(o,"success"),i(),this.showRemoveSuccessToast(),r&&n()}).catch(()=>{h.a.trackEvent(o,"error")}).finally(()=>{this.setState({loading:!1})})}),v(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),v(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),v(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:n}=this.state;return"delete"===n?this.isViewerInvitedUser?Object(d.jsx)("div",{style:{position:"absolute",zIndex:b.e+1},children:Object(d.jsx)(g,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):Object(d.jsx)("div",{style:{position:"absolute",zIndex:b.e+1},children:Object(d.jsx)(y,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,isDim:t}=this.props,{loading:n}=this.state;return Object(d.jsxs)(l.f,{children:[Object(d.jsx)(u,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}t.a=Object(r.connect)(()=>({}),(e,t)=>{const{invite:n,invite:{invited_user:{id:i},board:{id:r}}}=t;return{approveBoardCollabInvite:()=>e(Object(O.a)(r,i)),deleteBoardCollabInvite:(t,i)=>e(Object(O.b)(n,t,i))}})((function(e){const t=Object(s.c)();return Object(d.jsx)(_,{...e,toastManagerContext:Object(x.b)(),viewer:Object(c.a)(),i18n:t})}))},"+zF7":function(e,t,n){var i=n("LqyK"),r=n("x12c"),o=n("eOdZ"),a=n("G35+"),s=n("dwea"),c=n("mBfy");function l(){}Object.assign(l.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const r={success:function(i){const r={network:e,data:i};this._internalConnectNetwork(t,r,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){o.a.create("UserResource",{user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;c.default.set(n),r.a.instance.publish("currentUser","socialNetworkUpdated",n)})},_externalConnectNetwork(e,t,n){t?a.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.a.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case a.a.FACEBOOK:t="UserFacebookFriendsResource";break;case a.a.TWITTER:t="UserTwitterFriendsResource";break;case a.a.GOOGLE:t="UserGmailFriendsResource";break;case a.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.a.create(i,n);r.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(r)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;l.instance=function(){return d||(d=new l),d},t.a=l},"/9aa":function(e,t,n){var i=n("NykK"),r=n("ExA7");e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},"/X16":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i={USER_FOLLOW:"USER_FOLLOW"},r={USER_BLOCK:"USER_BLOCK"}},"/kAC":function(e,t,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},"/wSi":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return y}));const i=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3;const{LEFT:o,CENTER:a,RIGHT:s}={LEFT:0,CENTER:1,RIGHT:2},c={[o]:"start",[a]:"center",[s]:"end"},{SMALL:l,MEDIUM:d,LARGE:u}={SMALL:0,MEDIUM:1,LARGE:2},h={web:{[l]:"16",[d]:"20",[u]:"24"},mweb:{[l]:"12",[d]:"16",[u]:"18"}},{ITALICS:p,NORMAL:b}={NORMAL:0,ITALICS:1},m={[p]:"italics",[b]:"normal"},{BOLD:f,NORMAL:g}={NORMAL:0,BOLD:1},j={[f]:"bold",[g]:"normal"},y=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:r},o)=>({color:e,fontStyle:m[null!=t?t:0],fontWeight:j[null!=n?n:1],horizontalAlignment:c[null!=i?i:0],fontSize:h[o][null!=r?r:0]+"px"})},"/zJj":function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return h}));const i=508,r=2*i,o=488,a=2*o,s=40,c=72,l=740,d=60,u=912,h={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},"078/":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","RelatedProductsFeed","ShoppingSquareGridRelatedProducts","UserProfilePinGrid"],o=[...r,"ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridRelatedProductsMetadata","ProductPinsFeed","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],a=["BaseBoardPinGrid"]},"0K1N":function(e,t,n){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"0PSK":function(e,t,n){var i=n("q1tI"),r=n.n(i);t.a=r.a.createContext(null)},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const r=n("NwjN").a;function o({children:e}){return e(Object(i.useContext)(r))}function a(){return Object(i.useContext)(r)}},"0S8y":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("VBRM"),r=n("YWqT"),o=n("F08S");function a(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(o.a)(-t,n),a=new Date;return!Object(r.a)(a,i)}function c({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,o=new Date,a=n?new Date(n):o,s=Object(i.a)(a,t);return Object(r.a)(s,o)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}},"0WuC":function(e,t,n){n.d(t,"a",(function(){return v}));var i=n("q1tI"),r=n("r3nq"),o=n("DAxM"),a=n("qUzp"),s=n("s7xj"),c=n("wdRm"),l=n("n6mq"),d=n("nKUr");function u({board:e,isCompact:t,isOwnProfile:n,subtitle:i}){const{is_collaborative:r,name:o,pin_count:a,section_count:u}=e;return Object(d.jsxs)(l.f,{alignItems:"start",display:"flex",padding:2,children:[Object(d.jsxs)(l.f,{alignItems:"start",direction:"column",display:"flex",flex:"grow",overflow:"hidden",children:[Object(d.jsx)(l.v,{accessibilityLevel:2,size:"sm",truncate:!0,children:o}),Object(d.jsxs)(l.f,{alignItems:"center",display:"flex",marginTop:1,children:[Object(d.jsx)(c.a,{pinCount:a,sectionCount:u}),n&&Object(d.jsx)(l.f,{marginStart:2,children:Object(d.jsx)(l.bb,{color:"gray",size:"sm",truncate:!0,children:i})})]})]}),r&&Object(d.jsx)(l.f,{marginStart:2,children:Object(d.jsx)(s.a,{board:e,isCompact:t})})]})}var h=n("qD10"),p=n("vvax"),b=n("yweb");function m(e,t){const{full_name:n,username:i}=e,r=Object(d.jsx)(h.a,{to:"/"+i,children:n});return Object(p.b)(t._("{{ linkToUser }} invited you to join this board","boardRep.invite.invitationText","Indicating that another user invited the viewer to this board"),{linkToUser:r})}function f({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:r,isCompact:o}){const a=Object(b.c)(),{name:c,url:u}=e,p=Object(d.jsx)(l.f,{marginTop:0,marginBottom:1,children:Object(d.jsx)(l.v,{accessibilityLevel:2,size:"sm",truncate:!0,children:c})}),f=r?Object(d.jsx)(l.bb,{size:"md",truncate:!0,children:a._("You’ve joined","boardRep.invite.invitationAcceptedText","Text shown after accepting collaborator board invitations")}):Object(d.jsx)(l.bb,{size:"md",children:m(n.invited_by_user,a)});return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(l.f,{alignItems:"start",display:"flex",padding:2,children:[Object(d.jsx)(l.f,{alignItems:"start",direction:"column",display:"flex",flex:"grow",overflow:"hidden",children:Object(d.jsxs)(l.f,{width:"100%",children:[Object(d.jsx)(h.a,{to:u,children:p}),f]})}),Object(d.jsx)(l.f,{marginStart:2,children:Object(d.jsx)(s.a,{board:e,forceViewer:!0,isCompact:o,ownerOnly:!r})})]}),r?Object(d.jsx)(l.f,{direction:"row",display:"flex",paddingX:2,children:Object(d.jsx)(l.f,{flex:"grow",marginBottom:3,paddingX:1,children:Object(d.jsx)(h.a,{to:u,children:Object(d.jsx)(l.g,{fullWidth:!0,size:"lg",text:a._("See board","boardRep.invite.seeBoardButton","Button text to see board after accepting collaborator invite")})})})}):Object(d.jsxs)(l.f,{direction:"row",display:"flex",wrap:!0,flex:"grow",children:[Object(d.jsx)(l.f,{marginBottom:3,paddingX:1,flex:"grow",children:Object(d.jsx)(l.g,{fullWidth:!0,onClick:()=>{t(!1)},size:"lg",text:a._("Decline","boardRep.invite.declineButton","Button text to decline board collaborator invite or request")})}),Object(d.jsx)(l.f,{marginBottom:3,paddingX:1,flex:"grow",children:Object(d.jsx)(l.g,{fullWidth:!0,color:"red",onClick:()=>{t(!0)},size:"lg",text:a._("Accept","boardRep.invite.acceptButton","Button text to accept board collaborator invite or request")})})]})]})}function g({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r,isOwnProfile:o,subtitle:a}){return n?Object(d.jsx)(f,{board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r}):Object(d.jsx)(u,{board:e,isCompact:r,isOwnProfile:o,subtitle:a})}var j=n("v/Q4"),y=n("QAzJ");const O=()=>{},x=e=>{const t=e.split("/");return t[t.length-1].split(".")[0]};function v({board:e,canEdit:t,handleInviteResponse:n=O,images:s,invite:c,isActive:u,isBoardInviteAccepted:p=!1,isOwnProfile:m,isUserBlocked:f,layout:v,onEditClick:_=O,progress:w,subtitle:S,toastImageUrl:C}){var T,I,E,k,P,R,L;const A=Object(b.c)(),{cover_images:D,cover_pin:B,has_custom_cover:N,url:M}=e,F=Object(j.a)(),U=Object(a.a)({board:e,viewer:F}),z=Object(y.b)("web_board_sensitivity_screen"),H=!U&&z().anyEnabled,q=!(null===(T=e.sensitivity_screen)||void 0===T||!T.show_warning)&&H,G=null!==(I=B&&B.crop&&B.image_size&&{x:B.crop[0],y:B.crop[1],width:B.image_size[0],height:B.image_size[1]})&&void 0!==I?I:{x:0,y:0,width:0,height:0};let W=null!=B&&B.image_url||null!==(E=D["222x"])&&void 0!==E&&E.url?{isCustom:N,position:G,url:null!==(k=null===(P=D["222x"])||void 0===P?void 0:P.url)&&void 0!==k?k:null==B?void 0:B.image_url}:void 0;const V=null!==(R=s["170x"])&&void 0!==R?R:[];let K=[];if(W){var Y,X,$;const e=null!==(Y=null!==(X=(null===($=D["222x"])||void 0===$?void 0:$.url)&&x(D["222x"].url))&&void 0!==X?X:null==B?void 0:B.image_signature)&&void 0!==Y?Y:(null==B?void 0:B.image_url)&&x(B.image_url);K=V.filter(t=>{var n;return!(null!==(n=t.url)&&void 0!==n?n:"").includes(e)})}else K=V,c&&"square"!==v&&V.length&&(W={isCustom:N,position:G,url:V[0].url},K=V.slice(1));const Q=t?Object(d.jsx)(l.x,{accessibilityLabel:A._("Edit"),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>_(e),size:"sm"}):null,Z="list"!==v?Object(d.jsx)(l.f,{"aria-hidden":"true",children:Object(d.jsx)(r.a,{boardThumbs:K,cover:W,editButton:Q,isActive:u,isSecret:Object(o.a)(e),layout:v,sensitivityScreenAuxData:{board_id:e.id,reason:(null===(L=e.sensitivity_screen)||void 0===L?void 0:L.reason)||""},showSensitivityScreen:q})}):null;return Object(d.jsxs)(i.Fragment,{children:[c?Object(d.jsx)(h.a,{to:M,children:Z}):Z,Object(d.jsx)(g,{board:e,handleInviteResponse:n,invite:c,isBoardInviteAccepted:p,isCompact:"square"===v,isOwnProfile:m,subtitle:S})]})}},"0Xtd":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},r=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,n)=>!!(e&&e.isAuth&&(t===e.id||n&&n.id&&n.id!==e.id))},"0cRR":function(e,t,n){const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchTabBar_searchfeedTabs",selections:[{alias:null,args:null,concreteType:"SearchfeedTab",kind:"LinkedField",name:"tabs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabType",storageKey:null}],storageKey:null}],type:"SearchfeedTabs",abstractKey:null,hash:"ac3d920ab9e201173344c00f536d0a8d"};e.exports=i},"0kFJ":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("c4Fo"),o=n("n6mq"),a=n("nKUr");class s extends i.Component{constructor(...e){var t,n,i;super(...e),i={paused:!1,showPulsar:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;const{display_data:e}=this.experience;e.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const{anchor:e}=this.props,{paused:t}=this.state;if(!e)return null;const n=e.getBoundingClientRect(),{height:i,width:r}=n,s=-(68+i/2),c=-(68-r/2);return Object(a.jsx)(o.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:1,marginTop:s,marginLeft:c,cursor:"pointer",pointerEvents:"none"}},children:Object(a.jsx)(o.M,{paused:t})})}renderFlyout(e){const{anchor:t,flyoutSize:n,idealDirection:i,textOverflow:r}=this.props;return Object(a.jsx)(o.L,{anchor:t,color:"blue",idealDirection:i||"down",onDismiss:()=>{},shouldFocus:!1,showCaret:!0,size:n,children:Object(a.jsx)(o.f,{column:12,padding:3,children:Object(a.jsx)(o.bb,{color:"white",overflow:r,weight:"bold",children:e})})})}render(){const{experienceIds:e,placementId:t,shouldTimeoutDismiss:n}=this.props,{showPulsar:i}=this.state;return Object(a.jsx)(r.a,{experienceIds:e,placementId:t,type:8,children:e=>{const{complete:t,dismiss:r,display_data:s}=e;return this.experience=e,s.has_pulsar||s.has_tooltip?(n&&s.disappearTime&&s.disappearTime>0&&(this.timer=setTimeout(()=>(r(),null),s.disappearTime)),Object(a.jsxs)(o.f,{dangerouslySetInlineStyle:{__style:{zIndex:10}},children:[i&&this.renderPulsar(),s.has_tooltip&&(!s.has_pulsar||this.state.paused)&&this.renderFlyout(s.text)]})):(t(),null)}})}}},"0nTG":function(e,t,n){n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return j}));var i=n("mwIZ"),r=n.n(i),o=n("6/Sz"),a=n("uhAL");const s=e=>!!e&&(e.shopping_flags||[]).includes(2),c=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},l=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,h=e=>e.is_stale_product,p=e=>u(e)||h(e),b=e=>{const t=r()(e,"link_domain.official_user.full_name");if(t)return t;const n=r()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=r()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},m=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function f(e,t={}){var n,i,r,s,c,l;const d=m(e),u={...t.commerce_data};d.includes(2)&&(u.pin_is_shop_the_look=!0),d.includes(1)&&(u.is_available=!0),d.includes(5)&&(u.is_product_pin_v2=!0),d.includes(6)&&(u.is_rich_product_pin=!0),d.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&Object(a.c)(e.visual_objects)||[]).some(e=>!0===e.is_stela)&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=Object(o.a)(e);var h;if(t)u.image_count=null===(h=t.carousel_slots)||void 0===h?void 0:h.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(r=i[0])&&void 0!==r&&r.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(c=s.products)&&void 0!==c&&null!==(l=c[0])&&void 0!==l&&l.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function g(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const j=(e,t={})=>{if(e){return g(f(e,t))}return null}},"0rqB":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("clxp"),o=n("n6mq"),a=n("nKUr");function s({children:e,group:t,isEligible:n,name:i,performsActivate:r}){let s=r?"#0f0":"#00f";return n||(s="#999"),Object(a.jsxs)(o.f,{position:"relative",children:[e,Object(a.jsx)(o.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+s,borderRadius:5}}}),Object(a.jsxs)(o.f,{position:"absolute",top:!0,left:!0,color:"lightGray",children:[i,": ",t]})]})}var c=n("NVsV");const l=Object(i.memo)(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:o,group:c,overrideGroup:l=null,highlighted:d=!1,children:u})=>{Object(i.useEffect)(()=>{e&&n&&t&&t(o)},[]);const h=()=>"string"==typeof l?l:c,p=h(),b=`Experiment(${o}:${p})`,m=n&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,f={group:n?p:"",anyEnabled:m,customActivate:n&&!e?()=>n?t(o):"":null};return(t=>{const i=h();return d?Object(a.jsx)(s,{group:i,isEligible:n,name:o,performsActivate:e,children:t}):t})(Object(a.jsx)(r.a,{name:b,children:u(f)}))});function d(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:r,highlightedExperiment:o,setExperimentVisible:s}=Object(i.useContext)(c.c),d=n&&r&&"string"==typeof r[t]?r[t]:null,u=n&&(o===t||o===c.a);return Object(i.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),Object(a.jsx)(l,{...e,overrideGroup:d,highlighted:u})}},"0rqM":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("TgLd"),r=n("yweb"),o=n("n6mq"),a=n("nKUr");function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:n,message:s,onCancel:c,onConfirm:l}){const d=Object(r.c)(),u=n||d._("Are you sure?"),h=e||d._("Cancel");return Object(a.jsx)(i.b,{accessibilityModalLabel:u,footer:Object(a.jsxs)(o.f,{marginEnd:-1,marginStart:-1,children:[Object(a.jsx)(o.f,{"data-test-id":"cancel-button",padding:1,children:Object(a.jsx)(o.g,{fullWidth:!0,onClick:c,size:"lg",text:h})}),Object(a.jsx)(o.f,{"data-test-id":"confirm-button",padding:1,children:Object(a.jsx)(o.g,{fullWidth:!0,color:"red",onClick:l,size:"lg",text:t})})]}),heading:u,onDismiss:c,role:"alertdialog",children:Object(a.jsx)(o.f,{padding:4,children:Object(a.jsx)(o.bb,{children:s})})})}},"15Oi":function(e,t,n){n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var i=n("q1tI"),r=n("GI6b"),o=n("EC67"),a=n("RNo4");const s=["filters","category","domains","price_min","price_max"],c={query:"",queryParamStrings:{}};function l(e){const[t,n]=Object(i.useState)(c),{action:l}=Object(o.h)();return Object(i.useEffect)(()=>{["PUSH","POP"].includes(l)&&n(c)},[l]),{getFullUrlForTab:Object(i.useCallback)(({currentQueryParamString:i,currentTabIndex:o,incomingTabIndex:c,baseUrl:l})=>{n(t=>({query:t.query||e,queryParamStrings:{...t.queryParamStrings,[o]:i}}));const d=t.queryParamStrings[c];return Object(r.a)(l,Object(a.k)(d||Object(a.l)(i,s)))},[e,t])}}const d={explore:{href:"/search/pins/",loggingData:{element:11733},name:"explore",scope:"pins"},shop:{href:"/search/buyable_pins/",loggingData:{element:11734},name:"shop",scope:"buyable_pins"},profiles:{href:"/search/users/",loggingData:{element:12447},name:"profiles",scope:"users"}};function u(e){return(null==e?void 0:e.map(e=>({...d[e.tab_type],text:e.name})))||[]}function h(e,t){return e.findIndex(e=>e.scope===t)}},"1F5s":function(e,t,n){const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchNagWithCheckGQL_searchUsersConnection",selections:[{alias:null,args:null,concreteType:"SearchNag",kind:"LinkedField",name:"searchNag",plural:!1,selections:[{alias:null,args:null,concreteType:"Nag",kind:"LinkedField",name:"nag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"messages",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],storageKey:null}],type:"V3SearchUsersDataConnection",abstractKey:null,hash:"43026e0f1eb867eab4ba297e996ccebe"};e.exports=i},"1Fta":function(e,t,n){n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var i=n("kmwA"),r=n("eqXv"),o=n("pSsd");const a=e=>e.length>32?e.substring(0,32).trim()+"...":e;function s(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function l(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:r,makeNavigateLink:o,pinner:s,promoter:c,recommendationReason:l,sourceInterest:d})=>{switch(r){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:r,url:u}=l.board,h=o("navigation",u,r);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:h});case"topic":const{name:p,url_name:b}=d,m=o("topicUrl","/topics/"+b,p);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:m});case"followed":const f="/"+s.username,g=o("boardUrl",i.url,a(i.name)),j=o("pinnerUrl",f,a(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:j}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:g});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=c,r=o("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:r})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:r,recommendation_reason:o},pinner:a}){const s=t&&t.type;return i&&!r?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:r,complaintReason:o,throughId:a,throughProperties:s,clientTrackingParams:c})=>{const l="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:o||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:r||1,promoted:l,...a?{through_id:a}:{},...s?{through_properties:s}:{},...c?{client_tracking_params:c}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:r,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,c=r("topicUrl","/topics/"+a,i,!0),l=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:o.a},title:"",subTitle:l}}}else if("followed"===i&&n&&a){const{id:i,name:o,url:s}=n||{},{explicitly_followed_by_me:c,full_name:l,username:d}=a,u="/"+d,h=r("boardUrl",s,o,!0),p=r("pinnerUrl",u,l,!0);let b=c?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:p,formattedBoard:h}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:h});return b=c?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:p}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:h}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:b}}return null}});const d=(e,t,n,i,o,a,s)=>()=>{const c={...e,undo:!0};let l=t;"unfollowPinner"===t?l="followPinner":"unfollowBoard"===t?l="followBoard":"unfollowTopic"===t&&(l="followTopic"),Object(r.a)(l,c),a(n),s(101,{component:0,element:11181,view:i,viewParameter:o})}},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1Nkp":function(e,t,n){var i=n("kmwA"),r=n("28DW");const o={scope:"profile email",client_id:i.a.settings.GPLUS_CLIENT_ID,app_package_name:i.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>(Object(r.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(r.a)("unauth_web.init_google.sdk."+e)};t.a=(e=o)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>a(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>a(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"1Vso":function(e,t,n){var i=n("7pfs"),r=n("nKUr");t.a=e=>{const{accessibilityLabel:t,children:n,className:o,dataTestId:a,onClick:s,onMouseEnter:c,onMouseLeave:l,style:d}=e;return Object(r.jsx)(i.a,{children:({active:e,focused:i,hovered:u,onBlur:h,onFocus:p,onMouseDown:b,onMouseEnter:m,onMouseLeave:f,onMouseUp:g})=>Object(r.jsx)("button",{"data-test-id":a,"aria-label":t,style:d,onBlur:h,onFocus:p,onMouseDown:b,onMouseEnter:e=>{m(),c&&c(e)},onMouseLeave:e=>{f(),l&&l(e)},onMouseUp:g,onClick:s,className:o,children:n({active:e,focused:i,hovered:u})})})}},"1YNZ":function(e,t,n){var i=n("q1tI"),r=n("c4Fo"),o=n("M1Uz"),a=n("U4JR"),s=n("nKUr");var c=e=>Object(s.jsx)(r.a,{experienceIds:e.experienceIds,placementId:e.placementId,type:10,children:({complete:t,dismiss:n,display_data:i})=>{const r=i.link||e.linkUrl;return Object(s.jsx)(o.a,{duration:i.duration,href:r,text:i.text,onClick:()=>{t(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&Object(a.b)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?t():n()}})}}),l=n("nGHF");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends i.Component{constructor(...e){super(...e),d(this,"componentDidMount",()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast(({onHide:e})=>Object(s.jsx)(c,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1}))}render(){return null}}d(h,"defaultProps",{completionOnDismissal:!1});t.a=Object(l.c)(h)},"1inl":function(e,t,n){var i=n("Te9D"),r=n.n(i);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const i=r()(e);return o.showHtmlError(i,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)},t.a=o},"1unC":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("nKUr");function r({children:e,fullWidth:t}){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto",...t?{width:"100%"}:{}},children:e})}function o({children:e,enabled:t}){return t?Object(i.jsx)(r,{children:e}):e}},"20LM":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("7Ve8"),r=n("Awfv"),o=n("w70y"),a=n("5f3z");function s(){const{autoCorrectionDisabled:e,bubbleId:t,category:n,currentlyAppliedFiltersParamTerm:s,domains:c,inGlobalSearch:l,personalizationPinSig:d,priceMax:u,priceMin:h,query:p,rs:b,scope:m,shouldUseGraphQL:f,user:g}=Object(r.b)();let j={...Object(a.a)({autoCorrectionDisabled:e,appliedProductFilters:Object(i.b)({category:n,domains:c,minPrice:h,maxPrice:u}),bubbleId:t,filters:s,selectedPinImgSig:d,query:p,rs:b,scope:m,user:g}),dangerouslyDisableFetch:f};return l&&(j={...Object(a.a)({autoCorrectionDisabled:e,filters:s,selectedPinImgSig:d,query:p,scope:m}),dangerouslyDisableFetch:f}),Object(o.a)(j)}},"2If1":function(e,t,n){function i(e=300,t=16,n=2){let i=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let r=n;r<t+1;r+=1){i+=`\n@media (min-width: ${r===n?0:(r-1)*e}px) and (max-width: ${r*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${r}),\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${r}) !important;\n  }\n}\n`}return i}n.d(t,"a",(function(){return i}))},"2QTt":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var i=n("K+2c"),r=n("n6mq"),o=n("nKUr");function a({items:e,itemWidth:t,itemPadding:n,numRows:r=1,shouldUseLastItemForAction:o}){const[a,s]=Object(i.a)(),c=Math.floor(a/(t+n/1.5))*r||r,l=e.slice(0,c);let d;return o&&(d=c>e.length?e[Math.floor(e.length/2)]:l.pop()),{containerRef:s,itemsToRender:l,actionItem:d}}const s={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function c({children:e,itemPadding:t,containerRef:n,numRows:i=1,rowAlignment:a="center"}){const c=s[a];return Object(o.jsx)(r.f,{ref:n,width:"100%",children:Object(o.jsx)(r.u,{alignItems:"center",justifyContent:c.outer,children:Object(o.jsx)(r.u,{justifyContent:c.inner,gap:Math.floor(t/4),wrap:i>1,children:e})})})}},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const r=i.indexOf(t);if(r>=0)for(let o=r+1;o<i.length;o+=1){const t=e[i[o]];if(t)return t}return e["236x"]}},"2Y2E":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),r=n("OQKm"),o=n("nKUr");function a({board:e,children:t}){const[n,a]=Object(i.useState)(!1);return Object(o.jsxs)(i.Fragment,{children:[t(()=>a(!0)),n&&Object(o.jsx)(r.a,{board:e,onDismiss:()=>a(!1)})]})}},"2eop":function(e,t,n){const i={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"debD"},o={defaultValue:null,kind:"LocalArgument",name:"query"}],kind:"Fragment",metadata:null,name:"UserSearchQuery",selections:[{args:null,kind:"FragmentSpread",name:"UserSearchPagination_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,r],kind:"Operation",name:"UserSearchQuery",selections:[{alias:null,args:[{kind:"Variable",name:"debD",variableName:"debD"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:null,kind:"LinkedField",name:"v3SearchUsersQuery",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Literal",name:"first",value:50}],concreteType:"V3SearchUsersDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3SearchUsersDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'recentPinImages(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[l={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null},b={alias:null,args:null,concreteType:"TextTagMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinBlockId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinPageId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auxData",storageKey:null},d,c],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[c,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[l,d,b,u,h,p],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:[c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SearchfeedTabs",kind:"LinkedField",name:"searchfeedTabs",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchfeedTab",kind:"LinkedField",name:"tabs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SearchNag",kind:"LinkedField",name:"searchNag",plural:!1,selections:[{alias:null,args:null,concreteType:"Nag",kind:"LinkedField",name:"nag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"messages",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:50)"},{alias:null,args:s,filters:null,handle:"connection",key:"UserSearchPagination_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3SearchUsersDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3SearchUsers",abstractKey:null}],storageKey:null}]},params:{cacheID:"0fa4f10acab5d7d1774ce7c71c24eddc",id:null,metadata:{},name:"UserSearchQuery",operationKind:"query",text:'query UserSearchQuery(\n  $query: String!\n  $debD: String\n) {\n  ...UserSearchPagination_query\n}\n\nfragment SearchContainer_searchUsersConnection on V3SearchUsersDataConnection {\n  searchfeedTabs {\n    ...SearchTabBar_searchfeedTabs\n  }\n  sensitivity {\n    ...SearchSensitiveContentNotice_sensitivity\n  }\n  ...SearchNagWithCheckGQL_searchUsersConnection\n  ...SearchDebugInfo_searchUsersConnection\n}\n\nfragment SearchDebugInfo_searchUsersConnection on V3SearchUsersDataConnection {\n  debugData\n}\n\nfragment SearchNagWithCheckGQL_searchUsersConnection on V3SearchUsersDataConnection {\n  searchNag {\n    nag {\n      messages\n    }\n  }\n  sensitivity {\n    advisory\n    notices {\n      title\n    }\n    severity\n  }\n}\n\nfragment SearchResultUsersList on User {\n  imageMediumUrl\n  entityId\n  explicitlyFollowedByMe\n  followerCount\n  fullName\n  isVerifiedMerchant\n  recentPinImages(spec: "222x") {\n    height\n    width\n    url\n    dominantColor\n  }\n  username\n  verifiedIdentity {\n    verified\n  }\n}\n\nfragment SearchSensitiveContentNotice_sensitivity on Sensitivity {\n  advisory\n  severity\n  notices {\n    description {\n      text\n      textTags {\n        length\n        link\n        objectId\n        offset\n        tagType\n        metadata {\n          storyPinBlockId\n          storyPinPageId\n        }\n      }\n    }\n    style\n    title\n    footer {\n      link\n      text\n    }\n    actions {\n      button {\n        auxData\n        link\n        text\n      }\n      description {\n        text\n        textTags {\n          length\n          link\n          metadata {\n            storyPinBlockId\n            storyPinPageId\n          }\n          objectId\n          offset\n          tagType\n        }\n      }\n      title {\n        text\n      }\n    }\n  }\n}\n\nfragment SearchTabBar_searchfeedTabs on SearchfeedTabs {\n  tabs {\n    name\n    tabType\n  }\n}\n\nfragment UserSearchPagination_query on Query {\n  v3SearchUsersQuery(query: $query, debD: $debD) {\n    __typename\n    ... on V3SearchUsers {\n      data {\n        __typename\n        ... on V3SearchUsersDataConnectionContainer {\n          connection(first: 50) {\n            edges {\n              node {\n                ...SearchResultUsersList\n                id\n                __typename\n              }\n              cursor\n            }\n            sensitivity {\n              advisory\n              severity\n            }\n            ...SearchContainer_searchUsersConnection\n            pageInfo {\n              endCursor\n              hasNextPage\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'}};var r,o,a,s,c,l,d,u,h,p,b;i.hash="9ee26526e5c98f6f0204f95b2c6f7846",e.exports=i},"2i+x":function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{const{thumbnail:t,url:n,width:i,height:r,duration:o}=e||{};return t&&n&&i&&r&&{thumbnail:t,url:n,width:i,height:r,duration:o}||void 0}},"2mcs":function(e,t,n){var i=n("ohE5");e.exports=i},"2qKt":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("Y+p1"),a=n.n(o),s=n("Vzit"),c=n("vh5K"),l=n("pLLR"),d=n("ANjH"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>o=>{const b=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...p,...n};const m=function(e,t,n=!0,r=!0,o=!1,l){var d,p;return p=d=class extends i.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:r,experience:o}=this.props;let c=i.extraContext,l=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,i.extraContext||{}),l=t(this.props,this.state.extraContext||{})),l&&Object.keys(l).length>0&&!a()(c,l)&&r(Object(s.c)(e,l)),!o||n.experience&&o.id===n.experience.id||r(Object(s.k)(e,l))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.m)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},r=o&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n(Object(s.l)(e,i,r))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[o?"advertiserExperience":"experience"]:Object(c.e)(e)?e:null};return Object(u.jsx)(l,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},h(d,"displayName",`withPlacement(${l.displayName||l.name||"Component"})`),p}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,o);return Object(d.compose)(l.e,Object(r.connect)(b))(m)}},"2xqg":function(e,t,n){var i=n("UNi/"),r=n("EwQA"),o=n("Sxd8"),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>9007199254740991)return[];var n=a,c=s(e,a);t=r(t),e-=a;for(var l=i(c,t);++n<e;)t(n);return l}},"37no":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("7w6Q");const r=.01,o=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function a(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)})}function s(e,t=o.OTHER,n=!1){const a=n?"web":"mweb";return new Promise((n,s)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===o.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${a}.loadScript.gplus_one.tries_${e}`,r))},100)}else if(t===o.FACEBOOK)if(window.FB)n();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${a}.loadScript.facebook.tries_${e}`,r))},100)}else if(t===o.GSI)if(window.google)n();else{const t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${a}.loadScript.gsi.tries_${e}`,r))},100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",s),document.getElementsByTagName("head")[0].appendChild(t)}})}},"3Pf9":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const i=348,r=7,o=4},"3R0Q":function(e,t,n){t.a=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{const r=i?`${e}_${i+1}`:e;n={...n,[r]:t}})}),n}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"3j7w":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI");class r extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=()=>{const{isAtEnd:e,isFetching:t,fetchMore:n,scrollBuffer:i,scrollHeight:r,scrollTop:o}=this.props;e||t||o+i>r&&n()},(n="check")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("4Utz"),r=n("n6mq"),o=n("nKUr");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(o.jsx)(r.f,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{var s,c,l,d;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},h=Object(o.jsx)(r.y,{alt:"",fit:"cover",naturalHeight:null!==(c=u.height)&&void 0!==c?c:1,naturalWidth:null!==(l=u.width)&&void 0!==l?l:1,src:null!==(d=u.url)&&void 0!==d?d:""});return Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(o.jsx)(r.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(o.jsx)(r.D,{height:"100%",wash:!0,width:"100%",children:t?Object(o.jsx)(i.a,{sizing:"fullSize",collageChipId:n.id,pin:e,children:h}):h})})})},n.id)})})}},"4+TC":function(e,t,n){var i=n("q1tI"),r=n("TSYQ"),o=n.n(r),a=n("juJw"),s=n("qD10"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:r,type:c,url:u}=this.props;if(r&&t)return null;const h="boardless"===c?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let p,b;if(!n||e||r){const e=r?Object(d.jsx)(l.bb,{color:"white",size:"lg",weight:"bold",children:h.length<=20?h:Object(a.a)(h,20)}):Object(d.jsx)(l.v,{color:"white",size:"sm",truncate:!0,children:h});p=u?Object(d.jsx)(s.a,{to:u,children:e}):e}else p=Object(d.jsx)(l.bb,{color:"white",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(b=e?"board":"saved"),Object(d.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:r?14:void 0,paddingRight:r?14:void 0},className:r?o()("Lego__SavedPin",b):o()("SavedAnimation",b),children:p})}}t.a=function(e){const t=Object(c.c)();return Object(d.jsx)(u,{...e,i18n:t})}},"4/ic":function(e,t,n){var i=n("ZWtO");e.exports=function(e){return function(t){return i(t,e)}}},"40R+":function(e,t,n){},"4UDn":function(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var i=n("q1tI"),r=n.n(i),o=n("gLeT"),a=n("EC51"),s=n("MKeS"),c=n("AAEI"),l=n("yweb"),d=n("qALL"),u=n("/wSi"),h=n("n6mq"),p=n("nKUr"),b=n.n(p);const m=Object(s.a)({resolved:{},chunkName:()=>"video-VideoWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(null,"BEAQ")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"BEAQ"}}),f=Object.freeze({white:"white",black:"darkGray"}),g={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function j({titleText:e,videoPin:t,videoPlaceholderImage:n}){const i=Object(l.c)();return Object(p.jsx)(m,{fallback:Object(p.jsx)(h.y,{alt:e||"",color:"rgb(111, 91, 77)",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail,fit:"cover"}),accessibilityMaximizeLabel:i._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:i._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:i._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:i._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:i._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:i._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:u.a,captions:"",controls:!1,loop:!0,playing:!0,playsInline:!0,poster:n||t.metadata.thumbnail,src:t.url,volume:0})}function y({buttonAction:e,buttonCustomization:t,buttonText:n,experienceId:r,hideCompleteButton:s,imageAlt:l,imageUrl:b,placementId:m,storyType:f,titleColor:y,titleText:O,titleTextCustomization:x,videoPin:v,videoPlaceholderImage:_}){const[w,S]=Object(i.useState)(!1),C=Object(c.a)();Object(i.useEffect)(()=>{"number"==typeof r&&"number"==typeof m&&C.viewExperience(m,r,!0)},[]);const T=()=>{"number"==typeof r&&"number"==typeof m&&C.completeExperience(m,r,!1,!0)},I=()=>{S(!0)},E=()=>{S(!1)},k="feed_card_video"===f?354:315,P=Object(u.c)(f),R=P?d.d:d.c,L=P?d.a:d.b,A=!P,{color:D,fontSize:B,fontStyle:N,fontWeight:M,horizontalAlignment:F}=Object(u.b)(x||{},"web"),{button_background_color:U,button_text_color:z}=t||{};return Object(p.jsxs)(h.f,{position:"relative",children:[Object(p.jsx)("div",{onMouseEnter:I,onMouseLeave:E,children:Object(p.jsxs)(a.a,{accessibilityLabel:O,href:e,onClick:T,onFocus:I,onBlur:E,hoverStyle:"none",children:[Object(p.jsxs)(h.f,{position:"relative",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:4,children:[Object(p.jsx)(h.f,{height:k,width:236,rounding:4,children:"feed_card_video"===f&&v?Object(p.jsx)(j,{titleText:O,videoPin:v,videoPlaceholderImage:_}):b&&Object(p.jsx)(h.y,{alt:l||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:b,fit:"cover"})}),A&&Object(p.jsx)(h.f,{height:k,width:236,dangerouslySetInlineStyle:{__style:w?g.hoverOverlay:g.defaultOverlay},position:"absolute",top:!0,left:!0}),Object(p.jsx)(R,{children:Object(p.jsx)(h.bb,{align:F,color:y,italic:"italics"===N,weight:M,children:Object(p.jsx)("div",{style:{color:D,fontSize:B},children:O})})})]}),!s&&P&&Object(p.jsx)(L,{children:Object(p.jsx)(h.f,{display:"flex",rounding:"pill",color:"white",dangerouslySetInlineStyle:{__style:{backgroundColor:U}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:Object(p.jsx)(h.bb,{weight:"bold",children:Object(p.jsx)("div",{style:{color:z},children:n})})})})]})}),!P&&Object(p.jsx)(L,{children:Object(p.jsx)(o.a,{accessibilityLabel:n,color:"gray",fullWidth:!0,href:e,onClick:T,size:"lg",text:n})})]})}},"4Utz":function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("gqRH"),r=n("0nTG"),o=n("OkGA"),a=n("QLqj"),s=n("n6mq"),c=n("U4JR"),l=n("QAzJ"),d=n("gD/Z"),u=n("nKUr");function h({sizing:e="default",children:t,collageChipId:n,componentType:h,contextLogData:p,elementType:b,pin:m,viewParameter:f,viewType:g}){const j=Object(d.b)(),{group:y}=Object(l.b)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:O,id:x}=m;let v,_=`/pin/${n||x}/`;if(O){const{carousel_slots:e=[],id:t,index:n=0}=O;_=`/pin/${x}/`,v={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}v={...v||{},...Object(r.f)(m,p)||{}};const w=Object(i.b)({href:_,externalData:{auxData:v,pin:m}});return Object(u.jsx)(s.ab,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,disableOnNavigation:t})=>{t(),(()=>{if(Object(c.b)(101,{...p,component:h||j.componentType,element:b,objectId:x,view:g||j.viewType,viewParameter:f||j.viewParameter,...Object(r.f)(m,p)||{}}),Object(c.b)(8948,{closeup_navigation_type:"click",view:g||j.viewType,viewParameter:f||j.viewParameter,component:h||j.componentType,element:b,objectId:x,...p,...Object(r.f)(m,p)||{}}),y){const e=Number(a.d.getItem(o.b)||0);a.d.setItem(o.b,e+1)}})(),w({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:_,role:"link",children:t})}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));var i=n("q1tI"),r=n("dKiF");const o=Object(r.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:r})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:r})),a={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=Object(i.createContext)(a)},"4cpq":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{children:t,display:n,id:o}=e;return Object(r.jsx)(i.f,{"data-test-id":o,display:n,children:t})}},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),r=n("Jr++");let o;void 0===o&&(o=e),o._gaq=o._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];o._gaq.push(["_setAccount",n]),o._gaq.push(e)}},c=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},l=2,d=3,u={};u.init=function(e,t){c(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",l])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:r}){c(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):r&&r.id?s(["_setCustomVar",1,"viewingUser",r.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const h=function(e,t){let n=e;const o=Object(r.a)(t).q;return o&&(n+="?"+Object(i.a)({q:o})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",h(o.location.pathname,o.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,r){s(["_trackEvent",e,t,n,i,r])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4jWr":function(e,t,n){n.d(t,"a",(function(){return i}));const i=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},"4sDh":function(e,t,n){var i=n("4uTw"),r=n("03A+"),o=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,d=(t=i(t,e)).length,u=!1;++l<d;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(o(e)||r(e))}},"5+ob":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},5871:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("4cpq"),a=n("n6mq"),s=n("nKUr");function c({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:r}){return Object(s.jsxs)(a.f,{display:"flex",children:[Object(s.jsx)(o.a,{id:"ad-reason-icon",children:Object(s.jsx)(a.K,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),Object(s.jsx)(a.f,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:Object(s.jsx)(a.bb,{children:r})}),i&&n&&Object(s.jsx)(a.u,{direction:"column",justifyContent:"center",children:Object(s.jsx)(a.w,{accessibilityLabel:n,color:"darkGray",icon:"arrow-forward"})})]})}var l=n("EC51"),d=n("TgLd"),u=n("TNox"),h=n("kmwA"),p=n("yweb"),b=n("vvax"),m=n("U4JR");const{ACCOUNT_SETTINGS:f,CANONICAL_MAIN_URL:g,HELP_BLOCKING:j,HELP_PROMOTED_PINS_URL:y}=h.a.settings;function O({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:r,isBehaviorTargetingMatched:h,isCustomerListMatched:O,isGeoPostalCodeMatched:x,isGeoRegionMatched:v,isShoppingTargetingRematched:_}){const w=Object(p.c)();return Object(s.jsx)(d.b,{accessibilityModalLabel:w._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:Object(s.jsxs)(a.f,{paddingX:8,paddingY:6,children:[Object(s.jsxs)(a.f,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[Object(s.jsx)(a.f,{position:"absolute",left:!0,children:Object(s.jsx)(a.x,{accessibilityLabel:w._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),Object(s.jsx)(a.v,{align:"center",size:"md",children:w._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),Object(s.jsxs)(a.f,{children:[Object(s.jsxs)(a.u,{direction:"column",gap:4,children:[Object(s.jsx)(a.f,{children:Object(s.jsx)(a.bb,{children:Object(b.b)(w._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:Object(s.jsx)(o.a,{id:"ad-reasons-learn-more-link",children:Object(s.jsx)(a.bb,{inline:!0,children:Object(s.jsx)(l.a,{forceTarget:!0,href:y,inline:!0,onClick:()=>{Object(m.b)(101,{component:13756,element:12057})},target:"blank",children:w._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),Object(s.jsx)(a.f,{marginBottom:4,children:Object(s.jsx)(a.bb,{children:Object(b.b)(w._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),Object(s.jsx)(o.a,{id:"ad-reasons",children:Object(s.jsxs)(a.u,{direction:"column",flex:"none",gap:4,children:[x||v?Object(s.jsx)(u.a,{href:`${g}${f}`,onTap:()=>{Object(m.b)(101,{component:13756,element:12059})},target:"blank",children:Object(s.jsx)(c,{iconAccessibilityLabel:w._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:w._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:Object(b.b)(w._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,r&&Object(s.jsx)(c,{iconAccessibilityLabel:w._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:Object(b.b)(w._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),h&&Object(s.jsx)(c,{iconAccessibilityLabel:w._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:w._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),_&&Object(s.jsx)(c,{iconAccessibilityLabel:w._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:Object(b.b)(w._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),O&&Object(s.jsx)(c,{iconAccessibilityLabel:w._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:Object(b.b)(w._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:Object(s.jsx)(a.bb,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),Object(s.jsx)(a.f,{marginBottom:1,children:Object(s.jsx)(a.bb,{children:w._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),Object(s.jsxs)(a.u,{direction:"column",gap:1,children:[Object(s.jsx)(a.f,{marginBottom:3,marginTop:3,children:Object(s.jsx)(a.q,{})}),Object(s.jsx)(a.f,{marginBottom:1,marginTop:1,children:Object(s.jsx)(a.v,{size:"sm",children:w._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),Object(s.jsx)(a.f,{marginBottom:4,children:Object(s.jsx)(a.bb,{children:Object(b.b)(w._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:Object(s.jsx)(a.bb,{inline:!0,children:Object(s.jsx)(l.a,{inline:!0,href:j,forceTarget:!0,onClick:()=>{Object(m.b)(101,{component:13756,element:12058})},target:"blank",children:w._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var x=n("w70y"),v=n("v/Q4"),_=n("pLLR");function w({pinId:e,onDismiss:t}){var n,o,a,c;const{locale:l}=Object(_.d)(),{country:d=""}=Object(v.a)(),u=Object(x.a)({name:"CountriesResource",options:{hasEmptyState:!0}}),h=Object(x.a)({name:"LocalesResource"}),p=Object(r.useSelector)(({pins:t})=>t[e]);Object(i.useEffect)(()=>{Object(m.b)(120,{component:13756})},[]);const{ad_targeting_attribution:b,promoter:f}=null!=p?p:{},{is_age_matched:g=!1,is_behavior_targeting_matched:j=!1,is_customer_list_matched:y=!1,is_geo_postal_code_matched:w=!1,is_geo_region_matched:S=!1,is_shopping_retargeting_matched:C=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter(t=>"boolean"==typeof e[t]).slice(0,t).reduce((t,n)=>({...t,[n]:e[n]}),{})}(b))&&void 0!==n?n:{},T=null!==(o=null==f?void 0:f.full_name)&&void 0!==o?o:"",I=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(a=u.data)&&void 0!==a?a:[],d),E=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(c=h.data)&&void 0!==c?c:[],l);return Object(s.jsx)(O,{brandName:T,country:I,language:E,isAgeMatched:g,isBehaviorTargetingMatched:j,isCustomerListMatched:y,isGeoPostalCodeMatched:w,isGeoRegionMatched:S,isShoppingTargetingRematched:C,onDismiss:t})}var S=n("Nle8"),C=n("E/VT"),T=n("iYS+"),I=n("qD10"),E=n("gSZa"),k=n("hFNL"),P=n("ANjH"),R=n("pSsd"),L=n("5+ob"),A=n("1Fta"),D=n("DJoW"),B=n("eqXv"),N=n("EC67");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F={color:"white",textDecorationColor:"white"};class U extends i.Component{constructor(e){super(e),M(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:r,recommendationReason:o,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:r,recommendationReason:o,sourceInterest:a})}),M(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let r,o,c;return n&&n.explicitly_followed_by_me?(r=n.image_small_url,o="50%",c="/"+n.username):e&&e.image_thumbnail_url&&(r=e.image_thumbnail_url,o="4px",c=i&&i.board&&i.board.url||e.url),r?Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{borderRadius:o}},flex:"none",marginStart:3,overflow:"hidden",children:Object(s.jsx)(a.ab,{onTap:()=>{var e;return this.props.history.push(null!==(e=c)&&void 0!==e?e:"")},children:Object(s.jsx)(a.D,{height:40,wash:!0,width:40,children:Object(s.jsx)(a.y,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})})})}):null}),M(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),M(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),M(this,"feedbackHelpers",Object(A.a)({i18n:this.props.i18n,interpolateNamedTemplate:b.b})),M(this,"makeNavigateLink",(e,t,n,i)=>{const r={display:"inline",...i?F:{}};return Object(s.jsx)(I.a,{className:"underlineLink",onClick:this.props.onLinkClick,to:t,children:Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:r},children:n})},e)}),M(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),M(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:r}=this.props,o="search"===n?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:r&&r.reason&&L.ReasonToChoose[r.reason],pinFeedbackType:"pfy"===n?4:10,throughId:r&&Object(A.d)(r),throughProperties:r&&Object(A.e)(r),clientTrackingParams:Object(S.a)(i)}),c=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:o}}),M(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:r,reason:o}=null!=i?i:{},a=o&&L.ReasonToChoose[o],s=i&&Object(A.d)(i),c=i&&Object(A.e)(i),l="pfyBoard"===t,{action:d,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:l?2:4,throughId:s,throughProperties:c,clientTrackingParams:Object(S.a)(n)}),h=r?this.makeNavigateLink("boardUrl",r.url,r.name,!0):"";return{action:d,actionOptions:u,feedbackText:{subTitle:l&&r?Object(b.b)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:l&&r?Object(b.b)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:r.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),M(this,"unfollowBoardOption",()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",r=Object(b.b)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),o=Object(b.b)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:o},text:r,description:Object(b.b)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}}),M(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,r="/topics/"+i,o=this.makeNavigateLink("topicUrl",r,n,!0),a=Object(b.b)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(b.b)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:R.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(b.b)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),M(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},r="/"+n,o=e?this.makeNavigateLink("pinnerUrl",r,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(b.b)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:o})},text:Object(b.b)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),M(this,"downloadPinOption",()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),M(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,r="followed"===this.props.feedbackType,o=e.pathname.includes("following"),a=(r||"topic"===t)&&!o,s=this.hidePinOption(a),c=this.reportPinOption(),l="promoted"!==t&&!n;switch(t){case"followed":const e=o,n=!e&&this.getRecommendationDescription(),r=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[r]:[],..."promoted"!==t?[this.downloadPinOption()]:[],c]};case"promoted":const{pinId:d,showAdReasonsModal:u}=this.props,h=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(d)}},c];return{description:this.getRecommendationDescription(),options:h};case"topic":const p=this.unfollowTopicOption(),b=[s,...a&&p?[p]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:b};case"pfy":case"pfyBoard":const m=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:m};default:const f=[s,...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:f}}}),M(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(B.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:r,onHide:o,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:c,showPinFeedbackUndo:l,viewParameter:d,viewType:u}=this.props;t&&n&&i?l(a,e,Object(A.b)(n,i,a,u,d,r,m.b),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?o():(this.setState({showSecondary:!0}),c(a))}makeStrongText(e,t){return Object(s.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:r}=this.props;Object(m.b)(101,{...t,view:r,viewParameter:i,element:e,component:Object(A.c)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:r}=this.props,{pinFeedbackConfig:c}=this.state,{options:l}=c,d=[],u=l.length;for(let h=0;h<u;h+=1){const c=l[h],u=B.b.includes(c.action),p=c.callback?c.callback:()=>this.onPinHide(c.feedbackText,u,c.actionOptions,c.action);if("downloadPin"!==c.action)d.push(Object(s.jsx)(a.f,{children:c.link?Object(s.jsx)(o.a,{id:c.dataTestId||"",children:Object(s.jsx)(I.a,{external:!0,to:c.link,children:Object(s.jsx)(T.a,{compact:!0,text:c.text})})}):Object(s.jsx)(o.a,{id:c.dataTestId||"",children:Object(s.jsx)(a.ab,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,c,p),children:Object(s.jsx)(T.a,{compact:!0,text:c.text})})})},h));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(k.b)(window)){const{bestPinImgSrc:e,pinTitle:o,pinDescription:c,pinCategory:l}=this.props;d.push(Object(s.jsx)(a.f,{children:Object(s.jsx)(C.a,{category:l,filename:o||c,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:r,viewType:i,children:e=>Object(s.jsx)(a.ab,{fullWidth:!1,onTap:e,children:Object(s.jsx)(T.a,{compact:!0,text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image")})})})},h))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{feedbackData:n,feedbackType:i,hideAdReasonsModal:r,pinId:o,onHide:c,recommendationReason:l,showAdReasons:d,viewParameter:u,viewType:h}=this.props,{description:p}=e,b=this.getRecommendationDescriptionImage();return Object(s.jsxs)(a.f,{overflow:"hidden",width:"100%",children:[t?Object(s.jsx)(E.a,{feedbackData:n,feedbackType:i,pinId:o,onHide:c,recommendationReason:l,viewParameter:u,viewType:h}):Object(s.jsxs)(a.f,{children:[p&&Object(s.jsxs)(a.f,{children:[Object(s.jsxs)(a.f,{alignItems:"center",display:"flex",padding:4,children:[Object(s.jsx)(a.f,{"data-pin-recommendation-reason":null==l?void 0:l.reason,maxHeight:56,overflow:"hidden",children:Object(s.jsx)(a.bb,{color:"darkGray",overflow:"normal",size:"md",children:p})}),b]}),Object(s.jsx)(a.q,{})]}),Object(s.jsx)(a.f,{marginBottom:3,marginTop:2,children:this.renderButtons()})]}),d&&Object(s.jsx)(w,{onDismiss:()=>r(o),pinId:o})]})}}t.a=Object(P.compose)(Object(r.connect)(null,e=>({hidePinFeedback:t=>e(Object(D.c)(t)),showPinFeedback:(t,n)=>e(Object(D.a)(t,n)),showPinFeedbackOverlay:t=>e(Object(D.f)(t)),showPinFeedbackUndo:(t,n,i,r)=>e(Object(D.g)(t,n,i,r)),showAdReasonsModal:t=>e(Object(D.e)(t)),hideAdReasonsModal:t=>e(Object(D.b)(t))})),N.l)((function(e){const t=Object(p.c)(),{ad_targeting_attribution:n,show_ad_reasons:i=!1}=Object(r.useSelector)(({pins:t})=>t[e.pinId]);return Object(s.jsx)(U,{...e,showAdReasons:i,adTargetingAttribution:n,i18n:t})}))},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("qtKf"),r=n("Pqnw"),o=n("Wer7");const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>a.reduce((t,n)=>{const a=[Object(r.a)("profileBoards",Object(i.c)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(i=>{a.push(Object(o.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))})}),t.concat(a)},[])},"5JIi":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("4dcN"),r=n("ihsa"),o=n("qxKp"),a=n("yweb"),s=n("NrS9"),c=n("n6mq"),l=n("nKUr");function d({color:e,completeButtonText:t,completeUrl:n,dismissButtonText:d,experienceId:u,external:h,message:p,onComplete:b,onDismiss:m,onRender:f}){const g=Object(a.c)();f&&f();const j=({event:e})=>{10202===u&&s.a.instance().subscribe(),b&&b(e)},y=({event:e})=>{i.a.trackEvent("nag","click_close"),m&&m(e)},O=p&&!t,x=500735===u,v=t&&(!n||x)&&Object(l.jsx)(c.g,{color:"white",onClick:j,text:t}),_=t&&n&&Object(l.jsx)(o.a,{accessibilityLabel:t,rounding:6,url:n,onClick:e=>j({event:e}),external:h,children:Object(l.jsx)(c.f,{color:"white",rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:Object(l.jsx)(c.bb,{align:"center",color:e,weight:"bold",children:t})})},"naglink"),w=d&&m&&Object(l.jsx)(c.f,{mdPaddingX:2,children:Object(l.jsx)(c.g,{color:e&&"darkGray"!==e?"transparent":"gray",onClick:y,text:d})}),S=O&&!x&&m&&Object(l.jsx)(c.x,{accessibilityLabel:g._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:y,icon:"cancel"});return Object(l.jsxs)(c.f,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[Object(l.jsx)(c.f,{column:12,smColumn:O?11:8,children:Object(l.jsxs)(c.bb,{color:"white",weight:x?"normal":"bold",children:[Object(l.jsx)(r.a,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),Object(l.jsx)("div",{className:"Banner--message",children:Object(l.jsx)("span",{dangerouslySetInnerHTML:{__html:p}})})]})}),Object(l.jsxs)(c.f,{display:"flex",alignItems:"center",justifyContent:"end",children:[w,v||_,S]})]})}},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"6/Sz":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("lNaY");function r(e,t=!0){const n=(((e||{}).rich_metadata||{}).products||[])[0]||{};return n&&n.additional_images&&n.additional_images.length>0?Object(i.a)(e.images,n,e.carousel_data&&e.carousel_data.index,t):e&&e.carousel_data}},"6Mki":function(e,t,n){(function(e){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:e}n.d(t,"a",(function(){return a}));const o="resizeanim";class a{constructor(e,t){i(this,"_window",r()),i(this,"_elementsMap",new WeakMap),i(this,"_handleScroll",e=>{const t=e.target;if(t.className&&"function"==typeof t.className.indexOf&&t.className.indexOf("contract-trigger")<0&&t.className.indexOf("expand-trigger")<0)return;const n=e.currentTarget,i=this._elementsMap.get(n);if(!i)throw new Error("No subscription on element.");this._resetTriggers(n,i.resizeTriggers),i.animationFrameId&&window.cancelAnimationFrame(i.animationFrameId),i.animationFrameId=window.requestAnimationFrame(()=>{(!i.previousDimensions||n.offsetWidth!==i.previousDimensions.width||n.offsetHeight!==i.previousDimensions.height)&&(i.previousDimensions={width:n.offsetWidth,height:n.offsetHeight},i.resizeHandlers.forEach(t=>{t.call(n,e)}))})}),this._window=e,this._nonce=t}_resetTriggers(e,t){const n=t.firstElementChild,i=t.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}_createStyles(e){if(!e.getElementById("ResizeListener")){const t=`${"@$keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } "}.resize-triggers { ${"animation: 1ms resizeanim; "} visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }`,n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="ResizeListener",i.type="text/css",null!=this._nonce&&i.setAttribute("nonce",this._nonce),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n.appendChild(i)}}addResizeListener(e,t){if(e)if(e===window)window.addEventListener("resize",t,!1);else{if(!this._elementsMap.has(e)){const t=e.ownerDocument,n=this._window.getComputedStyle(e);n&&"static"===n.position&&(e.style.position="relative"),this._createStyles(t);const i=t.createElement("div");i.className="resize-triggers",i.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(i),this._resetTriggers(e,i),e.addEventListener("scroll",this._handleScroll,!0);const r=t=>{t.animationName===o&&this._resetTriggers(e,i)};i.addEventListener("animationstart",r),this._elementsMap.set(e,{resizeTriggers:i,animationHandler:r,resizeHandlers:[]})}const n=this._elementsMap.get(e);n&&n.resizeHandlers.push(t)}}removeResizeListener(e,t){if(e)if(e===window)window.removeEventListener("resize",t,!1);else{const n=this._elementsMap.get(e);if(!n)return;n.resizeHandlers.splice(n.resizeHandlers.indexOf(t),1),0===n.resizeHandlers.length&&(e.removeEventListener("scroll",this._handleScroll,!0),n.resizeTriggers.removeEventListener("animationstart",n.animationHandler),e.removeChild(n.resizeTriggers),this._elementsMap.delete(e))}}}i(a,"sharedInstance",new a(r()))}).call(this,n("yLpj"))},"6lKZ":function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},o=e=>{if(e.isHidden){const{reason:t}=e;r.onPauseListeners.forEach(e=>e(t))}else r.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0),t.a=r},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"75Er":function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("+NLT"),o=n("m2Wt"),a=n("h4v/");function s(e,t){Object(i.useEffect)(()=>{if(e){const t=o.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(r.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),a.a.getInstance().addEvent(t)}},[t])}function c(e){const{children:t,log:n}=e;return s(n),t||null}},"7cjd":function(e,t,n){n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var i,r=n("/MKj"),o=n("hZxF"),a=n("20LM"),s=n("ZdPf"),c=n("OkGA"),l=n("U4JR"),d=n("n6mq"),u=n("+3mh"),h=n("nKUr");function p(e){function t(e){Object(l.b)(101,{view:2,element:10578,url:e})}const{messages:n,sensitivity:i}=e,a=Object(r.useSelector)(({search:e})=>e.currentSearch.query);return Object(o.a)(()=>{i&&Object(l.b)(120,{component:19,view:2,entered_query:a,advisory_details:i.advisory_details,advisory_level:i.advisory,severity_level:i.severity})}),Object(h.jsx)(d.bb,{children:Object(h.jsx)("span",{className:"searchNagContainer",dangerouslySetInnerHTML:{__html:n.join(" ")},onClick:e=>{if(e.target&&"A"===e.target.tagName){const n=e.target.getAttribute("href");n&&t(n)}},onKeyPress:e=>{if(e.target&&"A"===e.target.tagName){const n=e.target.getAttribute("href");n&&t(n)}}})})}function b(){var e,t;const{data:n}=Object(a.a)();return!n||n.typo||Object(s.c)(n.sensitivity)||null===(e=n.nag)||void 0===e||null===(t=e.messages)||void 0===t||!t.length?null:Object(h.jsx)(d.f,{paddingX:2,minHeight:c.a,color:"white",children:Object(h.jsx)(p,{messages:n.nag.messages,sensitivity:n.sensitivity})})}const m=void 0!==i?i:i=n("1F5s");function f({connectionKey:e}){var t,n,i;const r=Object(u.useFragment)(m,e);return r&&!Object(s.c)(r.sensitivity)&&null!==(t=r.searchNag)&&void 0!==t&&null!==(n=t.nag)&&void 0!==n&&null!==(i=n.messages)&&void 0!==i&&i.length?Object(h.jsx)(d.f,{paddingX:2,minHeight:c.a,color:"white",children:Object(h.jsx)(p,{messages:r.searchNag.nag.messages||[],sensitivity:r.sensitivity})}):null}},"7jH2":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return x})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return _})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return C.a})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return P})),n.d(t,"v",(function(){return R})),n.d(t,"w",(function(){return L})),n.d(t,"x",(function(){return A})),n.d(t,"y",(function(){return D})),n.d(t,"z",(function(){return N})),n.d(t,"A",(function(){return M})),n.d(t,"B",(function(){return F})),n.d(t,"C",(function(){return z}));var i=({closeupPaneWidth:e,imgSrc:t,isGif:n,pin:i})=>{const r=w(Object(C.a)({pin:i})),{image564x:o={}}=y(r)||{},{imageOrig:a={}}=x(r)||{},s=0===Object.keys(o).length?a:o,c=s.height,l=s.width,{image236x:d={}}=j(w(Object(C.a)({pin:i})))||{},u=d.url,h=Math.max(Math.min(l,e),60),p=h/l*c;return{alt:i.description,src:n?t:u,naturalHeight:p,naturalWidth:h}},r=n("Nle8");function o(e){return!e.is_promoted}var a=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function s(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var c=n("cr+I"),l=n.n(c),d=n("U4JR");function u({deepLinkBackGoesToBoard:e,goBack:t,pin:n,routePush:i,trafficSource:r,viewer:o,requestContext:a,viewType:c,viewParameterType:u,componentType:h}){Object(d.b)(101,{view:c||3,viewParameter:u||s(Object(C.a)({pin:n})),...h?{component:h}:void 0,element:34});const p="deep_linking"===r&&!e,b=o.partner?"/homefeed/":"/",{utm_source:m,news_hub_id:f}=function(e){const t=l.a.parse(e);return{utm_source:t.utm_source||null,utm_medium:t.utm_medium||null,utm_campaign:t.utm_campaign||null,news_hub_id:t.news_hub_id||null}}(a.fullPath);return""+m=="31"&&f?i("/news_hub/"+f):p?i(b):t()}var h=n("pOug");var p=Object(h.a)(e=>{const{richMetadata:t}=e,{article:n}=t,{name:i,description:r,authors:o,date_published:s}=n||{};return i?{...e,article:{name:i,description:r,authors:a(o),datePublished:s&&new Date(s)||void 0}}:null});var b=Object(h.a)(e=>{const{attribution:t}=e.pin,{author_url:n,url:i,author_name:r,title:o,provider_name:a,cc_url:s,embed:c}=t||{};return a&&i?{...e,attribution:{providerUrl:i,providerName:a,title:o,authorUrl:n,authorName:r,ccUrl:s,embed:c}}:null});var m=Object(h.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var f=Object(h.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const g=e=>t=>{const{images:n}=t,i=n[e],{url:r,width:o,height:a}=i||{};return r&&o&&a?{url:r,width:o,height:a}:null},j=Object(h.a)(e=>{const t=g("236x")(e);return t&&{...e,image236x:t}}),y=Object(h.a)(e=>{const t=g("564x")(e);return t&&{...e,image564x:t}}),O=Object(h.a)(e=>{const t=g("736x")(e);return t&&{...e,image736x:t}});var x=Object(h.a)(e=>{const{images:t}=e,n=t.orig,{url:i,width:r,height:o}=n||{};return i&&r&&o?{...e,imageOrig:{url:i,width:r,height:o}}:null});var v=Object(h.a)(e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:r}=t||{},{attribution:o={}}=b(e)||{},{embed:a={}}=o,{src:s}=a,c=i||s;return c?{...e,embed:{type:n,src:c,subtype:r}}:null});var _=Object(h.a)(e=>{const{embed:t}=v(Object(C.a)(e))||{};return!(!t||!t.src||"pinstory"===t.subtype||"gif"===t.type)?{...e,embed:{...t}}:null});var w=Object(h.a)(e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce((e,t)=>{const i=n[t],{url:r,width:o,height:a}=i;return e&&r&&o&&a?{...e,[t]:{url:r,width:o,height:a}}:null},{});return i&&Object.keys(i).length>0?{...e,images:i}:null});var S=Object(h.a)(e=>{const{products:t=null}=P(e)&&T(P(e))||{},{pin:n}=e,{tracked_link:i,link:r,method:o}=n,a=i||r,s=a&&("catalog_bulk_create"===o||!!t)?decodeURIComponent(a):a;return s?{...e,link:s}:null}),C=n("O1y+");Object(h.a)(e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:i}=n||{};return i?{...e,pinTags:i}:null});var T=Object(h.a)(e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:i}=t,{products:r}=n,o=Array.isArray(r)?r.map(e=>{const{name:t,offer_summary:n}=e,{in_stock:r,min_price:o,max_price:a,price:s}=n||{};let c=null;return void 0!==o&&void 0!==a?c=`${o} - ${a}`:void 0!==s&&(c=""+s),t?{name:t,outOfStock:!1===i||!1===r,priceText:c}:null}).filter(e=>null!==e):[];return o.length>0?{...e,products:{first:o[0],rest:o.slice(1)}}:null}),I=n("PsyL");const E=e=>{const{h:t,m:n}=e||{},i={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:i,isoDuration:Object(I.a)(i)}:null};var k=Object(h.a)(e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:i,categorized_ingredients:r,diets:o,from_aggregated_data:a,cook_times:s,servings_summary:c}=n||{},{total:l,cook:d,prep:u}=s||{},{summary:h}=c||{},p=E(u),b=E(d),m=E(l);return i?{...e,recipe:{name:i,categorizedIngredients:r,diets:o,fromAggregatedData:a,prepTime:p,cookTime:b,totalTime:m,servingSummary:h}}:null});var P=Object(h.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var R=Object(h.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var L=Object(h.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var A=Object(h.a)(e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:i,title:r,closeup_unified_title:o}=t;let a=n?o:r;if(i){const{carousel_slots:e=[],index:t}=i;e[t]&&e[t].title&&(a=e[t].title)}return a?{...e,title:a}:null});var D=Object(h.a)(e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:i,description:r,from_aggregated_data:o}=n||{};return n&&i?{...e,tutorial:{name:i,description:r,fromAggregatedData:o}}:null}),B=n("2i+x");var N=Object(h.a)(e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:o,V_HLSV3_MOBILE:a}=i,s=Object(B.a)(o),c=Object(B.a)(a),l=Object(B.a)(r),d=l||s||c;return n&&d?{...e,video:{id:n,hasVideo:d,mp4:l||void 0,hls:s||void 0,hlsv3:c||void 0}}:null});var M=Object(h.a)(e=>{const{video:t}=N(Object(C.a)(e))||{},{embed:n}=v(Object(C.a)(e))||{},i=!(!t||!(e=>{var t,n;const{hlsv3:i,hls:r}=e,o=i||r;return Boolean(!!o&&(null!==(t=o.width)&&void 0!==t?t:0)>(null!==(n=o.height)&&void 0!==n?n:0))})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:i}});function F({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var U=n("Zygf"),z=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(U.a)(e))},"7pfs":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("zyj3");function r({children:e}){return e(Object(i.a)())}},"7zq+":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Q2/A");const r=/\{\s*(\w+)\s*\}/g;var o=(e,t)=>Object(i.a)(r,e,t);function a({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return o(t,n)}},"82UD":function(e,t,n){n.d(t,"a",(function(){return O}));var i=n("q1tI"),r=n("/MKj"),o=n("T+9/"),a=n("ajUs"),s=n("ou9u"),c=n("hFNL"),l=n("qD10"),d=n("yKES"),u=n("5uyJ"),h=n("n6mq"),p=n("nKUr");const b={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,r,o;const{pin:{id:a,images:s,title:c,videos:m,video_status_message:f}}=e,g=f||{},j=s&&s["236x"],y=m&&(null===(t=m.video_list)||void 0===t?void 0:t[u.a.V_HLSV4]),{duration:O}=y||{};return Object(p.jsx)(i.Fragment,{children:Object(p.jsx)(h.j,{children:Object(p.jsxs)(l.a,{to:"/pin/"+a,children:[Object(p.jsxs)(h.f,{overflow:"hidden",position:"relative",rounding:2,children:[j&&Object(p.jsx)(h.y,{alt:c||"",color:"lightGray",naturalHeight:null!==(n=j.height)&&void 0!==n?n:1,naturalWidth:null!==(r=j.width)&&void 0!==r?r:1,src:null!==(o=j.url)&&void 0!==o?o:""}),!!O&&Object(p.jsx)(h.f,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(p.jsx)(d.a,{duration:O})}),Object(p.jsx)(h.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:b.overlay}),Object(p.jsxs)(h.f,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(p.jsx)(h.v,{color:"white",overflow:"normal",size:"sm",children:g.title}),Object(p.jsx)(h.f,{marginTop:4,children:Object(p.jsx)(h.bb,{color:"white",size:"md",overflow:"normal",children:g.subtitle})})]})]}),Object(p.jsx)(h.f,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(p.jsx)(h.f,{flex:"grow",children:c&&Object(p.jsx)(h.f,{paddingY:1,children:Object(p.jsx)(h.bb,{inline:!0,size:"md",weight:"bold",children:c})})})})]})})})}var f=n("Y8Sn"),g=n("EC67"),j=n("vpxy"),y=n("0nTG");function O({trackingParameters:e,pin:t,pinId:n,...l}){var d,u,h;const b=Object(g.i)(),O=Object(r.useSelector)(({pins:e})=>e[n])||t,x=Object(a.a)(O,b),v=Object(s.a)(O),_=!!(v&&v.url&&v.height&&v.width)||void 0,w=v&&O.videos?O.videos.id:void 0,[S,C]=Object(i.useState)(!1),T=Object(i.useCallback)(()=>C(!0),[]),I=Object(i.useCallback)(()=>C(!1),[]),{componentType:E,contextLogData:k,impressionAuxFields:P,slotIndex:R,viewData:L,viewParameter:A,viewType:D}=e;return Object(p.jsx)(o.a,{componentType:E,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...k,...Object(y.f)(O,k)},impressionAuxFields:{...P||{},isNativeVideoAndWatchable:_,videoIdStr:w,clientTrackingParams:x||(O.tracking_params||"")+"-0",imageURL:null!==(d=null===(u=O.images)||void 0===u||null===(h=u["236x"])||void 0===h?void 0:h.url)&&void 0!==d?d:"",richTypes:Object(y.e)(O)},impressionType:"Pin",isPaused:!S,loggingId:O.id,slotIndex:R,viewData:L,viewParameter:A,viewType:D,children:Object(f.g)(O)?Object(p.jsx)(m,{pin:O}):Object(p.jsx)(j.a,{...l,debugImpressionState:S?"started":"paused",onError:I,onLoad:T,pin:O,pinId:n,trackingParameters:{componentType:E,contextLogData:k,slotIndex:R,viewParameter:A,viewType:D}})})}},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"8kKu":function(e,t,n){var i=n("CgR/"),r=n("yweb"),o=n("n6mq"),a=n("Sp3T"),s=n("nKUr");t.a=i.a.makeSendShareButton((function({handleSendShareFlyoutButtonClick:e}){const t=Object(r.c)(),n=Object(a.a)()(({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()});return Object(s.jsx)("div",{"data-test-id":"share-icon-button",children:Object(s.jsx)(o.x,{accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin"),bgColor:"white",icon:"share",iconColor:"darkGray",onClick:n,size:"sm"})})}))},"8vQR":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("7w6Q"),r=n("eOdZ"),o=n("yweb"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function l(e){const t=Object(o.c)(),{identifier:n,onHide:l}=e,d=()=>{r.a.create("ShareSuggestionsHideResource",{user_identifier:n}).callCreate().then(()=>{l(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),i.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(c.jsx)(a.x,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),d()},accessibilityLabel:t._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Hsp":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const i=/[\- _,.<>:;+=*&@~\/\|!]*$/,r=(e,t=80,n="…")=>{let r;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(i,""),r+n},o=/\s\s+/g,a=e=>e.replace(o," ")},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),r=n("E58E"),o=n("zpPL");function a({action:e,board:t}){var n;const a=o.a.instance&&o.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(r.a)({board:t,viewer:s})&&!(null===(n=t.collaborator_permissions)||void 0===n||!n.includes(e))}},AAEI:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("/MKj"),o=n("ANjH"),a=n("vh5K"),s=n("Vzit");function c(e){const t=Object(r.useDispatch)(),n=Object(r.useSelector)(e=>e.experiences.eligibleExperiences),c=Object(r.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(a.c)(n,c,e):null,...Object(i.useMemo)(()=>Object(o.bindActionCreators)({completeExperience:s.a,dismissExperience:s.b,fetchAllExperiences:s.d,fetchExperienceForPlacement:s.c,triggerExperimentsForPlacement:s.k,viewExperience:s.j},t),[t])}}},ADns:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("TgLd"),a=n("eOdZ"),s=n("yweb"),c=n("n6mq"),l=n("nKUr");var d=({onConfirm:e})=>{const t=Object(s.c)(),[n,r]=Object(i.useState)(!1),d=()=>{r(!0),a.a.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return Object(l.jsx)(o.b,{accessibilityModalLabel:t._("Verify your email","Accessible label for email verification being required","Accessible label for email verification being required"),onDismiss:e,heading:t._("Verify your email","Accessible label for email verification being required","Accessible label for email verification being required"),footer:Object(l.jsxs)(c.u,{justifyContent:"end",gap:2,children:[n?Object(l.jsx)(c.g,{fullWidth:!0,size:"lg",color:"gray",text:t._("Email sent","Button text for verification email being sent","Button text for verification email being sent"),disabled:n,onClick:d}):Object(l.jsx)(c.g,{fullWidth:!0,size:"lg",color:"gray",text:t._("Resend email","Button text for resending email verification email","Button text for resending email verification email"),disabled:n,onClick:d}),Object(l.jsx)(c.g,{fullWidth:!0,size:"lg",color:"red",text:t._("Got it","Button text for acknowledging email verificaiton is required","Button text for acknowledging email verificaiton is required"),onClick:e})]}),role:"alertdialog",children:Object(l.jsx)(c.f,{padding:8,children:Object(l.jsx)(c.bb,{align:"center",size:"lg",children:t._("Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.","Inform users that they need to verify their email to keep their account secure and continue using Pinterest","Inform users that they need to verify their email to keep their account secure and continue using Pinterest")})})})},u=n("oRao"),h=n("vvax");var p=({followText:e,followerCount:t,userFollowed:n})=>{const i=Object(s.c)();return Object(h.b)(i._("{{ followCount }} {{ followText }}"),{followCount:Object(l.jsx)(c.f,{"data-test-id":"followCount",paddingX:1,opacity:n?void 0:.8,children:Object(l.jsx)(c.bb,{color:n?"gray":"white",children:Object(l.jsx)(u.a,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(l.jsx)(c.f,{"data-test-id":"followText",paddingX:1,children:Object(l.jsx)(c.bb,{color:n?"darkGray":"white",weight:"bold",children:e})},"followText")})},b=n("M1Uz"),m=n("J8m7"),f=n("fc1g"),g=n("U4JR"),j=n("Sp3T"),y=n("nGHF"),O=n("ANjH"),x=n("ZVOf");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.PureComponent{constructor(...e){super(...e),v(this,"handleButtonClick",this.props.requireAuth(({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;Object(g.b)(101,{component:13672,element:11951,objectId:this.props.id,view:this.props.viewType,viewParameter:this.props.viewParameter,...t||{}}),this.toggleFollowUnfollow()})),v(this,"handleClick",this.props.requireAuth(({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()})),v(this,"toggleFollowUnfollow",()=>{const{id:e,mostRecentPin:t,loggingData:n,userFollowed:i,viewType:r,viewParameter:o}=this.props;i?(Object(g.b)(46,{objectId:e,pin_id:t,view:r,viewParameter:o,...n||{}}),this.unfollow()):(Object(g.b)(45,{objectId:e,pin_id:t,view:r,viewParameter:o,...n||{}}),this.follow())}),v(this,"follow",()=>{const{follow:e,id:t,onUserFollow:n,mostRecentPin:i,clearMostRecentPin:r}=this.props;e(t,i,this.showConfirmation,this.showError),n&&n(!0),r()}),v(this,"showToast",e=>{const{imageUrl:t,profileUrl:n,toastManagerContext:i,suppressToasts:r}=this.props;r||i.showOneToast(({onHide:i})=>Object(l.jsx)(b.a,{onHide:i,text:e,href:n,imageUrl:t,thumbnailShape:"circle"}))}),v(this,"showConfirmation",()=>{const{fullName:e}=this.props,t=Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(c.bb,{children:this.props.i18n._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(l.jsx)(c.bb,{weight:"bold",children:e})]});this.showToast(t)}),v(this,"showError",e=>{const{fullName:t,userFollowed:n}=this.props,r=n?this.props.i18n._("Error unfollowing {{ usernameComponent }}.","UserFollowButton.error.unfollowing","When there is an API error when unfollowing a user"):this.props.i18n._("Error following {{ usernameComponent }}.","UserFollowButton.error.following","When there is an API error when following a user");if(e&&e.api_error_code===m.A)return void this.setState({showEmailVerificationModal:!0});const o=Object(l.jsx)(i.Fragment,{children:Object(l.jsx)(c.bb,{children:Object(h.b)(r,{usernameComponent:Object(l.jsx)(c.bb,{weight:"bold",inline:!0,children:t})})})});this.showToast(o)}),v(this,"unfollow",()=>{const{id:e,onUserFollow:t,unfollow:n,mostRecentPin:i,clearMostRecentPin:r}=this.props;n(e,i,()=>{},this.showError),t&&t(!1),r()}),v(this,"closeModal",()=>{this.setState({showEmailVerificationModal:!1})})}renderButton(){const{button:e,followerCount:t,inline:n=!1,isOwnProfile:i,invertButtonColor:r,isSecondaryButton:o,size:a,showFollowerCount:s,userFollowed:d}=this.props,u=d?this.props.i18n._("Following","User follow button","User follow button"):this.props.i18n._("Follow","User follow button","User follow button");if(e)return e({followText:u,onClick:this.handleButtonClick,userFollowed:d});if(i)return Object(l.jsx)(c.g,{fullWidth:!0,disabled:!0,text:this.props.i18n._("This is you","Button label to note that this is your Profile","Button label to note that this is your Profile")});if(s){const e="number"==typeof t?Object(l.jsx)(p,{followerCount:t,userFollowed:d,followText:u}):u;return Object(l.jsx)(c.ab,{onTap:this.handleClick,children:Object(l.jsx)(c.f,{color:d?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:Object(l.jsx)(c.f,{display:"flex",alignItems:"center",children:e})})})}return Object(l.jsx)(c.f,{display:"inlineBlock","data-test-id":`user-${d?"unfollow":"follow"}-button`,children:Object(l.jsx)(c.g,{accessibilityLabel:d?this.props.i18n._("Unfollow","userUnfollowButton.button.accessibilityLabel","Accessibility label for the unfollow button"):this.props.i18n._("Follow","userFollowButton.button.accessibilityLabel","Accessibility label for the follow button"),color:o||d?"gray":"red",selected:r?!d:!!d,fullWidth:n,onClick:this.handleButtonClick,size:null!=a?a:void 0,text:u})})}render(){const{showPulsar:e,userFollowed:t}=this.props,n=this.state&&this.state.showEmailVerificationModal;return Object(l.jsxs)(i.Fragment,{children:[n&&Object(l.jsx)(d,{onConfirm:this.closeModal}),Object(l.jsxs)(c.f,{position:"relative",display:"flex",children:[this.renderButton(),e&&Object(l.jsx)(c.ab,{onTap:this.handleClick,children:Object(l.jsx)(c.f,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:Object(l.jsx)(c.M,{paused:t||!1})})})]})]})}}t.a=Object(O.compose)(Object(r.connect)((function({mostRecentPin:e,users:t},{id:n,userFollowed:i,showEmailVerificationModal:r}){const o=(t||{})[n];return{followerCount:o?o.follower_count:null,mostRecentPin:e?e.id:null,userFollowed:o?o.explicitly_followed_by_me:i,showEmailVerificationModal:r}}),(function(e){return{clearMostRecentPin:()=>e(Object(f.a)(null)),follow:(t,n,i,r)=>{e(Object(x.b)(t,n)).then(i).catch(e=>{r(e)})},unfollow:(t,n,i,r)=>{e(Object(x.d)(t,n)).then(i,r)}}})),y.c)((function(e){const t=Object(s.c)(),n=Object(j.a)();return Object(l.jsx)(_,{...e,requireAuth:n,i18n:t})}))},AHhP:function(e,t){const n={},i=function(e,t){let n=!1;return function(...i){n||(n=!0,e.apply(this,i),t&&t())}},r=function(e,t){e.__listeners=t},o=function(e,t){return!e.__listeners&&t&&r(e,[]),e.__listeners},a=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,i){let r,o,a=[];if("string"==typeof t)for(r=t.split(" "),o=0;o<r.length;o+=1)a.push({name:r[o],callback:n,originalCallback:n,context:i});else"object"==typeof t&&t&&Object.keys(t).forEach(r=>{a=a.concat(e(r,t[r],i||n))});return a},c=function(e,t,n,i){const r=s(e,t,n);for(let o=0;o<r.length;o+=1)i(r[o])},l=function(e,t){const n=a(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const i=o(e,!0);for(let r=0;r<n.length;r+=1){const e=n[r];if(!e.callback)return;l(t,e),i.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const i=a(this,!1);if(void 0===i)return this;const r=Object.keys(i);let o=s(e,t,n);0===o.length&&(o=[{name:null,callback:t,context:n}]);for(let a=0;a<o.length;a+=1){const e=o[a];let t;t=e.name?[e.name]:r;for(let n=0;n<t.length;n+=1){const r=t[n],o=i[r];if(void 0!==o){const t=[];for(let n=0;n<o.length;n+=1){const i=o[n];(e.callback&&i.originalCallback!==e.callback&&i.callback!==e.callback||e.context&&i.context!==e.context)&&t.push(i)}i[r]=t}}}return this},n.trigger=function(e,...t){const n=a(this,!1);if(void 0===n)return this;let i,r,o;const s=e.split(" ");for(i=0;i<s.length;i+=1){let e=[];const a=n.all,c=s[i],l=n[c];if(void 0!==l)for(r=0;r<l.length;r+=1)if(o=l[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:t});else if(o.callback)throw new Error("Callbacks must be functions");if(void 0!==a)for(r=0;r<a.length;r+=1)if(o=a[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:[c].concat(t)});else if(o.callback)throw new Error("Callbacks must be functions");for(r=0;r<e.length;r+=1)o=e[r],o.fn.apply(o.context,o.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=i(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const r=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=i(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,r),this},n.stopListening=function(e,t,n){const i=o(this,!1);let a,c,l;if(!i)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<i.length;c+=1)if(a=i[c],a.obj!==e&&e)d.push(a);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];a.event.name===t.name&&a.originalCallback===t.callback&&(e=!0)}e?a.obj.off(a.event.name,a.event.callback,a.event.context):d.push(a)}else a.obj.off(a.event.name,a.event.callback,a.event.context);return r(this,d),this},e.exports=n},Awfv:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("Search")},AyyZ:function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("FDmi"),o=n("I7CA"),a=n("T+9/"),s=n("vcEN"),c=n("qD10"),l=n("n6mq"),d=n("nKUr");const u={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function h({productPin:e,isTopRow:t,disablePrice:n}){var i,r,o,a;if(!e)return null;const{title:s,description:c,images:h}=e||{},p=null===(i=e.rich_summary)||void 0===i?void 0:i.products,b=p&&p[0]||null,m=((null==b?void 0:b.offer_summary)||{}).price,f=h["474x"]||{};return Object(d.jsxs)(l.D,{wash:!0,height:t?217:168,width:t?236:117,children:[Object(d.jsx)(l.y,{alt:s||c,fit:"cover",naturalHeight:null!==(r=f.height)&&void 0!==r?r:1,naturalWidth:null!==(o=f.width)&&void 0!==o?o:1,src:null!==(a=f.url)&&void 0!==a?a:""}),!!m&&!n&&Object(d.jsx)(l.f,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...u}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:m})]})}var p=n("DBaX"),b=n("U4JR");const m={container:{borderRadius:`${p.b}px ${p.b}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function f({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:u}){const{action:p,id:f,objects:g,story_type:j,subtitle:y}=n,{text:O,url:x}=p,[v,_]=Object(i.useState)(!1),w=Object(i.useCallback)(()=>_(!0),[_]),S=Object(i.useCallback)(()=>_(!1),[_]),C=["related_domain_collage","related_products_collage"].includes(j)?1:0,T=g[0].domain;let I,E;const k={};k.story_type=j,["search_product_collage_story","shop_article_story"].includes(j)?(I=2,E=43,k.story_id=f,k.entered_query=t):"shop_brand_story"===j||"shop_brand_affinity_story"===j?(I=1,E=92,T&&(k.commerce_data=JSON.stringify({domain:T}))):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(j)?(I=72,E=3050):"related_domain_collage"===j?(I=72,E=3455):"related_products_collage"===j&&(I=1,E=3177);const P=y?4:2;let R,L;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(j)){const e=p.user;R=e&&(e.image_medium_url||e.image_large_url),L=e&&e.full_name}return Object(d.jsx)(a.a,{componentType:200,contextLogData:k||{},impressionType:"Story",loggingId:j,slotIndex:u,viewParameter:E,viewType:I,children:Object(d.jsx)(c.a,{to:e||x,onClick:()=>Object(b.b)(101,{element:372,component:200,view:I,viewParameter:E,story_type:j,...k||{}}),children:Object(d.jsxs)(l.f,{overflow:"hidden",position:"relative",onMouseEnter:w,onMouseLeave:S,dangerouslySetInlineStyle:{__style:m.container},children:[Object(d.jsxs)(l.f,{overflow:"hidden",rounding:4,children:[Object(d.jsx)(l.f,{dangerouslySetInlineStyle:{__style:m.content},children:Object(d.jsx)(h,{productPin:g[C],isTopRow:!0})}),Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",children:[Object(d.jsx)(h,{productPin:g[C+1]}),Object(d.jsx)(h,{productPin:g[C+2]})]})]}),Object(d.jsx)(l.f,{color:"lightGray",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:P,rounding:"pill",children:Object(d.jsxs)(l.f,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[y?Object(d.jsx)(l.f,{marginBottom:1,children:Object(d.jsx)(l.bb,{align:"start",color:"gray",children:y.format})}):null,Object(d.jsx)(l.bb,{align:"start",weight:"bold",children:O})]})}),L&&R&&Object(d.jsx)(l.f,{position:"absolute",right:!0,top:!0,margin:2,children:Object(d.jsx)(r.a,{name:L,size:"md",src:R,outline:!0})}),Object(d.jsx)(s.a,{visibility:v?"visible":"none",children:Object(d.jsx)(o.a,{additionalStyles:m.visualOverlay})})]})})})}},B9iM:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),r=n("/MKj"),o=n("aK+E");function a({options:e}){const t=Object(r.useDispatch)(),n=Object(o.a)(e);return{dispatch:t,lastOptionsKey:Object(i.useRef)(),optionsKey:n}}},BcL7:function(e,t,n){var i=n("La7j"),r=n("xBNU"),o=n.n(r);const a={getInstance(){const e=o.a.experiments;return new i.a(null==e?void 0:e.active,null==e?void 0:e.triggerable)}};t.a=a},BiGR:function(e,t,n){var i=n("nmnc"),r=n("03A+"),o=n("Z0cm"),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(a&&e&&e[a])}},BsAR:function(e,t,n){const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchContainer_searchUsersConnection",selections:[{alias:null,args:null,concreteType:"SearchfeedTabs",kind:"LinkedField",name:"searchfeedTabs",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SearchTabBar_searchfeedTabs"}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SearchSensitiveContentNotice_sensitivity"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SearchNagWithCheckGQL_searchUsersConnection"},{args:null,kind:"FragmentSpread",name:"SearchDebugInfo_searchUsersConnection"}],type:"V3SearchUsersDataConnection",abstractKey:null,hash:"9f8e435fbb65c4eb417b25459a3ca83e"};e.exports=i},C2V2:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var i=n("nj6m"),r=n("foga"),o=n("4cpq"),a=n("yweb"),s=n("vvax"),c=n("XRfM"),l=n("pLLR"),d=n("n6mq"),u=n("nKUr");function h({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function p({count:e,countFormat:t,textSize:n}){const{locale:i}=Object(l.d)(),r=Object(a.c)();return Object(u.jsx)(d.bb,{size:n,children:Object(u.jsx)(o.a,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?Object(s.b)(r.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):Object(c.g)(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function b({count:e,countFormat:t,ratingTextSize:n,ratingValue:o,shippingInfo:a,showDot:s}){const c=h({count:e,ratingValue:o}),{free_shipping_price:l,free_shipping_value:d}=a||{},b=c&&!!o&&Object(u.jsx)(i.a,{rating:o,width:12});return{rating:b&&c&&!!e&&Object(u.jsx)(p,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(d)&&Object(u.jsx)(r.a,{freeShippingPrice:l,freeShippingValue:d,dot:s?"· ":""}),stars:b}}function m({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:r,shipping:o,stars:a}=b({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return Object(u.jsxs)(d.f,{display:"flex",direction:"column",marginTop:1,children:[Object(u.jsxs)(d.f,{display:"flex",direction:"row",alignItems:"center",children:[a,r&&Object(u.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:r})]}),o&&Object(u.jsx)(d.f,{marginTop:a?1:0,children:Object(u.jsx)(d.bb,{color:"gray",size:"md",children:o})})]})}function f({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const r=h({count:e,ratingValue:n}),{rating:o,shipping:a,stars:s}=b({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:r});return Object(u.jsxs)(d.f,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[s,o,a&&Object(u.jsx)(d.f,{marginStart:s?1:0,children:Object(u.jsx)(d.bb,{color:"darkGray",size:"lg",children:a})})]})}},CKfu:function(e,t,n){var i=n("7w6Q"),r=n("kmwA");const{CALENDLY_DOMAIN:o,CALENDLY_PINTEREST_CA_SMB_SALES_TEAM:a,CALENDLY_PINTEREST_US_SMB_SALES_TEAM:s,CALENDLY_PINTEREST_DISCOVERY_CALL:c}=r.a.settings;t.a=({country:e,leadId:t,source:n})=>{let r=s;i.a.increment(`client.partner.calendly.${n}.country.${e||"no_country"}`,1),"CA"===e&&(r=a);const l=`${o}/${r}/${c}`;return t?`${l}?sfid=${t}`:(i.a.increment(`client.partner.calendly.${n}.lead_missing.link`,1),l)}},CMye:function(e,t,n){var i=n("GoyQ");e.exports=function(e){return e==e&&!i(e)}},CRIG:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({image:e,width:t,height:n}){return e?Object(r.jsx)(i.D,{wash:!0,width:t,height:n,children:Object(r.jsx)(i.y,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):Object(r.jsx)(i.f,{color:"lightGray",width:t,height:n})}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=n("geGc"),o=n("TqAR"),a=n("TgLd"),s=n("oVol"),c=n("U4JR"),l=n("Sp3T"),d=n("n6mq"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=({children:e})=>e(Object(l.a)({shouldStopEventPropagation:!1}));class b extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:a,board:c,sendType:l,url:d,fullName:h,profileUrl:p,viewParameter:b,viewType:m,onExternalSend:f,showCaret:g,todayArticle:j}=this.props;let y={description:e,id:i,imageUrl:n,name:"",type:s.a.PIN,url:`/pin/${i}/`},O=s.a.PIN;switch(l){case"user":y={description:e,id:a,imageUrl:n,name:h,type:s.a.PINNER,url:p},O=s.a.USER;break;case"board":y=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:s.a.BOARD,url:c.url},O=s.a.BOARD;break;case"today_article":y=j&&{description:j.subtitle||"",id:j.id,imageUrl:n,name:j.title,type:s.a.TODAY_ARTICLE,url:Object(o.i)(j)},O=s.a.TODAY_ARTICLE;break;case"search":y={...y,type:s.a.SEARCH,url:d},O=s.a.SEARCH}const x={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:O,sharedObject:y,viewParameter:b,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:Object(u.jsx)(r.default,{...x})}})}static makeSendShareButton(e){return t=>Object(u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(c.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props,{anchor:r,idealDirection:o,onDismiss:s,showCaret:c,children:l}=this.flyoutProps();return Object(u.jsxs)("div",{style:{pointerEvents:"auto"},children:[Object(u.jsx)(d.f,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(u.jsx)(p,{children:t=>Object(u.jsx)(e,{handleSendShareFlyoutButtonClick:t(e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(i?Object(u.jsx)(d.A,{children:Object(u.jsx)(d.f,{zIndex:t?a.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(u.jsx)(d.L,{anchor:r,idealDirection:o,onDismiss:s,showCaret:c,size:"xl",positionRelativeToAnchor:!1,children:l})})}):Object(u.jsx)(d.L,{anchor:r,idealDirection:o,onDismiss:s,showCaret:c,size:"xl",children:l}))]})}}h(b,"defaultProps",{idealDirection:"down",onClick:()=>{}})},CkVV:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("IkpU"),r=n("82UD"),o=n("n6mq"),a=n("yjg8"),s=n("U4JR"),c=n("2QTt"),l=n("nKUr");function d({action:e,contextLogData:t,id:n,objects:d,viewType:u,viewParameter:h}){const p=null!=e&&e.url&&e.text?r=>Object(l.jsx)(i.a,{coverImages:r.images,height:a.f,onClick:()=>Object(s.b)(101,{view:u,viewParameter:h,component:99,element:372,story_id:n,...t}),text:e.text,url:e.url,width:a.f},"actionBubble"):null,{containerRef:b,itemsToRender:m,actionItem:f}=Object(c.b)({items:d,itemWidth:a.f,itemPadding:16,shouldUseLastItemForAction:!!p});return Object(l.jsxs)(c.a,{itemPadding:16,containerRef:b,children:[m.map((e,n)=>Object(l.jsx)(o.f,{flex:"none",width:a.f,children:Object(l.jsx)(r.a,{pin:e,pinId:e.id,surface:"ShoppingDynamicHeightGrid",trackingParameters:{slotIndex:n,componentType:99,viewParameter:h,viewType:u,...t},pinImageCrop:{height:a.f,width:a.f}})},e.id)),f&&(null==p?void 0:p(f))]})}},Cr6c:function(e,t,n){var i=n("q1tI"),r=n("zwad"),o=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,bgColor:i,iconColor:c,dangerouslySetSvgPath:l,disabled:d,href:u,icon:h,onClick:p,padding:b,size:m,tabIndex:f,target:g}=e,j=r.a.isOffsiteUrl(u);return Object(s.jsx)(o.a,{href:u,target:j?null:g,children:({handleClick:e})=>Object(s.jsx)(a.x,{accessibilityLabel:n,bgColor:i,iconColor:c,dangerouslySetSvgPath:l,disabled:d,href:u,icon:h,onClick:({event:t,disableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},padding:b,ref:t,rel:j?"nofollow":void 0,role:"link",size:m,tabIndex:f})})});c.displayName="IconButtonLink",t.a=c},D3nP:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("eOdZ"),r=n("Wer7");function o(e){return async t=>{await i.a.create("TypeaheadClearRecentResource",{query:e}).callDelete(),t(Object(r.a)("AdvancedTypeaheadResource",{term:"",pin_scope:"pins"}))}}function a({report:e,query:t,suggestions:n,type:r}){return o=>{i.a.create("SearchSuggestionReportResource",{report:e,query:t,suggestions:n,type:r}).callCreate()}}function s(e){return{type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:e}}}function c(){return{type:"VIEWED_OWN_PROFILE"}}const l=e=>({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:e}})},DAxM:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("JW66");function r(e){return e.privacy===i.a.BoardPrivacy.SECRET}},DBEV:function(e,t,n){var i=n("q1tI");var r={backgroundColor:"transparent"},o={backgroundColor:"rgba(216, 216, 216, 0.37)"},a={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"},c=n("n6mq"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",()=>this.setState({hovered:!0})),d(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t}=this.props,n={height:e,width:e},i={border:0,display:"block",background:"transparent",cursor:"pointer",...s},d={...a,...r,...this.state.hovered?o:{}};return Object(l.jsx)("button",{type:"button",style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:Object(l.jsx)("div",{style:{...n,...d},children:Object(l.jsx)(c.f,{rounding:"circle",children:Object(l.jsx)(c.w,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"})})})})}}t.a=u},DBaX:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const i=16,r=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function r(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function o(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function c(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function l(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}))},DmTo:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),r=n("AAEI"),o=n("U4JR"),a=n("EC67"),s=n("n6mq"),c=n("nKUr");function l({experienceId:e,copy:{buttonText:t,subtitleText:n,titleText:l},path:d,pins:u,placementId:h}){const p=Object(r.a)(),b=Object(a.h)();Object(i.useEffect)(()=>{Object(o.b)(13,{view:1,viewParameter:92,component:200,element:10551}),p.viewExperience(h,e)},[]);return Object(c.jsxs)(s.f,{alignItems:"stretch",direction:"column",display:"flex",flex:"grow",children:[Object(c.jsx)(s.f,{paddingY:1,children:Object(c.jsx)(s.v,{align:"center",size:"sm",children:l})}),Object(c.jsx)(s.f,{paddingY:1,children:Object(c.jsx)(s.bb,{align:"center",children:n})}),Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:1,paddingY:2,children:u&&u.map((e,t)=>((e,t)=>{const{height:n,url:i,width:r}=e.images.orig,o=0===t?0:2;return Object(c.jsx)(s.f,{marginStart:o,children:Object(c.jsx)(s.D,{height:72,rounding:2,width:48,children:Object(c.jsx)(s.y,{alt:"",color:"",fit:"cover",naturalHeight:n,naturalWidth:r,src:i})})},e.id)})(e,t))}),Object(c.jsx)(s.f,{alignSelf:"center",paddingY:2,children:Object(c.jsx)(s.g,{fullWidth:!0,onClick:()=>{p.completeExperience(h,e,!1,!0),Object(o.b)(101,{view:1,viewParameter:92,component:200,element:10551}),b.push(d)},size:"lg",text:t})})]})}var d=n("NdXn"),u=n("gC5q"),h=n("4UDn");function p(e){const{story:t}=e;if(41===t.container_type){const e=t,{copy:n,custom_properties:i,experience:r,objects:o}=e;return Object(c.jsx)("div",{className:"Module",children:Object(c.jsx)(l,{copy:Object(u.a)(d.a)(n),experienceId:r.experience_id,path:i.path,pins:o,placementId:r.placement_id})})}if(66===t.container_type){const e=t,{action:n,custom_properties:i,display_options:r,experience:o,story_type:a,title:s}=e;return Object(c.jsx)("div",{className:"Module",children:Object(c.jsx)(h.b,{buttonAction:n.url,buttonCustomization:i.button_customization,buttonText:n.text,experienceId:null==o?void 0:o.experience_id,hideCompleteButton:i.hide_complete_button,imageAlt:i.image_alt,imageUrl:i.image,placementId:null==o?void 0:o.placement_id,storyType:a,titleColor:h.a[r.title_text_color],titleText:s.format,titleTextCustomization:i.title_text_customization,videoPin:i.video_pin,videoPlaceholderImage:i.video_placeholder_image})})}return null}},DzJC:function(e,t,n){var i=n("sEfC"),r=n("GoyQ");e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}},"E/VT":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("28DW"),o=n("n6mq"),a=n("U4JR"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:o,viewParameter:s,viewType:c}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(r.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(a.b)(82,{objectId:o,view:c||3,viewParameter:s||139})}),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,r=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(s.jsxs)(i.Fragment,{children:[e(this.onEvent),r&&Object(s.jsx)(o.f,{display:"none",children:Object(s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,"a",(function(){return i}))},E8d4:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("nKUr");function o({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const o=t||null;return Object(r.jsx)(i.Suspense,{fallback:o,children:e})}},EC51:function(e,t,n){var i=n("q1tI"),r=n("zwad"),o=n("n6mq"),a=n("gqRH"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,forceTarget:c,hoverStyle:l,href:d,id:u,inline:h,onBlur:p,onClick:b,onFocus:m,rel:f,target:g}=e,j=r.a.isOffsiteUrl(d);return Object(s.jsx)(a.a,{href:d,target:!c&&j?null:g,children:({handleClick:e})=>Object(s.jsx)(o.C,{accessibilityLabel:n,hoverStyle:l,href:d,id:u,inline:h,onBlur:p,onClick:({event:t,disableOnNavigation:n})=>{n(),null==b||b({event:t}),e({event:t})},onFocus:m,ref:t,rel:j?"nofollow":f,target:c?g:null,children:i})})});c.displayName="Link",t.a=c},EHyI:function(e,t,n){n.d(t,"a",(function(){return a}));var i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)},r=n("XtwW"),o=n("gg0E");function a(e){return!("desktop"===e&&!i())&&(!!r.a&&Object(o.a)())}},ELJR:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("KPZG"),r=n("T+9/"),o=n("7zq+"),a=n("yjg8"),s=n("U4JR"),c=n("flQA"),l=n("n6mq"),d=n("nKUr");const u=a.f;function h({contextLogData:e,bubbles:t,id:n,referringSource:a,slotIndex:h,storyType:p,title:b,titleIcon:m,viewType:f,viewParameter:g}){const j=t.map(({type:e,id:t})=>e+":"+t).join("|");return Object(d.jsx)(r.a,{viewType:f,componentType:200,viewParameter:g,loggingId:n,contextLogData:{story_type:p,objectId:n,content_ids:j,...e},impressionType:"Story",slotIndex:h,children:Object(d.jsxs)(l.f,{children:[b&&Object(d.jsxs)(l.f,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof m&&m!==c.a&&Object(d.jsx)(l.f,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:Object(d.jsx)(l.w,{accessibilityLabel:"",color:"darkGray",icon:Object(c.b)(m),size:14})}),Object(d.jsx)(l.bb,{weight:"bold",children:Object(o.a)(b)})]}),t.map((e,t)=>Object(d.jsx)(l.f,{paddingY:1,flex:"none",children:Object(d.jsx)(i.a,{bubble:e,onClick:e=>{Object(s.b)(101,{objectId:e,view:f,viewParameter:g,component:200})},referringSource:a,height:103,width:u,storyId:n,viewType:f,viewParameter:g,slotIndex:t,contextLogData:{content_ids:j,story_type:p}})},"bubble-"+e.id))]})})}},ENhS:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("SurfaceContext",{surface:"Unknown"})},ENn1:function(e,t,n){var i=n("zpPL"),r=n("xjqW"),o=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(o.e)(e),l=Object(o.f)(e);let d;if(Object(o.i)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(r.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return j}));var i=n("JW66"),r=n("BcL7"),o=n("pWkb"),a=n("ynlw"),s=n("Ye/N"),c=n("eBDd"),l=n("vvax"),d=n("VpfY"),u=n("n6mq"),h=n("nKUr");const p=()=>["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function b(e,t){var n,o,s;if(!t.isAuth)return!1;const c=Object(d.c)(e)||Object(d.d)(e),l=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.a.BoardPrivacy.PUBLIC,u=(null===(o=e.board)||void 0===o?void 0:o.privacy)===i.a.BoardPrivacy.PROTECTED,h=(p()&&u||l)&&!e.is_repin&&(null===(s=e.pinner)||void 0===s?void 0:s.id)===t.id,{isStoryPin:b}=Object(a.a)(e);return c&&(!u||p())||t.isPartner&&h||["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("web_ps4p"))&&b&&h}function m(e,t){return e?[{align:"start",displayText:s.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:s.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:s.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function f(e,t){const{isStoryPin:n,isVideo:i}=Object(a.a)(e),r=Object(d.c)(e),c=Object(d.d)(e)&&(n||!r)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),b=(new Date).getTime()-p.getTime(),m=Math.floor(b/36e5),f=c?c["24h_realtime"].is_realtime:null,g=c?c["24h_realtime"].timestamp:null;let j=null;c&&(j=n||i?c.all_time_realtime.timestamp:c["30d_realtime"].timestamp);const y=j!==g,O=e=>Object(l.b)(s.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),x={timeframe:"",lastUpdated:""};if(c)if(f){const e=c["24h_realtime"].impression>=(n||i?c.all_time_realtime.impression:c["30d_realtime"].impression);x.timeframe=e?s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||i?s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),x.lastUpdated=s.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(y||m>48)if(n||i){const e=Object(o.a)(c.all_time_realtime.timestamp);x.timeframe=s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),x.lastUpdated=O(e)}else{const e=Object(o.a)(c["30d_realtime"].timestamp);x.timeframe=s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),x.lastUpdated=O(e)}else{const e=Object(o.a)(c["24h_realtime"].timestamp);x.timeframe=s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),x.lastUpdated=O(e)}else x.lastUpdated=s.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(h.jsxs)(u.f,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0,children:[Object(h.jsx)(u.bb,{align:"end",color:"gray",size:"sm",children:x.lastUpdated}),(n||["md","sm"].includes(t))&&!!c&&Object(h.jsx)(u.bb,{color:"gray",inline:!0,size:"sm",children:" ・"}),Object(h.jsx)(u.bb,{align:"end",color:"gray",size:"sm",children:x.timeframe})]})}function g(e){return Object(c.a)(s.a.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function j(e){return Object(c.a)(s.a.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("0rqB"),r=n("pLLR"),o=n("nKUr");function a({activate:e,children:t,isEligible:n,name:a}){return Object(o.jsx)(r.b,{children:r=>Object(o.jsx)(i.a,{activate:e,activateExperiment:e=>r.experiments.v2ActivateExperiment(e)||"",group:r.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n("BUdX");const r=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],a=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],s=["US","CA"],c=e=>{if(o.includes(e.toUpperCase())){const e=i.a.fromGlobalContext(),{anyEnabled:t}=e.experiments.getWithActivation("advertiser_growth_qp_expansion");return t}return r.includes(e.toUpperCase())},l=e=>a.includes(e.toUpperCase()),d=(e,t,n)=>{const i={numDays:n},r=e[n]||{},o=e[2*n]||{};return t.forEach(e=>{const t=r[e]||0,n=o[e]?o[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},u=e=>!!e&&s.includes(e.toUpperCase())},EuRG:function(e,t,n){function i(e,t){return{type:"SEARCH_PIN_CLOSEUP_VIEWED",payload:{pinId:e,query:t}}}function r(e){return{type:"SEARCH_QUERY_STARTED",payload:{query:e}}}function o(e){return{type:"SEARCH_QUERY_INVALIDATED",payload:{query:e}}}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}))},EwHv:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=n("+wrf"),o=n("3j7w"),a=n("yweb"),s=n("n6mq"),c=n("nKUr");function l(e){const t=Object(a.c)(),{fetchMore:n,invites:i,isAtEnd:r,isFetching:l,onBoardLeave:d,refreshData:u,scroll:h,renderInvite:p}=e;return Object(c.jsxs)("div",{children:[h&&Object(c.jsx)(o.a,{scrollBuffer:3*h.container.clientHeight,scrollHeight:h.container.scrollHeight,scrollTop:h.top,isAtEnd:r,isFetching:l,fetchMore:n}),i.map((e,t)=>e&&e.invited_user&&e.invited_user.id?Object(c.jsx)(s.f,{children:p(e,d,u)},t):null),l&&!r&&Object(c.jsx)(s.U,{accessibilityLabel:t._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0})]})}var d=n("ViqK"),u=n("mEMi"),h=n("w70y");class p extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(n="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}shouldComponentUpdate(e){const{invites:{data:t}}=e,{invites:{data:n}}=this.props;return!n||!!t&&n.length!==t.length}render(){const{board:e,invites:t,invitesPendingApproval:n,scrollInfo:o,onBoardLeave:a,onModalOpen:h,renderInvite:p}=this.props,{full_name:b,image_medium_url:m,username:f}=e.owner,g=this.props.i18n._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return Object(c.jsx)(i.Fragment,{children:t.isLoaded||n.isLoaded?Object(c.jsx)(u.a,{fetchMore:t.fetchMore,children:({onScroll:i,setRef:u})=>Object(c.jsxs)(s.f,{width:"100%",onScroll:i,ref:u,children:[Object(c.jsx)(l,{boardId:e.id,fetchMore:n.fetchMore,invites:n.data||[],isAtEnd:n.isAtEnd,isFetching:n.isFetching,onBoardLeave:a,refreshData:this.handleInvitesDidUpdate,scroll:o,renderInvite:p}),(n.data||[]).length>0?Object(c.jsx)(s.f,{paddingY:3,children:Object(c.jsx)(s.q,{})}):null,Object(c.jsxs)(s.f,{paddingY:1,children:[Object(c.jsx)(d.a,{imageUrl:m,linkURL:`/${f}/`,name:b,subtitle:g,title:b}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?Object(c.jsx)(r.a,{invite:e,onBoardLeave:a,onModalOpen:h,onInviteDidUpdate:t.refresh},e.invited_user.id):null)]})]})}):Object(c.jsx)(s.U,{show:!0,accessibilityLabel:this.props.i18n._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")})})}}function b(e){const t=Object(a.c)(),n=Object(h.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),i=Object(h.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return Object(c.jsx)(p,{...e,invites:n,invitesPendingApproval:i,i18n:t})}},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},F2ZA:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return h}));n("n6mq");const i="/today/",r=3,o=(e,t,n=0)=>({num_days:t,referrer:n,...e?{}:{redux_normalize_feed:!0}});function a(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),r=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(r)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},c={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},l=(e,t)=>{const n=c[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>s[e],u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),h=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},F4HH:function(e,t,n){var i=n("q1tI"),r=n("3R0Q"),o=n("o9su"),a=n("vzKb"),s=n("FylZ"),c=n("mRg4"),l=n("LvPn"),d=n("XtwW"),u=n("LrH5"),h=n("B/lV"),p=n("fZG9"),b=n("xfna"),m=n("gz6+"),f=n("3/Bf");const g=Object(u.a)("PwtStopwatch"),j=(e,t)=>{if(d.a){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:r}=t;return Object(f.c)("TIMING."+n),{isTiming:!0,isSampled:t.isSampled,startTime:"number"==typeof i?i:d.a.now(),metricId:{type:"stopwatch",name:n,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if("annotate"===t.type){const n=d.a.now();return g(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return g(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const r=e.binaryAnnotations[t.name].value||0;return g(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(r)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(r,n):r,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){g(`adding subspan {${t.name}}`);let n=0;return t.startTime?n=t.startTime:e.startTime?n=e.startTime:g(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(s.a)(),startTime:n,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){g(`starting subspan {${t.name}}`);return e.spans.findIndex(e=>e.name===t.name)&&g(`WARNING: adding duplicate subspan name {${t.name}}`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(s.a)(),parentId:t.parentId||null,startTime:d.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(g(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce((e,n)=>(n.name===t.name&&e.push(n),e),[]).length>1&&Object(f.b)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=d.a.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):Object(f.b)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:a,annotations:u,binaryAnnotations:b,isSampled:f,spans:g,traceId:j}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),f){const e=t.stopTime||d.a.now(),f=[...g.map(t=>(t.endTime===1/0&&(t.endTime=e),t))];if(t.manualAndResourceSpans||0===g.length){const i=Object(s.a)();f.push({name:"network_resources",id:i,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(e=>Object(l.a)(Object(h.a)(e,[]),i)).filter(Boolean))}const y="initial_app_load"===i.navigationType&&Object(o.a)(),O={type:"COMPLETE",traceId:j,startTime:n,endTime:e,spans:f,annotationMap:{...Object(r.a)(u),...Object(m.a)("browser_",y?Object(m.b)(y):{})},binaryAnnotationMap:Object(p.a)({metricId:i,pwtStaticContext:a,binaryAnnotations:b,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(c.a)({metricId:i,pwtStaticContext:a,result:O})}return{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(s.a)()}}if("error"===t.type){const{error:e,stopwatchPerformanceObserver:n}=t;return e&&Object(f.b)(e),n&&n.disconnect(),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(s.a)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,r=t.reason||"";return Object(c.a)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:r}}),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(s.a)()}}}return e};var y=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:r=!1})=>{const o=Object(b.c)(),c=Object(i.useRef)([]),l=Object(i.useRef)(null),[d,u]=Object(i.useReducer)(j,{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(s.a)()});return o?{isTiming:d.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;c.current=[],l.current=Object(a.a)({entryTypes:["resource"]},t=>{c.current=c.current.concat(t.getEntries()),c.current.length>e&&(c.current=c.current.slice(-e))})}const r={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t};return u(r)},stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:l.current,customStopwatchBuffer:c.current,manualAndResourceSpans:r}),error:e=>{u({type:"error",stopwatchPerformanceObserver:l.current,error:e})},abort:e=>u({type:"abort",stopwatchPerformanceObserver:l.current,customStopwatchBuffer:c.current,reason:e}),annotate:(e,t)=>u({type:"annotate",label:e,parentId:t}),binaryAnnotate:(e,t,n,i)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i}),binaryAnnotateOperation:(e,t,n,i)=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:r={},parentId:o=null,id:a=null})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o,id:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,id:r=null})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,id:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r}),getSpans:(e,t)=>d.spans.filter(n=>n[e]===t),getTraceId:()=>d.traceId}:null},O=n("1dBE"),x=n("nKUr");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:r=!0,navigationType:o,manualAndResourceSpans:a=!1})=>{const{Provider:s,useHook:c}=Object(O.b)("Stopwatch_"+e);return{Provider:function({children:t}){const c=y({name:e,sampleRate:n,navigationType:o,manualAndResourceSpans:a}),l=Object(b.b)(),d=l?l.time:0,u=Object(i.useRef)(!1),h=null==c?void 0:c.isTiming,p=e=>{u.current&&(u.current=!1,null==c||c.abort(e))};return Object(i.useEffect)(()=>()=>{r&&p("unloadOrClientNavigation")},[d]),Object(x.jsx)(s,{value:{isTiming:h,abort:p,addAnnotation:(e,t)=>{null==c||c.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==c||c.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:(e,t,n,i)=>{null==c||c.binaryAnnotateOperation(e,t,n,i)},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o,id:a})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o,id:a})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:r})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:r})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r})},getSpans:(e,t)=>c?c.getSpans(e,t):[],getTraceId:()=>c?c.getTraceId():"",error:e=>{u.current&&(u.current=!1,null==c||c.error(e))},start:e=>{u.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),u.current=!0,null==c||c.start(e)},stop:e=>{u.current&&(u.current=!1,null==c||c.stop(e))}},children:t})},useHook:c}}},FDmi:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),r=n("nKUr");const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:c}){return Object(r.jsx)(i.b,{accessibilityLabel:e,name:t,outline:n,size:a,src:o(s,t)?void 0:s,verified:c})}},FF6m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r(e){const{resourceDependencies:t=(()=>[])}=e;return function(e){function n(t){return Object(i.jsx)(e,{...t})}return n.WrappedComponent=e,n.displayName="StaticRouteData",n.getResourceDependencies=t,n}}},FZoo:function(e,t,n){var i=n("MrPd"),r=n("4uTw"),o=n("wJg7"),a=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,d=(t=r(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var p=s(t[l]),b=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(l!=u){var m=h[p];void 0===(b=c?c(m,p,h):void 0)&&(b=a(m)?m:o(t[l+1])?[]:{})}i(h,p,b),h=h[p]}return e}},FeJ1:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("IkpU"),r=n("KPZG"),o=n("yjg8"),a=n("U4JR"),s=n("2QTt"),c=n("nKUr");const l=o.f;function d({query:e,story:t,viewType:n,viewParameter:d}){const{action:u,id:h,story_type:p}=t,b=["structured_search_bubble","wishlist_category_bubbles"].includes(t.story_type)?103:l,m=null!=u&&u.text&&u.url?r=>Object(c.jsx)(i.a,{coverImages:r.cover_images[0],height:b,onClick:()=>Object(a.b)(101,{view:n,viewParameter:d,component:200,element:372,story_type:t.story_type,story_id:t.id,entered_query:e}),text:u.text,url:u.url,width:l},"actionBubble"):void 0,{containerRef:f,itemsToRender:g,actionItem:j}=Object(s.b)({items:t.objects,itemWidth:o.f,itemPadding:16,shouldUseLastItemForAction:!!m});return Object(c.jsxs)(s.a,{itemPadding:16,containerRef:f,children:[g.map((i,o)=>Object(c.jsx)(r.a,{bubble:i,height:b,width:l,storyId:h,onClick:()=>Object(a.b)(101,{component:200,objectId:i.id,view:n,viewParameter:d,story_type:t.story_type,story_id:t.id,entered_query:e}),viewType:n,viewParameter:d,slotIndex:o,contextLogData:{story_type:p}},i.id)),j&&(null==m?void 0:m(j))]})}},FfPP:function(e,t,n){var i=n("idmN"),r=n("hgQt");e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},FylZ:function(e,t,n){function i(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return i}))},"G35+":function(e,t,n){var i=n("AHhP"),r=n.n(i),o=n("1inl"),a=n("K316"),s=n("fZ0m"),c=n("YYM5"),l=n("Ye/N"),d=n("1Nkp"),u=n("dwea"),h=n("28DW");function p(){}let b;Object.assign(p.prototype,r.a),Object.assign(p.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(h.a)(`auth_web.social_connect.${e}.${Object(c.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let i,r;n&&(i=n.grantedScopes,i=i?i.split(","):[],r=n.userID);const o=i.find(e=>"email"===e),a={id:r};"connected"===e.status&&o?t.success(a):t.error(a),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a.a)}):"gplus"===e||"google"===e?s.a.get(e=>{Object(d.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const i=t.windowOptions||n.getWindowOptions(),r=window.open("/connect/"+e+"/","",i);if(!r)return o.a.showError(l.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=u.a.setInterval(()=>{r.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(a),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(p,{instance:()=>(b||(b=new p),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}),t.a=p},GBVV:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("n6mq"),r=n("nKUr");const o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return Object(r.jsx)(i.f,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:Object(r.jsx)(i.f,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:n,size:o,submitting:s,text:c}){return Object(r.jsxs)(i.f,{display:"flex",position:"relative",children:[s&&Object(r.jsx)(a,{}),Object(r.jsx)(i.g,{color:"red",disabled:e||s,name:t,onClick:n,size:o,type:"submit",text:c})]})}},GDhZ:function(e,t,n){var i=n("wF/u"),r=n("mwIZ"),o=n("hgQt"),a=n("9ggG"),s=n("CMye"),c=n("IOzZ"),l=n("9Nap");e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));const i=1e3,r=60*i,o=60*r,a=24*o,s=30*a,c=365*a},HJ6M:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));const i=-1,r=5,o=6},"He/G":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),r=n("n6mq"),o=n("nKUr");function a(){const e=Object(i.c)();return Object(o.jsx)(r.w,{accessibilityLabel:e._("Secret board","Accessibility label for icon indicating a secret board","Accessibility label for icon indicating a secret board"),color:"darkGray",icon:"lock",inline:!0})}},Ht9O:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("TgLd"),r=n("qD10"),o=n("yweb"),a=n("n6mq"),s=n("nKUr");function c(e){const t=Object(o.c)(),{handleComplete:n,handleDismiss:c}=e,l=Object(s.jsxs)(a.f,{flex:"grow",position:"relative",display:"flex",direction:"column",width:"100%",children:[Object(s.jsx)(a.f,{marginBottom:-12,children:Object(s.jsx)(a.y,{alt:t._("Stylized Pin grid image","helpUpsellModal.headerImage.altText","Alt text for Pin grid image in help upsell modal"),naturalHeight:232,naturalWidth:804,src:"https://s.pinimg.com/help_upsell_modal_header.png"})}),Object(s.jsxs)(a.f,{marginTop:-12,children:[Object(s.jsx)(a.f,{display:"flex",justifyContent:"center",children:Object(s.jsx)(a.w,{accessibilityLabel:t._("Pinterest logo icon","helpUpsellModal.pinterestIcon","Accessibility label for Pinterest logo icon"),color:"red",icon:"pinterest",size:48})}),Object(s.jsx)(a.f,{display:"flex",justifyContent:"center",children:Object(s.jsxs)(a.f,{maxWidth:522,children:[Object(s.jsx)(a.f,{display:"flex",justifyContent:"center",paddingX:12,paddingY:4,children:Object(s.jsx)(a.v,{align:"center",size:"lg",children:t._("Learn how to make Pinterest work for you","helpUpsellModal.heading",'Heading for modal to upsell help guides (subheading is "Check out our guide to the basics of saving Pins, sharing ideas and customizing your home feed.")')})}),Object(s.jsx)(a.f,{paddingX:12,children:Object(s.jsx)(a.v,{align:"center",size:"sm",children:t._("Check out our guide to the basics of saving Pins, sharing ideas and customizing your home feed.","helpUpsellModal.subHeading",'Subheading for modal to upsell help guides (heading is "Learn how to make Pinterest work for you")')})}),Object(s.jsxs)(a.f,{display:"flex",direction:"row",justifyContent:"center",marginBottom:4,paddingY:12,children:[Object(s.jsx)(a.f,{display:"flex",direction:"row",paddingX:1,children:Object(s.jsx)(a.g,{accessibilityLabel:t._("Dismiss modal","helpUpsellModal.dismissButton.accessibilityLabel","Accessibility label for help upsell modal dismiss button"),onClick:c,size:"lg",text:t._("Maybe later","helpUpsellModal.dismissButton.buttonText","Accessibility label for help upsell modal confirm button")})}),Object(s.jsx)(a.f,{display:"flex",direction:"row",paddingX:1,children:Object(s.jsx)(r.a,{to:"/welcome/",children:Object(s.jsx)(a.g,{accessibilityLabel:t._("Continue to new user welcome guides","helpUpsellModal.confirmButton.accessibilityLabel","Accessibility label for help upsell modal confirm button"),color:"red",onClick:n,size:"lg",text:t._("Let's go","helpUpsellModal.confirmButton.buttonText","Confirm button for Chrome PWA upsell modal")})})})]})]})})]})]});return Object(s.jsx)(i.b,{accessibilityModalLabel:t._("Learn how to make Pinterest work for you","helpUpsellModal.accessibilityModalLabel","Accessible label for help upsell modal"),heading:l,onDismiss:c,size:"lg"})}},I7CA:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({children:e,additionalStyles:t={}}){return Object(r.jsx)(i.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},IWTy:function(e,t,n){var i=n("yue5");e.exports=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++r<s;){var l=i(o[r],a[r]);if(l)return r>=c?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}},IWjZ:function(e,t,n){var i=n("v/Q4"),r=n("isp9"),o=n("EC67");t.a=e=>{const t=Object(o.i)(),n=Object(i.a)(),a=Object(o.k)("/:username");if(Object(r.S)(t))return!1;if(Object(r.H)(t))return!0;const s=e.concat(n.isAuth?{user:{username:n.username},id:n.id}:{}).find(e=>{var t;const{user:n={}}=e||{},{username:i}=n;return i===(null==a||null===(t=a.params)||void 0===t?void 0:t.username)});return!!s&&s.id}},IeEU:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("/MKj");const r=[1000069,1000075],o={};function a(e){return r.forEach(t=>{!e[t]||void 0!==o[t]&&o[t].id===e[t].id||(o[t]=e[t])}),o}function s(e){return Object(i.connect)(e=>({lfvExperiences:a(e.experiences.eligibleExperiences)}))(e)}function c(){return a(Object(i.useSelector)(({experiences:e})=>e.eligibleExperiences))}},IkpU:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("NoNI"),r=n("n6mq"),o=n("nKUr");function a({coverImages:e,height:t,isHovered:n,onClick:a,onMouseEnter:s,onMouseLeave:c,textType:l,text:d,url:u,width:h}){const p=e&&(e["236x"]||e["280x280"]);return Object(o.jsx)(i.a,{backgroundColor:"gray",coverImage:p,height:t,isHovered:n,onClick:a,onMouseEnter:s,onMouseLeave:c,url:u,width:h,children:Object(o.jsx)(r.f,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:h||"100%",children:"text"===l?Object(o.jsx)(r.f,{alignItems:"center",display:"flex",height:48,padding:3,children:Object(o.jsx)(r.v,{align:"center",size:"md",color:"white",children:d})}):Object(o.jsx)(r.f,{alignItems:"center",color:"lightGray",display:"flex",height:48,padding:3,rounding:"pill",children:Object(o.jsx)(r.bb,{align:"center",weight:"bold",children:d})})})})}},IzXe:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i="https://policy.pinterest.com/cookies",r=3e3},J4bR:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("xkL+");function r(){const e=Object(i.b)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}},J8Pj:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s}));const i=350,r=134,o=16,a=2,s=236},J8m7:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return O})),n.d(t,"w",(function(){return x})),n.d(t,"x",(function(){return v})),n.d(t,"y",(function(){return _})),n.d(t,"z",(function(){return w})),n.d(t,"B",(function(){return S})),n.d(t,"D",(function(){return C})),n.d(t,"C",(function(){return T})),n.d(t,"E",(function(){return I})),n.d(t,"F",(function(){return E})),n.d(t,"r",(function(){return k})),n.d(t,"j",(function(){return P})),n.d(t,"k",(function(){return R})),n.d(t,"A",(function(){return L})),n.d(t,"G",(function(){return A})),n.d(t,"b",(function(){return D}));const i=101,r=93,o=9,a=8,s=16,c=12,l=3,d=18,u=105,h=79,p=78,b=77,m=76,f=1402,g=85,j=82,y=88,O=1201,x=86,v=30,_=84,w=83,S=2901,C=2904,T=2905,I=95,E=19,k=113,P=91,R=2501,L=3050,A=[a,o],D=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[u,"FACEBOOK_ACCOUNT_NOT_LINKED"],[c,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[s,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[b,"INVALID_PASSWORD_FB_USER"],[p,"INVALID_PASSWORD_ERROR_CODE"],[h,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[j,"LOGIN_DEACTIVATED_USER"],[w,"LOGIN_POLICY_VIOLATION_USER"],[g,"AUTO_PASSWORD_RESET_ERROR_CODE"],[x,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[r,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[a,"API_LIMIT_EXCEEDED_ERROR"],[o,"API_EVENT_BLOCKED_ERROR"],[E,"USER_IN_SAFE_MODE"],[_,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[g,"LOGIN_BAD_PASSWORD_ASK_RESET"],[O,"LOGIN_MFA_REQUIRED"],[v,"LOGIN_USER_NOT_FOUND"],[y,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[S,"SAR_DOWNLOAD_LIMIT"],[C,"SAR_EMAIL_UNVERIFIED"],[T,"SAR_EMAIL_MISSING"]])},JRj3:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,r=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return n?"4g"===n?i="40-80":(r="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:r}};function r(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),r={"1x":e.V_EXP3,"2x":e.V_EXP5},o={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:r,"0-1":r,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":o,"40-80":o,"80_or_above":o}[t][n]||e.V_720P||void 0}function o(e){const{video_list:t={}}=e,n=r(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},JTBp:function(e,t,n){var i=n("c4Fo"),r=n("ihsa"),o=n("ioDk"),a=n("yweb"),s=n("Y8Sn"),c=n("yjg8"),l=n("n6mq"),d=n("nKUr");const u=(c.f+c.i)*c.k-c.i,h=Array.from(Array(c.m-c.k).keys()).reduce((e,t)=>{const n=t+c.k,i=(c.f+c.i)*n-c.i;return e+Object(c.n)(c.f,n,n,`.banner-content {\n          width: ${i}px;\n          min-width: ${i}px;\n        }`,c.i)},`.banner-content {\n      width: ${u}px;\n      min-width: ${u}px;\n  }`);function p(e){const t=Object(a.c)(),{displayData:{backgroundColorNarrow:n,backgroundColorWide:i,backgroundImageNarrow:c,backgroundImageWide:u,canClose:p,completeButtonBackgroundColorNarrow:b,completeButtonBackgroundColorWide:m,completeButtonText:f,completeButtonTextColorNarrow:g,completeButtonTextColorWide:j,coverImage:y,dismissButtonBackgroundColorNarrow:O,dismissButtonBackgroundColorWide:x,dismissButtonText:v,dismissButtonTextColorNarrow:_,dismissButtonTextColorWide:w,iconImage:S,layoutNarrow:C,layoutWide:T,links:I=[],linkTitles:E=[],message:k,onCompleteRedirectUrl:P,onDismissRedirectUrl:R,textColorNarrow:L,textColorWide:A,titleText:D,external:B},onComplete:N,onDismiss:M}=e,{windowWidth:F}=Object(s.c)(),U=F<=480,z=U?C:T,H=U?{STACKED_TEXT:1,CENTERED_ICON_IMAGE_AND_TEXT:2,COVER_IMAGE_AND_TEXT:3}:{INLINE_TEXT:1,INLINE_ICON_IMAGE_AND_TEXT:2,STACKED_TEXT:3},q=!U&&z!==H.STACKED_TEXT,G=U?n:i,W=U?O:x,V=U?_:w,K=U?b:m,Y=U?g:j,X=U?L:A,{altText:$,uri:Q}=(U?c:u)||{},{altText:Z,uri:J}=y||{},{altText:ee,uri:te}=S||{},ne=U&&z===H.CENTERED_ICON_IMAGE_AND_TEXT||!U&&z===H.INLINE_ICON_IMAGE_AND_TEXT,ie=U?"96px":"48px",re=U&&z===H.COVER_IMAGE_AND_TEXT,oe=({event:e})=>{N&&N(e)},ae=({event:e})=>{M&&M(e)},se={buttonColor:K||"#E60023",buttonTextColor:Y||"#FFFFFF"},ce={buttonColor:W||"#EFEFEF",buttonTextColor:V||"#111111",marginRight:"4px"},le=f&&!P&&Object(d.jsx)(o.a,{buttonText:f,onClick:e=>oe({event:e}),style:se}),de=f&&P&&Object(d.jsx)(o.a,{buttonText:f,onClick:e=>oe({event:e}),url:P,external:B,style:se},"naglink"),ue=v&&R&&Object(d.jsx)(o.a,{buttonText:v,onClick:e=>ae({event:e}),url:R,external:B,style:ce},"naglink"),he=v&&!R&&Object(d.jsx)(o.a,{buttonText:v,onClick:e=>ae({event:e}),style:ce}),pe=p&&Object(d.jsx)(l.x,{accessibilityLabel:t._("Close","accessibility close label","accessibility close label"),bgColor:"lightGray",onClick:ae,icon:"cancel"}),be=I.reduce((e,t,n)=>{const i=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",r=`<a href="${t}" ${i}>${E[n]}</a>`;return e.replace(`{${n}}`,r)},k),me={backgroundColor:G,backgroundImage:!Q||ne||re?void 0:`url(${Q})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return Object(d.jsxs)(l.f,{direction:q?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:[Object(d.jsx)(r.a,{unsafeCSS:h}),Object(d.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:Object(d.jsxs)(l.D,{rounding:4,width:"100%",children:[re&&J&&Object(d.jsx)(l.f,{alignItems:"start",display:"flex",height:128,justifyContent:"center",width:"100%",children:Object(d.jsx)(l.y,{alt:Z||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:J})}),Object(d.jsxs)(l.f,{"aria-label":$,alignItems:"center",dangerouslySetInlineStyle:{__style:me},direction:q?"row":"column",display:"flex",justifyContent:"between",marginTop:re?-2:0,padding:6,children:[Object(d.jsxs)(l.f,{alignItems:"center",direction:q?"row":"column",display:"flex",justifyContent:"between",maxWidth:q?void 0:"560px",children:[ne&&te&&Object(d.jsx)(l.f,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:q?4:0,marginBottom:q?0:6,children:Object(d.jsx)(l.f,{height:ie,width:ie,children:Object(d.jsx)(l.D,{rounding:q?4:6,children:Object(d.jsx)(l.y,{alt:ee||"icon",naturalHeight:1,naturalWidth:1,src:te})})})}),!q&&D&&Object(d.jsx)(l.bb,{align:"center",weight:"bold",children:Object(d.jsx)("div",{className:"banner-title",style:{color:X,fontSize:"28px",marginBottom:"8px"},children:D})}),be&&Object(d.jsxs)(l.bb,{align:q?"start":"center",overflow:"normal",children:[Object(d.jsx)("style",{dangerouslySetInnerHTML:{__html:`\n                        .banner-text a {\n                          color: ${X||""};\n                          font-weight: bold;\n                        }`}}),Object(d.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:be},style:{color:X}})]})]}),Object(d.jsxs)(l.f,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:q?0:-1,marginStart:q?4:0,marginTop:q?0:4,wrap:!q,children:[he||ue,le||de,pe]})]})]})})]})}var b=n("NdXn"),m=n("gC5q");t.a=({placementId:e})=>Object(d.jsx)(i.a,{placementId:e,predicate:e=>{var t;return 1===(null==e||null===(t=e.display_data)||void 0===t?void 0:t.component_type)},children:({complete:e,dismiss:t,display_data:n})=>{const i=Object(m.a)(b.a)(n);return Object(d.jsx)(p,{displayData:i,onComplete:e,onDismiss:t})}})},JZM8:function(e,t,n){var i=n("FfPP"),r=n("xs/l")((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},JwAW:function(e,t,n){function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return i}))},"K+2c":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI");function r(){const[e,t]=Object(i.useState)(0),n=Object(i.useRef)(null),r=Object(i.useCallback)(()=>{n.current&&t(n.current.clientWidth)},[n]);return Object(i.useEffect)(()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[r]),Object(i.useEffect)(r),[e,n]}},K316:function(e,t,n){var i=n("mBfy");t.a=()=>i.default.isAuthenticated()&&!!i.default.attributes.facebook_id&&!i.default.isLimitedLogin()},KDF4:function(e,t,n){n.r(t),n.d(t,"default",(function(){return ne}));var i=n("q1tI"),r=n("uza4"),o=n("/MKj"),a=n("gxu6"),s=n("n6mq"),c=n("nKUr");var l=function(e){const{accessibilityLabel:t,iconType:n,iconBackgroundColor:i,iconColor:r,onClickHander:o,text:a,widthInColumn:l}=e;return Object(c.jsx)(s.f,{column:l,display:"flex",justifyContent:"center",minWidth:248,children:Object(c.jsx)(s.ab,{onTap:o,children:Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",children:[Object(c.jsx)(s.f,{color:i,display:"flex",justifyContent:"center",alignItems:"center",width:70,height:70,rounding:"circle",children:Object(c.jsx)(s.w,{accessibilityLabel:t,color:r,icon:n,size:40})}),Object(c.jsx)(s.f,{display:"inlineBlock",marginStart:2,children:Object(c.jsx)(s.bb,{inline:!0,children:Object(c.jsx)("span",{className:"deprecatedTextSizeXL",children:a})})})]})})})},d=n("eOdZ"),u=n("TgLd"),h=n("yweb"),p=n("c50B");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),b(this,"state",{websiteUrl:this.props.websiteUrl||"",websiteUrlErrors:[]}),b(this,"validators",{websiteUrl:[Object(p.r)({message:this.props.i18n._("Not a valid url.","[m10n] Validation error when a url is not a valid format","[m10n] Validation error when a url is not a valid format")})]}),b(this,"handleWebsiteChange",({value:e})=>{const t=Object(p.s)(this.validators.websiteUrl,e);this.setState({websiteUrl:e,websiteUrlErrors:t});const{onWebsiteInputChange:n}=this.props;n&&n(e)})}render(){const{onDismiss:e,onComplete:t}=this.props,{websiteUrlErrors:n}=this.state;return Object(c.jsx)(u.b,{accessibilityModalLabel:this.props.i18n._("What's your website","Accessibility label for modal to input user website","Accessibility label for modal to input user website"),footer:Object(c.jsxs)(s.f,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[Object(c.jsx)(s.f,{"data-test-id":"user-website-input-close",flex:"shrink",paddingX:4,children:Object(c.jsx)(s.g,{fullWidth:!0,color:"gray",onClick:e,text:this.props.i18n._("Cancel","Button label for cancelling the action to set profile cover pins","Button label for cancelling the action to set profile cover pins")})}),Object(c.jsx)(s.f,{"data-test-id":"user-website-input-next",flex:"shrink",children:Object(c.jsx)(s.g,{fullWidth:!0,color:"red",onClick:n=>{e(),t()},text:this.props.i18n._("Next","Button label for opening the claim website modal","Button label for opening the claim website modal")})})]}),heading:this.props.i18n._("What's your website","Header for the user website input modal.","Header for the user website input modal."),onDismiss:e,size:"sm",children:Object(c.jsx)(s.f,{height:130,padding:6,children:Object(c.jsx)(s.db,{errorMessage:n&&n.join(", "),id:"userWebsite",name:"website_url",onChange:this.handleWebsiteChange,placeholder:this.props.i18n._("www.red-shoes-online.com","Sample website prompt for claiming a website","Sample website prompt for claiming a website"),size:"lg",value:this.state.websiteUrl||""})})})}}function f(e){const t=Object(h.c)();return Object(c.jsx)(m,{...e,i18n:t})}var g=n("v/Q4"),j=n("TPPM"),y=n("WcFk"),O=n("uOCL"),x=n("4cpq"),v=n("28DW"),_=n("AAEI"),w=n("2qKt"),S=n("Wa7p"),C=n("XOrG"),T=n("U4JR"),I=n("w70y");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){const n=(e||"default").replace(/ /g,"");Object(v.a)(`web.partner.claimWebsiteTagUpsell.${n}.${t}`)}const P=502468,R=1000298;class L extends i.Component{constructor(...e){super(...e),E(this,"state",{downloadClicked:!1,modalStep:1,verificationType:""}),E(this,"componentDidMount",()=>{const{experience:e}=this.props;if(e&&e.experience_id===P){var t;k((null==e||null===(t=e.display_data)||void 0===t?void 0:t.tag_integration)||"default","render")}}),E(this,"handleForward",()=>this.setState({modalStep:2})),E(this,"handleBack",()=>this.setState({modalStep:1})),E(this,"handleSubmit",()=>{const{website_url:e,experience:t,experienceClient:n,onHide:i}=this.props;Object(T.b)(101,{element:10736});if(d.a.create("DomainVerifyResource",{type:this.state.verificationType,domain:e}).callUpdate(),this.props.attemptToClaimWebsite(),a.b("attemptToClaimWebsite","1",24),this.props.onSuccess&&this.props.onSuccess(),t&&t.experience_id===P){var r;Object(T.b)(120,{component:13624}),n.viewExperience(R,P);k((null==t||null===(r=t.display_data)||void 0===r?void 0:r.tag_integration)||"default","complete"),this.setState({modalStep:3})}else i()}),E(this,"handleInstall",()=>{var e;const{experience:t,experienceClient:n}=this.props;Object(T.b)(101,{component:13624,element:11926}),n.completeExperience(R,P);const i=(null==t||null===(e=t.display_data)||void 0===e?void 0:e.tag_integration)||"",r=Object(S.b)(i);Object(j.a)(r)}),E(this,"handleDismissTag",()=>{const{experience:e=null,experienceClient:t,onHide:n}=this.props;Object(T.b)(101,{component:13624,element:11925}),t.dismissExperience(R,P);k(e&&e.display_data&&e.display_data.tag_integration||"default","dismiss"),n()}),E(this,"handleDownload",()=>{this.setState({downloadClicked:!0}),Object(y.a)("/website/confirm/download/")}),E(this,"handleCopy",()=>{window.document.getElementById("textAreaMetatag").select(),document.execCommand("copy")}),E(this,"renderNextFooter",e=>Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2,children:Object(c.jsx)(x.a,{id:"claim-website-next",children:Object(c.jsx)(s.g,{color:e?"red":"gray",text:this.props.i18n._("Next","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),onClick:this.handleForward,disabled:!e})})})),E(this,"renderModalStep1",()=>{var e;const{downloadClicked:t,verificationType:n}=this.state,{verification_code:i}=null!==(e=this.props.domainVerifyResource.data)&&void 0!==e?e:{},r="metatag"===n||"filename"===n&&t,o='<meta name="p:domain_verify" content="'+i+'"/>';return Object(c.jsxs)(u.b,{accessibilityModalLabel:this.props.i18n._("Confirm your website","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:this.renderNextFooter(r),heading:this.props.i18n._("Pick claim option","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:[Object(c.jsxs)(s.f,{paddingY:7,paddingX:3,children:[Object(c.jsxs)(s.f,{alignItems:"start",display:"flex",justifyContent:"start",children:[Object(c.jsx)(s.f,{paddingX:3,flex:"shrink",children:Object(c.jsx)(s.N,{checked:"metatag"===n,id:"metatag",name:"websiteVerification",onChange:()=>this.setState({verificationType:"metatag"}),size:"md",value:"metatag"})}),Object(c.jsxs)(s.f,{flex:"grow",marginTop:1,children:[Object(c.jsx)(s.f,{marginBottom:1,children:Object(c.jsx)(s.bb,{color:"darkGray",weight:"bold",children:this.props.i18n._("Add HTML tag","Label for adding an HTML tag to claim a website","Label for adding an HTML tag to claim a website")})}),Object(c.jsx)(s.f,{children:Object(c.jsx)(s.bb,{children:this.props.i18n._("Paste this tag into the <head> section of your site’s index.html file","Label for adding an HTML tag to claim a website","Label for adding an HTML tag to claim a website")})})]})]}),"metatag"===n&&Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:3,paddingY:3,children:Object(c.jsx)(s.f,{column:12,children:Object(c.jsx)(s.cb,{id:"textAreaMetatag",onChange:(e,t)=>{this.forceUpdate()},value:o})})})]}),Object(c.jsxs)(s.f,{marginBottom:8,paddingX:3,children:[Object(c.jsxs)(s.f,{alignItems:"start",display:"flex",justifyContent:"start",children:[Object(c.jsx)(s.f,{paddingX:3,flex:"shrink",children:Object(c.jsx)(s.N,{checked:"filename"===n,id:"filename",name:"websiteVerification",size:"md",onChange:()=>this.setState({verificationType:"filename"}),value:"filename"})}),Object(c.jsxs)(s.f,{flex:"grow",marginTop:1,children:[Object(c.jsx)(s.f,{marginBottom:1,children:Object(c.jsx)(s.bb,{color:"darkGray",weight:"bold",children:this.props.i18n._("Upload HTML file","Label for uploading an html file to claim a website","Label for uploading an html file to claim a website")})}),Object(c.jsx)(s.f,{children:Object(c.jsx)(s.bb,{children:this.props.i18n._("Download this file and upload it to your website's root directory","Label for uploading an html file to claim a website","Label for uploading an html file to claim a website")})})]})]}),"filename"===n&&Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:3,paddingY:3,children:Object(c.jsx)(s.g,{fullWidth:!0,color:t?"gray":"red",onClick:this.handleDownload,text:this.props.i18n._("Download","Button label for downloading a file to claim a website","Button label for downloading a file to claim a website")})})]})]})}),E(this,"renderModalStep2",()=>{const e=Object(c.jsxs)(s.f,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[Object(c.jsx)(s.f,{flex:"shrink",marginEnd:4,children:Object(c.jsx)(s.g,{fullWidth:!0,color:"gray",text:this.props.i18n._("Back","Button label for going back to step 1 of the claim website sequence","Button label for going back to step 1 of the claim website sequence"),onClick:this.handleBack})}),Object(c.jsx)(s.f,{flex:"shrink",marginStart:4,children:Object(c.jsx)(x.a,{id:"claim-website-submit",children:Object(c.jsx)(s.g,{fullWidth:!0,color:"red",text:this.props.i18n._("Submit","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),onClick:this.handleSubmit})})})]});return Object(c.jsx)(u.b,{accessibilityModalLabel:this.props.i18n._("Submit for review","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:e,heading:this.props.i18n._("Submit for review","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:6,paddingX:6,children:Object(c.jsx)(s.bb,{children:this.props.i18n._("All set? We'll check your site for the meta tag and email you in the next 24 hours.","Confirmation message before claiming website","Confirmation message before claiming website")})})})}),E(this,"renderTagUpsellModal",()=>{var e;const{experience:t}=this.props,n=(null==t||null===(e=t.display_data)||void 0===e?void 0:e.tag_integration)||"",i=Object(C.b)(n)||this.props.i18n._("To track how well ads drive conversion events on your claimed site, install the Pinterest tag.","[m10n] website_modal.tag_upsell_step.body2","Message describing Pinterest tag and prompting the user to install"),r=Object(c.jsxs)(s.f,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2,children:[Object(c.jsx)(s.f,{flex:"shrink",children:Object(c.jsx)(s.g,{fullWidth:!0,color:"gray",onClick:this.handleDismissTag,text:this.props.i18n._("Done","[m10n] website_modal.tag_upsell_step.done","Button label for completing claim website flow and exiting the modal")})}),Object(c.jsx)(s.f,{flex:"shrink",marginStart:2,children:Object(c.jsx)(s.g,{fullWidth:!0,color:"red",onClick:this.handleInstall,text:this.props.i18n._("Install tag","[m10n] website_modal.tag_upsell_step.install","Button label for installing the Pinterest tag")})})]});return Object(c.jsx)(u.b,{accessibilityModalLabel:this.props.i18n._("Tag upsell modal","[m10n] website_modal.tag_upsell_step.accessibility_label","Accessibility label for tag install screen on the claim website modal"),footer:r,heading:this.props.i18n._("Success!","[m10n] website_modal.tag_upsell_step.title","Modal heading for tag upsell screen"),onDismiss:this.props.onHide,size:"sm",children:Object(c.jsxs)(s.f,{paddingX:8,children:[Object(c.jsx)(s.f,{marginBottom:4,children:Object(c.jsx)(s.bb,{children:this.props.i18n._("You’ll be notified once we review your site for the meta tag; it may take up to 24 hours.","[m10n] website_modal.tag_upsell_step.body1","Message describing Pinterest tag and prompting the user to install")})}),Object(c.jsx)(s.f,{children:Object(c.jsx)(s.bb,{children:i})})]})})})}render(){if(!this.props.domainVerifyResource.isLoaded){const e=Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2,children:Object(c.jsx)(s.g,{color:"gray",text:this.props.i18n._("Next","Button label for completing step 1 of the claim website sequence","Button label for completing step 1 of the claim website sequence"),disabled:!0})});return Object(c.jsx)(u.b,{accessibilityModalLabel:this.props.i18n._("Claim your website","Accessibility label for confirm website modal","Accessibility label for confirm website modal"),footer:e,heading:this.props.i18n._("Pick claim option","Modal heading for confirm website modal","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md",children:Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10,children:Object(c.jsx)(s.U,{accessibilityLabel:this.props.i18n._("Loading","Accessibility label for loading spinner","Accessibility label for loading spinner"),show:!0})})})}if(this.props.domainVerifyResource.error)return Object(c.jsx)(O.a,{error:this.props.domainVerifyResource.error,onHide:this.props.onHide});switch(this.state.modalStep){case 1:return this.renderModalStep1();case 2:return this.renderModalStep2();case 3:return this.renderTagUpsellModal();default:return null}}}var A=Object(w.a)(R)((function(e){const t=Object(h.c)(),n=Object(I.a)({name:"DomainVerifyResource",allowStale:!1}),i=Object(_.a)();return Object(c.jsx)(L,{...e,domainVerifyResource:n,experienceClient:i,i18n:t})})),D=n("EC67");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(...e){super(...e),B(this,"state",{attemptToClaimWebsite:"1"===a.a("attemptToClaimWebsite"),showUserWebsiteInputModal:!1,websiteModalShown:!1,websiteUrl:this.props.viewer.isAuth?this.props.viewer.domainUrl:void 0}),B(this,"handleClaimWebsiteSuccess",()=>{Object(T.b)(7509,{view:1,viewParameter:92,component:13233}),this.setState({attemptToClaimWebsite:"1"===a.a("attemptToClaimWebsite")})}),B(this,"closeUserWebsiteInputModal",()=>this.setState({showUserWebsiteInputModal:!1})),B(this,"closeClaimWebsiteModal",()=>{this.setState({websiteModalShown:!1})}),B(this,"handleWebsiteChange",e=>{this.setState({websiteUrl:e})}),B(this,"navigateToCreatePin",()=>{const{history:e}=this.props;Object(T.b)(101,{view:1,viewParameter:92,component:13233,element:10797}),e.push("/pin-builder/")}),B(this,"openClaimWebsiteModal",()=>{this.setState({websiteModalShown:!0});const{websiteUrl:e}=this.state,{viewer:t}=this.props,{domainUrl:n}=t.isAuth?t:{};if(e!==n){d.a.create("UserSettingsResource",{website_url:e}).callUpdate().finally(()=>{a.c("attemptToClaimWebsite")})}}),B(this,"showUserWebsiteInputModal",()=>{Object(T.b)(101,{view:1,viewParameter:92,component:13233,element:10796}),this.setState({showUserWebsiteInputModal:!0})}),B(this,"renderChecklistAction",(e,t)=>{let n;switch(e){case"show_claim_website":const{attemptToClaimWebsite:e}=this.state;return n=this.props.i18n._("Claim your website","Label for claiming website","Label for claiming website"),Object(c.jsx)(l,{accessibilityLabel:n,iconType:e?"ellipsis":"globe",iconBackgroundColor:"white",iconColor:"blue",onClickHander:this.showUserWebsiteInputModal,text:n,widthInColumn:t});case"show_create_pin":const{pinCreatedViaCreatorChecklist:i}=this.props;return n=this.props.i18n._("Create your first Pin","Label for creating the first pin","Label for creating the first pin"),Object(c.jsx)(l,{accessibilityLabel:n,iconType:i?"check":"pin",iconBackgroundColor:i?"green":"white",iconColor:i?"white":"blue",onClickHander:this.navigateToCreatePin,text:n,widthInColumn:t});default:return null}})}render(){const{actionList:e,handleDismiss:t,header:n,viewer:i}=this.props,{showUserWebsiteInputModal:r,websiteModalShown:o,websiteUrl:a}=this.state,l=e&&e.length?Math.floor(12/e.length):1,d=n||this.props.i18n._("Follow these steps to get going on Pinterest","The headline of new business user's checklist","The headline of new business user's checklist");return Object(c.jsxs)(s.f,{display:"flex",justifyContent:"between",height:150,color:"lightGray",position:"relative",children:[Object(c.jsx)(s.f,{color:"blue",display:"flex",alignItems:"center",justifyContent:"center",width:"40%",minWidth:352,paddingX:8,paddingY:8,dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"240px 476px"}},children:Object(c.jsx)(s.v,{color:"white",children:d})}),Object(c.jsx)(s.f,{display:"flex",width:"60%",alignItems:"center",justifyContent:"center",paddingX:12,children:e.map(e=>this.renderChecklistAction(e,l))}),Object(c.jsx)(s.f,{position:"absolute",top:!0,right:!0,padding:2,children:Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Close","Close the experience UI","Close the experience UI"),icon:"cancel",onClick:t})}),r&&Object(c.jsx)(f,{onComplete:this.openClaimWebsiteModal,onDismiss:this.closeUserWebsiteInputModal,onWebsiteInputChange:this.handleWebsiteChange,websiteUrl:i.isAuth?i.domainUrl:""}),o&&Object(c.jsx)(A,{onHide:this.closeClaimWebsiteModal,attemptToClaimWebsite:()=>{},onSuccess:this.handleClaimWebsiteSuccess,website_url:a})]})}}function M(e){const t=Object(h.c)(),n=Object(o.useSelector)(({creatorChecklist:e})=>!!e&&e.pinCreatedViaCreatorChecklist);return Object(c.jsx)(N,{...e,history:Object(D.h)(),pinCreatedViaCreatorChecklist:n,viewer:Object(g.a)(),i18n:t})}var F=n("c4Fo"),U=n("5JIi"),z=n("Ye/N"),H=({color:e,completeButtonText:t,completeButtonUrl:n,completeButtonUrlInNewTab:i,dismissButtonText:r,handleComplete:o=(()=>{}),handleDismiss:a=(()=>{}),header:s="",headerSubtitle:l=""})=>Object(c.jsx)(U.a,{message:(s+" "+l).trim(),dismissButtonText:r||z.a._("Close","Closing a Hero banner","Closing a Hero banner"),completeButtonText:t||z.a._("Go","Completing the Hero banner","Completing the Hero banner"),completeUrl:n,onComplete:o,onDismiss:a,external:i,color:e});var q=function({color:e,completeButtonText:t,completeButtonUrl:n,completeButtonUrlInNewTab:i,handleComplete:r=(()=>{}),header:o="",headerSubtitle:a=""}){const s=Object(h.c)();return Object(c.jsx)(U.a,{message:(o+" "+a).trim(),completeButtonText:t||s._("Go","Completing the Hero banner","Completing the Hero banner"),completeUrl:n,onComplete:r,external:i,color:e||"darkGray"})},G=n("NdXn"),W=n("clxp"),V=n("r9FX"),K=n("rYoy");const Y=Object(i.lazy)(()=>Promise.all([n.e(134),n.e(137),n.e(196),n.e("RenuxContainer")]).then(n.bind(null,"2nOP")));function X(e){const t=Object(h.c)(),[n,r]=Object(i.useState)(!1),[o,a]=Object(i.useState)(!1),l=Object(I.a)({name:"InterestFollowingResource",options:{page_size:5,field_set_key:"grid_item_nux"}}),{data:d,isFetching:u,isLoaded:p,refresh:b}=l,m=()=>{o?b():Object(T.b)(101,{component:13215,viewParameter:3197}),a(!o)};return Object(c.jsxs)(s.f,{color:"white",marginTop:6,paddingY:2,position:"relative",children:[Object(c.jsx)(s.f,{marginEnd:5,position:"absolute",right:!0,top:!0,children:Object(c.jsx)(s.x,{accessibilityLabel:t._("Close","homefeed.topicEducation.dismissButtonLabel","Dismiss button label for topic education experience banner"),icon:"cancel",iconColor:"darkGray",onClick:e.handleDismiss,size:"lg"})}),Object(c.jsx)(s.v,{align:"center",size:"md",children:t._("Ideas in your feed are based on these topics","homefeed.topicEducation.header","Educating user that his HF is made of these topics")}),Object(c.jsxs)(s.f,{display:"flex",justifyContent:"center",paddingY:6,children:[!u&&p&&null!=d&&d.length?(f=d,Object(c.jsx)(s.ab,{fullWidth:!1,mouseCursor:"pointer",onTap:m,rounding:4,children:f.map(e=>Object(c.jsx)(s.f,{paddingX:1,display:"inlineBlock",children:Object(c.jsx)(V.a,{interest:e,isSelected:!1,isTopicEdu:!0,size:"md_120"},e.id)},e.id))})):null,Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"center",children:Object(c.jsx)(s.U,{accessibilityLabel:t._("Loading additional topics","Label for the loading state spinner in the Topics section of the Following page","Label for the loading state spinner in the Topics section of the Following page"),show:u||!p})}),Object(c.jsxs)(s.f,{display:"inlineBlock",paddingX:1,children:[!u&&Object(c.jsx)(s.ab,{fullWidth:!1,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTap:m,rounding:4,children:Object(c.jsx)(s.f,{alignItems:"center",color:n?"darkWash":"lightWash",display:"flex",height:120,justifyContent:"center",rounding:4,width:120,children:Object(c.jsx)(s.w,{accessibilityLabel:t._("Modify Topics","homefeed.topicEducation.editButtonLabel","Edit topics button label in topic education experience at home feed"),color:"darkGray",icon:"add",size:24})})}),Object(c.jsx)(W.a,{name:"SafeSuspense_TopicEducation_RenuxContainer",children:Object(c.jsx)(K.a,{children:o&&Object(c.jsx)(Y,{isSimpleRenux:!0,hideFollowedInterests:!1,dismissCallback:m,completeCallback:m})})})]})]})]});var f}var $=n("FDmi"),Q=n("vvax");function Z({completeButtonText:e,headerSubtitle:t,handleComplete:n,handleDismiss:i}){const r=Object(h.c)(),o=Object(g.a)(),{firstName:a,imageLargeUrl:l}=o.isAuth?o:{};return Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",position:"relative",children:Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",justifyContent:"between",marginTop:4,marginBottom:2,marginStart:8,marginEnd:8,rounding:4,padding:8,position:"relative",width:1016,dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",children:[Object(c.jsx)(s.f,{marginEnd:6,marginTop:-2,marginBottom:-2,children:Object(c.jsx)($.a,{name:a,src:l,size:"lg",outline:!0})}),Object(c.jsxs)(s.f,{display:"flex",direction:"column",justifyContent:"center",children:[Object(c.jsx)(s.f,{marginBottom:2,children:Object(c.jsx)(s.v,{size:"sm",children:Object(Q.b)(r._("Welcome back, {{ name }}",'shown on a banner, "welcome back, first_name"','shown on a banner, "welcome back, first_name"'),{name:a})})}),Object(c.jsx)(s.bb,{children:t})]})]}),Object(c.jsx)(s.f,{marginEnd:4,children:Object(c.jsx)(s.g,{color:"white",size:"lg",text:e,onClick:n})}),Object(c.jsx)(s.f,{position:"absolute",padding:2,top:!0,right:!0,children:Object(c.jsx)(s.x,{accessibilityLabel:r._("Close","accessible label for close button","accessible label for close button"),iconColor:"darkGray",icon:"cancel",onClick:i,size:"sm"})})]})})}var J=n("pQ8y"),ee=n("gC5q"),te=n("pLLR");function ne({completeButtonUrl:e,onDismiss:t,placementId:n}){const[o,a]=Object(i.useState)(!1),l=Object(te.d)();return Object(c.jsx)(F.a,{placementId:n,type:13,children:({experience_id:n,complete:i,dismiss:d,display_data:u})=>{e&&(u.complete_button_url=e);const h=(e=>{switch(e){case 502597:return r.default;case 500863:return Z;case 500689:return X;case 500840:return M;case 501117:case 501153:case 501487:return q;default:return H}})(n),p={requestContext:l,experienceId:n,handleComplete:i,handleDismiss:()=>{t&&t(),d()},color:"blue",...Object(ee.a)(G.a)(u)};return o||a(!0),Object(c.jsx)(J.a,{in:o,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:Object(c.jsx)(s.f,{marginBottom:4,children:Object(c.jsx)(h,{...p})})})}})}},KEt0:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({ariaHidden:e=!1,size:t}){return Object(r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:Object(r.jsx)(i.bb,{inline:!0,size:null!=t?t:"md",children:"·"})})}},KPZG:function(e,t,n){n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return C}));var i=n("q1tI"),r=n("FDmi"),o=n("NoNI"),a=n("T+9/"),s=n("T0g9"),c=n("/MKj"),l=n("DBEV"),d=n("TgLd"),u=n("xjqW");var h=({id:e,viewParameter:t,viewType:n})=>Object(u.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),p=n("eOdZ"),b=n("M1Uz"),m=n("yweb"),f=n("nGHF"),g=n("n6mq"),j=n("nKUr");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{constructor(...e){var t;super(...e),t=this,y(this,"state",{showModal:!1,reportType:null}),y(this,"handleDismiss",()=>this.setState({showModal:!1})),y(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),y(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await p.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),y(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>Object(j.jsx)(b.a,{onHide:e,text:this.props.i18n._("Thanks for your report! This will be reviewed by our Trust and Safety Team","ReportingFlag.Toast.text","Toast after reporting a search suggestion")})),this.handleDismiss())}),y(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return Object(j.jsxs)(i.Fragment,{children:[this.props.isVisible&&Object(j.jsx)(l.a,{onClick:this.showModal,backgroundHaloSize:24}),e&&Object(j.jsx)(d.b,{accessibilityModalLabel:this.props.i18n._("Report search term","ReportingFlag.Modal.accessibilityModalLabel","accessible label for report suggestion modal"),heading:this.props.i18n._("Report search term","ReportingFlag.Modal.heading","Heading for report suggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:Object(j.jsxs)(g.f,{children:[Object(j.jsx)(g.f,{padding:5,children:Object(j.jsx)(g.bb,{children:this.props.i18n._("When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","ReportingFlag.Box.Text.report","What will happen when you report a suggestion")})}),Object(j.jsxs)(g.f,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[Object(j.jsxs)(g.f,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(j.jsx)(g.N,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),Object(j.jsx)(g.f,{flex:"grow",children:Object(j.jsx)(g.z,{htmlFor:"textType",children:Object(j.jsx)(g.f,{paddingX:2,children:Object(j.jsx)(g.bb,{children:"Report search text"})})})})]}),Object(j.jsxs)(g.f,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(j.jsx)(g.N,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),Object(j.jsx)(g.f,{flex:"grow",children:Object(j.jsx)(g.z,{htmlFor:"imageType",children:Object(j.jsx)(g.f,{paddingX:2,children:Object(j.jsx)(g.bb,{children:"Report search image"})})})})]})]}),Object(j.jsx)(g.q,{}),Object(j.jsxs)(g.f,{display:"flex",justifyContent:"end",padding:2,children:[Object(j.jsx)(g.f,{margin:2,children:Object(j.jsx)(g.g,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._("Cancel","ReportingFlag.Box.Button.text.cancel","Text for cancel button when reporting search suggestion")})}),Object(j.jsx)(g.f,{margin:2,children:Object(j.jsx)(g.g,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._("Report","ReportingFlag.Box.Button.text.report","Button label to report search suggestion"),disabled:!this.state.reportType})})]})]})})]})}}var x=Object(c.connect)(null,(e,t)=>({reportImage:n=>e(h({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(f.c)((function(e){const t=Object(m.c)();return Object(j.jsx)(O,{...e,i18n:t})}))),v=n("eBDd"),_=n("v/Q4"),w=n("flQA");const S=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r})=>{const o=[0,24,21,25,26].includes(e),a=Object(s.a)({q:t,rs:n||void 0,b_id:i,source_id:r});return o?"/discover/article/"+i:"/search/pins/"+(a?"?"+a:"")};function C({bubble:e,height:t,storyId:n,width:s,onClick:c,referringSource:l,contextLogData:d,viewType:u,viewParameter:h,slotIndex:p,handleReport:b,showFlag:f,imgSignature:y,onMouseEnter:O,onMouseLeave:C,isHovered:T,disableTabIndex:I}){const E=Object(m.c)(),k=Object(_.a)(),{id:P,action:R,cover_images:L,dominant_colors:A,identifier_icon_type:D,title:B,story_category:N,curator:M}=e,F=L&&L[0]?L[0]["280x280"]||L[0]["236x"]:void 0,U=Object(v.a)(B&&B.format||"",B&&B.args||{}),z=A&&A.length?A[0]:"gray",H=(null==R?void 0:R.url)||S({storyCategory:N,query:U,referringSource:l,bubbleId:P,storyId:n});return Object(j.jsx)(a.a,{impressionAuxFields:{storyCategory:N,storyIdStr:n},impressionType:"Article",loggingId:P,viewType:u,viewParameter:h,slotIndex:p,contextLogData:{story_id:n,...d},children:Object(j.jsx)(o.a,{backgroundColor:z,coverImage:F,height:t,id:P,isHovered:T,onClick:c,onMouseEnter:O,onMouseLeave:C,url:H,width:s,disableTabIndex:I,children:({isHovered:e})=>Object(j.jsxs)(i.Fragment,{children:[M&&26!==N&&Object(j.jsx)(g.f,{position:"absolute",top:!0,left:!0,padding:2,children:Object(j.jsx)(r.a,{outline:!0,size:"xs",src:M.image_small_url,name:M.full_name})}),D&&D!==w.a&&Object(j.jsx)(g.f,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:Object(j.jsx)(g.w,{icon:Object(w.b)(D),accessibilityLabel:E._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),Object(j.jsx)(g.f,{display:"flex",height:t,width:s||"100%",position:"absolute",top:!0,padding:3,alignItems:26===N?"end":"center",justifyContent:"center",children:Object(j.jsxs)(g.f,{display:"flex",direction:"column",children:[t>200?Object(j.jsx)(g.v,{size:"md",align:"center",color:"white",children:U}):Object(j.jsx)(g.bb,{align:"center",color:"white",weight:"bold",children:U}),M&&26===N&&Object(j.jsxs)(g.f,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[Object(j.jsx)(g.f,{marginEnd:2,children:Object(j.jsx)(r.a,{outline:!0,size:"xs",src:M.image_small_url,name:M.full_name})}),Object(j.jsx)(g.bb,{size:"sm",color:"white",children:M.full_name})]})]})}),k.isAuth&&k.isEmployee&&f?Object(j.jsx)(g.f,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:Object(j.jsx)(x,{handleReport:b,viewType:u,viewParameter:h,imgSignature:y||"",isVisible:e})}):null]})})})}},Kv0b:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var i=n("qD10"),r=n("yweb"),o=n("20LM"),a=n("vvax"),s=n("XhR6"),c=n("Awfv"),l=n("n6mq"),d=n("nKUr");function u({scope:e,typo:t}){const n=Object(r.c)(),{corrected:o,correction:c,original:u}=t,h=o?`/search/${e}/?q=${encodeURIComponent(u)}&rs=typo_auto_original&auto_correction_disabled=true`:`/search/${e}/?q=${encodeURIComponent(c)}&rs=typo_suggestion&auto_correction_disabled=true`;return Object(d.jsx)(l.bb,{align:e===s.a.PINS_MINE?"center":"start",children:o?Object(a.b)(n._("Here's what we found for {{ correctionLink }}. Search {{ originalLink }} instead?","Misspelled search query has been auto-corrected. Offer to search for the original query.","Misspelled search query has been auto-corrected. Offer to search for the original query."),{correctionLink:Object(d.jsx)(l.bb,{inline:!0,children:c},"correctionLink"),originalLink:Object(d.jsx)(i.a,{className:"searchAutocorrectLink",to:h,children:Object(d.jsx)(l.bb,{inline:!0,weight:"bold",children:u})},"originalLink")}):Object(a.b)(n._("Did you mean {{ correctionLink }}?","Search term seems to be misspelled. Offer to search for the correct spelling.","Search term seems to be misspelled. Offer to search for the correct spelling."),{correctionLink:Object(d.jsx)(i.a,{className:"searchAutocorrectLink",to:h,children:c},"correctionLink")})})}function h(){const{data:e}=Object(o.a)(),{scope:t}=Object(c.b)();return e&&e.typo?Object(d.jsx)(l.f,{paddingX:2,minHeight:20,color:"white",children:Object(d.jsx)(u,{typo:e.typo,scope:t})}):null}},L2iP:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));const i=64,r=80,o=22,a="HeaderContent",s=671,c={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},LT60:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("d2Eh"),r=n("nKUr");const o=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:c}){const l=e=>function(e,t){t&&e.keyCode===i.a.ESCAPE||a(e)}(e,t);return Object(r.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:o,onCanPlay:n?o:a,onCanPlayThrough:a,onChange:a,onClick:e?o:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:o,onInput:a,onInvalid:a,onKeyDown:l,onKeyPress:l,onKeyUp:l,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?o:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?o:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?o:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?o:a,onTouchMove:e?o:a,onTouchStart:e?o:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:c})}},LqyK:function(e,t,n){n.r(t);var i=n("d7ng"),r=n("+NLT"),o=n("K316"),a=n("TvzZ"),s=n("Jr++"),c=n("JZM8"),l=n.n(c),d=n("eOdZ"),u=n("zwad");const h={open(e){const t=l()(e,h._validParams),n=h._getDialogType(e),r=h.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n;let p=Object(i.a)(e.path);const b=Object(s.a)();if(b.ptrf&&(p=u.a.appendQueryString(p,{ptrf:b.ptrf})),c&&(p=u.a.appendQueryString(p,{fb_ref:r})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),Object(a.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let i,r=10;const o=setInterval(()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&r||(clearInterval(o),i&&h.executeMessengerCallback(i,e.callback)),r-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{c&&t&&!t.error_message&&d.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},o.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.a.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,r=window.screen.width,o=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((r-n)/2)+",top="+(o>i?Math.round((o-i)/2):0)}};t.default=h},LvPn:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("FylZ"),r=n("pody"),o=n("nEAA");const a=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:c,isExternal:l,isVisuallyCompleteRequired:d}=e;return s.responseEnd&&("image"!==n||d)?{name:a(e),id:Object(i.a)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:Object(r.a)(s),binaryAnnotationMap:{category:Object(o.d)(n),decodedBodySize:Object(o.b)(s.decodedBodySize||0),initiatorType:Object(o.d)(s.initiatorType),isDeferred:Object(o.a)(c),isExternal:Object(o.a)(l),name:Object(o.d)(s.name),nextHopProtocol:Object(o.d)(s.nextHopProtocol),transferSize:Object(o.b)(s.transferSize||0)}}:null}},M1Uz:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("4jWr"),o=n("n6mq"),a=n("nKUr");function s({color:e="white",duration:t=2e3,href:n,iconThumbnail:s,imageUrl:c,onClick:l,onHide:d,openNewPage:u,text:h,button:p,thumbnailShape:b="square",dataTestId:m}){const[f,g]=Object(i.useState)(!1),[j,y]=Object(i.useState)(!1),O=Object(i.useRef)(),x=()=>{g(!0),O.current=setTimeout(d,r.a)},v=()=>{O.current&&clearTimeout(O.current)},_=()=>{O.current=setTimeout(x,t)};Object(i.useEffect)(()=>(setTimeout(()=>y(!0),100),_(),v),[]);const w="string"==typeof h?h:`${h[0]} ${h[1]}`,S=c?Object(a.jsx)(o.f,{height:48,overflow:"hidden",width:48,children:Object(a.jsx)(o.y,{alt:w,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,C=Object(a.jsx)(o.eb,{color:e,text:h,thumbnail:null!=s?s:S,button:p,thumbnailShape:b});return Object(a.jsx)("div",{style:Object(r.b)(j,f),onMouseEnter:v,onMouseLeave:_,"data-test-id":null!=m?m:"toast",children:n?Object(a.jsx)("a",{href:n,onClick:l,target:u?"_blank":null,rel:u?"noopener noreferrer":null,children:C}):C})}},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},Mulp:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("yweb"),r=n("vvax"),o=n("n6mq"),a=n("QAzJ"),s=n("nKUr");const c=[0,2,3];function l({sponsorName:e,sponsorshipStatus:t,textWeight:n}){const l=Object(i.c)(),d=Object(a.b)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let u=l._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the brand is unspecified");e&&!c.includes(t)&&(u=Object(r.b)(l._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:e}));const h=d?"Ad • ":"";return Object(s.jsxs)(o.bb,{inline:!0,size:"md",weight:n,children:[h,u]})}},"N/FO":function(e,t,n){const i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();t.a=({window:e,duration:t,run:n})=>{const r=i();let o=0,a=null;const s=()=>{const c=i()-r,l=c-o;if(t===1/0)n(0,c,l);else{const e=c/t;if(e>=1)return void n(1,c,l);n(e,c,l)}o=c,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},N84b:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return h}));var i=n("N/FO");const r={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},o={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:(4-2*e)*e-1},a=({scrollPosition:e,containerSize:t,contentSize:n,intendedDistance:i,extendToEdgeDistance:r=0})=>{const o=n-t,a=o-e,s=-e;let c=i;return c=Math.min(c,a),c=Math.max(c,s),i>0&&o-(e+c)<=r?c=o-e:i<0&&e+c<=r&&(c=-e),c},s=(e,t,n,s={})=>{const c={...r,...s},{scrollLeft:l,scrollTop:d,scrollWidth:u,scrollHeight:h,clientWidth:p,clientHeight:b}=e,m=a({scrollPosition:l,containerSize:p,contentSize:u,intendedDistance:t,extendToEdgeDistance:c.extendToEdgeDistanceX}),f=a({scrollPosition:d,containerSize:b,contentSize:h,intendedDistance:n,extendToEdgeDistance:c.extendToEdgeDistanceY}),g=Math.abs(Math.floor(m/c.scrollSpeedPxPerMs)),j=Math.abs(Math.floor(f/c.scrollSpeedPxPerMs));let y=Math.max(g,j);c.minScrollDuration&&(y=Math.max(y,c.minScrollDuration));const O=o[c.easingFunction]||o["ease-in-out"];return Object(i.a)({window,duration:y,run:t=>{e.scrollLeft=l+m*O(t),e.scrollTop=d+f*O(t),1===t&&c.onAnimationComplete&&setTimeout(c.onAnimationComplete,0)}})};function c(e){return e===window?window.innerHeight:e.clientHeight}function l(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function d(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function u(e){return e===window?l():e.scrollTop}function h(){window&&window.scroll(0,0)}},N89m:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("ynlw"),r=n("0nTG");function o(e,t){const{isProduct:n}=Object(i.a)(e);return(n||"ShoppingWishlist"===t&&Object(r.i)(e))&&Object(r.c)(e)||""}},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NVsV:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("q1tI");const r="__ALL__",o="__NONE__",a={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:o,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},s=Object(i.createContext)(a);t.c=s},NdXn:function(e,t,n){function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return i}))},NjDU:function(e,t,n){function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l}));const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function l(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},Nle8:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("ajUs"),r=n("zpPL");function o(e,t){const n=r.a.instance;let o;if(n){const r=n.getState();if(r.pins&&e){const n=r.pins[e],a=r.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);n&&(o=t?e[t]:e.PinResource)}else n&&(o=Object(i.a)(n,a))}}return o}},NoNI:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("TNox"),o=n("n6mq"),a=n("nKUr");const s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function c({backgroundColor:e,children:t,coverImage:n,height:c,id:l,isHovered:d,onMouseEnter:u,onMouseLeave:h,onClick:p,url:b,width:m,disableTabIndex:f}){var g,j;const[y,O]=Object(i.useState)(!1),x=()=>{u?u():O(!0)},v=()=>{h?h():O(!1)},_=d||y;return Object(a.jsx)(r.a,{href:b,onBlur:v,onMouseLeave:v,onFocus:x,onMouseEnter:x,onTap:()=>{null==p||p(l)},rounding:4,tabIndex:f?-1:void 0,children:Object(a.jsx)(o.D,{rounding:4,width:m||"100%",height:c,children:null!=n&&n.url?Object(a.jsxs)(o.y,{alt:"",color:e,fit:"cover",naturalHeight:null!==(g=n.height)&&void 0!==g?g:1,naturalWidth:null!==(j=n.width)&&void 0!==j?j:1,role:"presentation",src:n.url,children:[Object(a.jsx)(o.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_?s.hoverOverlay:s.bubbleOverlay}}),"function"==typeof t?t({isHovered:_}):t]}):Object(a.jsx)(o.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},NrS9:function(e,t,n){n.d(t,"b",(function(){return c}));var i=n("gxu6"),r=n("7w6Q"),o=n("eOdZ"),a=n("mBfy");const s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer(e,t,n){i.b("cm_sub","allowed",8760,"/"),t&&t(),r.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let a=e.subscriptionId;if(!a){const t=e.endpoint.split("/");a=t[t.length-1]}return o.a.create("WebPushDeviceResource",{}).callGet({showError:!1}).then(t=>{const n=t.resource_response.data;if(!(a in n)){const t={registration_id:a,subscription_endpoint:e.endpoint};return o.a.create("WebPushDeviceResource",t).callCreate()}})},subscribe(e,t,n){return r.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then(o=>{var a;null==o||null===(a=o.pushManager)||void 0===a||a.subscribe({userVisibleOnly:!0}).then(t=>this.sendSubscriptionToServer(t,e,n),o=>{"Notification"in window&&"denied"!==Notification.permission?(i.b("cm_sub","dismissed",8760,"/"),t&&t(),r.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(i.b("cm_sub","denied",8760,"/"),e&&e(),r.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))})}).catch(()=>{})},initializeState(){if(a.default.isLimitedLogin())i.b("cm_sub","denied",8760,"/");else if(a.default.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{if(e)return this.sendSubscriptionToServer(e);throw i.b("cm_sub","none",8760,"/"),new Error}).catch(e=>{});i.b("cm_sub","denied",8760,"/")}else i.b("cm_sub","denied",8760,"/");else i.b("cm_sub","denied",8760,"/");else i.b("cm_sub","denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{s.instance().initializeState()}).catch(()=>{})});const c=()=>{if("serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}};t.a=s},NwjN:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(0)},"O1y+":function(e,t,n){var i=n("pOug");const r=Object(i.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=r},O7RO:function(e,t,n){var i=n("CMye"),r=n("7GkX");e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},OMuV:function(e,t,n){var i=[],r=[];function o(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.prototype.toString,a=r.call(e);if(a!=r.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=n.length;s--;)if(n[s]==e)return i[s]==t;n.push(e),i.push(t);var c=0;if("[object Array]"===a){if((c=e.length)!==t.length)return!1;for(;c--;)if(!o(e[c],t[c],n,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var l=Object.keys(e);if(l.length!=Object.keys(t).length)return!1;for(var d=0;d<l.length;d++)if(!o(e[l[d]],t[l[d]],n,i))return!1}return n.pop(),i.pop(),!0}e.exports=function(e,t){var n=i.length?i.pop():[],a=r.length?r.pop():[],s=o(e,t,n,a);return n.length=0,a.length=0,i.push(n),r.push(a),s}},ONNR:function(e,t,n){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return T}));var i,r,o,a,s=function(e,t){return{name:e,value:void 0===t?-1:0,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},l=!1,d=function(e,t){l||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),l=!0),addEventListener("visibilitychange",(function n(i){"hidden"===document.visibilityState&&(e(i),t&&removeEventListener("visibilitychange",n,!0))}),!0)},u=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},h=new WeakSet,p=function(e,t,n){var i;return function(){t.value>=0&&(n||h.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},b=function(e,t){var n,i=s("CLS",0),r=function(e){e.hadRecentInput||(i.value+=e.value,i.entries.push(e),n())},o=c("layout-shift",r);o&&(n=p(e,i,t),d((function(){o.takeRecords().map(r),n()})),u((function(){i=s("CLS",0),n=p(e,i,t)})))},m=-1,f=function(){return"hidden"===document.visibilityState?0:1/0},g=function(){d((function(e){var t=e.timeStamp;m=t}),!0)},j=function(){return m<0&&(m=f(),g(),u((function(){setTimeout((function(){m=f(),g()}),0)}))),{get timeStamp(){return m}}},y=function(e,t){var n,i=j(),r=s("FCP"),o=c("paint",(function(e){"first-contentful-paint"===e.name&&(o&&o.disconnect(),e.startTime<i.timeStamp&&(r.value=e.startTime,r.entries.push(e),h.add(r),n()))}));o&&(n=p(e,r,t),u((function(i){r=s("FCP"),n=p(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,h.add(r),n()}))}))})))},O={passive:!0,capture:!0},x=new Date,v=function(e,t){i||(i=t,r=e,o=new Date,S(removeEventListener),_())},_=function(){if(r>=0&&r<o-x){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+r};a.map((function(t){t(e)})),a=[]}},w=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){v(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,O),removeEventListener("pointercancel",i,O)};addEventListener("pointerup",n,O),addEventListener("pointercancel",i,O)}(t,e):v(t,e)}},S=function(e){["mousedown","keydown","touchstart","pointerdown"].map((function(t){return e(t,w,O)}))},C=function(e,t){var n,o=j(),l=s("FID"),b=function(e){e.startTime<o.timeStamp&&(l.value=e.processingStart-e.startTime,l.entries.push(e),h.add(l),n())},m=c("first-input",b);n=p(e,l,t),m&&d((function(){m.takeRecords().map(b),m.disconnect()}),!0),m&&u((function(){var o;l=s("FID"),n=p(e,l,t),a=[],r=-1,i=null,S(addEventListener),o=b,a.push(o),_()}))},T=function(e,t){var n,i=j(),r=s("LCP"),o=function(e){var t=e.startTime;t<i.timeStamp&&(r.value=t,r.entries.push(e)),n()},a=c("largest-contentful-paint",o);if(a){n=p(e,r,t);var l=function(){h.has(r)||(a.takeRecords().map(o),a.disconnect(),h.add(r),n())};["keydown","click"].map((function(e){addEventListener(e,l,{once:!0,capture:!0})})),d(l,!0),u((function(i){r=s("LCP"),n=p(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,h.add(r),n()}))}))}))}}},OQKm:function(e,t,n){n.d(t,"a",(function(){return te}));var i=n("q1tI"),r=n("clxp"),o=n("rYoy"),a=n("M1Uz"),s=n("yweb"),c=n("nGHF"),l=n("n6mq"),d=n("nKUr");const u=Object(i.lazy)(()=>n.e("ReactCopyToClipboardLibrary").then(n.t.bind(null,"P5Jw",7)));function h({linkURL:e,onDidFocus:t,onDidClickCopyButton:n}){const i=Object(s.c)(),{showOneToast:h}=Object(c.b)(),p=i._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",paddingX:4,children:[Object(d.jsx)(l.f,{flex:"grow",marginEnd:2,children:Object(d.jsx)(l.db,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),Object(d.jsx)(r.a,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:Object(d.jsx)(o.a,{fallback:Object(d.jsx)(l.g,{text:p,disabled:!0}),children:Object(d.jsx)(u,{text:e,onCopy:(e,t)=>{t&&h(({onHide:e})=>Object(d.jsx)(a.a,{onHide:e,text:i._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),n()},children:Object(d.jsx)(l.g,{text:p,size:"lg"})})})})]})}var p=n("mvLR"),b=n("oVol"),m=n("U4JR"),f=n("udob");const g=e=>({invite_category:4,invite_channel:12,object_type:b.a.BOARD,object_id:e});function j({boardId:e}){const[t,n]=Object(i.useState)(!1),[r,o]=Object(i.useState)(null);Object(i.useEffect)(()=>{if(!r){const t=g(e),{cancel:n,promise:i}=Object(p.a)(f.a.createShareInviteData(t));return i.then(e=>o(e)),()=>{n()}}},[]);const a=r?r.invite_url:"...",s=()=>{null===r||t||(n(!0),f.a.logShareInvite(g(e),r))};return Object(d.jsx)(h,{linkURL:a,onDidClickCopyButton:()=>{Object(m.b)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),s()},onDidFocus:s})}var y=n("+wrf"),O=n("FDmi"),x=n("w70y");function v({boardId:e,invitedUserId:t,isInvited:n,onClick:r,buttonSize:o="sm"}){const a=Object(s.c)(),c=Object(x.a)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});Object(i.useEffect)(()=>{c.refresh()},[]);const u={text:a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return c.isFetching&&(u.text=a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(n||c.isLoaded&&c.data)&&(u.text=a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),Object(d.jsx)(l.g,{fullWidth:!0,color:u.color,size:o,disabled:u.disabled,onClick:r,text:u.text})}var _=n("ViqK"),w=n("xZ6X"),S=n("fZbY"),C=n("7w6Q"),T=n("TSYQ"),I=n.n(T),E=n("G35+"),k=n("+zF7");const{FACEBOOK:P,GPLUS:R,YAHOO:L}=E.a,A="40px";function D(e){const t=Object(s.c)(),n={[P]:t._("Find friends from Facebook"),[R]:t._("Find friends from Google+"),[L]:t._("Find friends from Yahoo")},{network:i}=e;return Object(d.jsx)(l.ab,{onTap:()=>function(e){k.a.instance().handleConnect(e,!0,{})}(i),children:Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[Object(d.jsx)(l.f,{width:A,height:A,marginEnd:4,children:Object(d.jsx)("div",{className:"SocialConnectCell",children:Object(d.jsx)("div",{className:I()("icon","socialConnect-"+i),children:Object(d.jsx)("em",{})})})}),Object(d.jsx)(l.f,{display:"flex",flex:"grow",alignItems:"start",direction:"column",children:Object(d.jsx)(l.bb,{color:"darkGray",size:"md",weight:"bold",children:n[i]})})]})})}var B=n("oRM1"),N=n("v/Q4"),M=n("x12c");var F=n("ZE2w");const U=[];function z({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:n,shareSuggestions:r}){const o=Object(s.c)(),a=Object(N.a)(),[c,u]=Object(i.useState)(a.isAuth?a.socialNetwork:void 0),[h,p]=Object(i.useState)(""),[b,f]=Object(i.useState)([]),[g,j]=Object(i.useState)({}),[y,x]=Object(i.useState)({}),T=e=>{if(!e)return[];return Object.keys(e).filter(e=>U.includes(e)).filter(t=>!1===e[t].connected).map(e=>Object(d.jsx)(D,{network:e},"socialConnect-"+e))},I=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||o._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||o._("Email Contact","invited user has an email","invited user has an email")}return""};M.b.subscribe("currentUser","socialNetworkUpdated",(e,t,n)=>{u(function(e){return{facebook:{connected:e.connected_to_facebook||!1},google:{connected:e.connected_to_google||!1},youtube:{connected:e.connected_to_youtube||!1},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:e.connected_to_microsoft||!1},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:e.connected_to_etsy||!1},instagram:{connected:e.connected_to_instagram||!1},dropbox:{connected:e.connected_to_dropbox||!1}}}(n))});const E=(i,r)=>{const{id:o,full_name:a,debug_reason:s}=i;let c="";s&&(c=s.reason),((t,n)=>{const i=h?1044:1039;Object(m.b)(101,{component:13029,element:i,entered_query:h,result_index:t+1,rs:n,objectId:e,view:5,viewParameter:3059})})(r,c);const l={...g};l[o]=!0,j(l),Object(F.d)(e,[o]).then(()=>{n(a,!0)}).catch(e=>{n(a,!1,e);const t={...g};t[o]=!1,j(t)}).finally(t)},k=[...T(c)];let P=r;return h&&(P=b),Object(d.jsxs)(l.f,{minHeight:0,display:"flex",direction:"column",children:[Object(d.jsx)(l.f,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:Object(d.jsx)(l.f,{flex:"grow",children:Object(d.jsx)(B.a,{onTypeaheadSuggestionsChange:e=>{C.a.increment("web_contacts_search",1,{source:"board_invite"}),f(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:h,children:Object(d.jsx)(l.f,{paddingX:4,children:Object(d.jsx)(l.Q,{accessibilityLabel:o._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:({value:e})=>{p(e),Object(m.b)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})},placeholder:o._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:h})})})})}),Object(d.jsxs)(l.f,{overflow:"scrollY",maxHeight:414,children:[P.map((t,n)=>{const i=t.username?`/${t.username}/`:null;return Object(d.jsx)(l.f,{children:Object(d.jsx)(_.a,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:I(t),accessory:Object(d.jsx)(v,{boardId:e,invitedUserId:t.id,isInvited:(r=t.id,!!g[r]),onClick:()=>E(t,n),buttonSize:"lg"}),linkURL:i})},n);var r}),h&&(Object(S.a)(h)?Object(d.jsx)(_.a,{name:h,title:h,accessory:(R=!!y[h],L=()=>{const i=h;if(!Object(S.a)(i))return;const r={...y};r[i]=!0,x(r),Object(F.c)(e,[i]).then(()=>{n(i,!0),p("")}).catch(e=>{n(i,!1,e);const t={...y};t[i]=!1,x(t)}).finally(t)},A="lg",Object(d.jsx)(l.g,{fullWidth:!0,color:R?"gray":"red",disabled:!!R,size:A,onClick:L,text:R?o._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):o._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):Object(d.jsx)(w.a,{iconNode:Object(d.jsx)(O.a,{name:h,size:"md"}),title:h,subtitle:o._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),k]})]});var R,L,A}var H=n("vvax");function q({boardId:e}){const t=Object(s.c)(),n=Object(c.b)(),{refresh:r}=Object(x.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},allowStale:!1}),{refresh:o}=Object(x.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},allowStale:!1}),{data:u,isLoaded:h}=Object(x.a)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},allowStale:!1});Object(i.useEffect)(()=>{Object(m.b)(7120,{objectId:e,view:5,viewParameter:3059})},[]),Object(i.useEffect)(()=>{if(h){const e=u&&u.length>0?7511:7512;Object(m.b)(e,{component:13305,element:10592,view:5,viewParameter:3059})}},[h]);const p=(e,t=!1)=>{n.showOneToast(({onHide:n})=>Object(d.jsx)(a.a,{color:t?"red":void 0,duration:3e3,onHide:n,text:e}))};return h?Object(d.jsx)(z,{boardId:e,onInvitesDidUpdate:()=>{r(),o()},onInviteDidComplete:(e,n,i)=>{n?p(t._("1 invite sent!","BoardCollabInviteFormContainer.showInviteSuccessToast.text","Toast for successfully sending invitation of collaborating a board")):((e,n)=>{const i=t._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");p(n&&n.message?n.message:Object(H.b)(i,{userIdentifier:e}).join(""),!0)})(e,i)},shareSuggestions:u||[]}):Object(d.jsx)(l.f,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:Object(d.jsx)(l.U,{accessibilityLabel:t._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0})})}const G="INVITE_SETTING",W="REQUEST_TO_JOIN_SETTING";function V({boldHeading:e,setting:t,viewerIsOwner:n}){const r=Object(s.c)(),o={0:{name:r._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:r._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:r._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:n?r._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):r._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[G]:{name:r._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:r._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[W]:{name:r._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:r._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},a=e?l.v:l.bb;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(a,{color:"darkGray",size:e?"sm":"lg",children:o[t].name}),Object(d.jsx)(l.f,{paddingY:1,children:Object(d.jsx)(l.bb,{color:"gray",size:"lg",children:o[t].description})})]})}var K=n("EwHv"),Y=n("TgLd"),X=n("EC67");function $({board:e,currentPermissionLevel:t,navigateToPermissions:n,onDismiss:r}){var o;const a=Object(s.c)(),c="number"==typeof e.collaborator_count&&e.collaborator_count>0,[u,h]=Object(i.useState)(!c),p=Object(N.a)(),b=Object(X.h)(),m=p.isAuth&&(null===(o=e.owner)||void 0===o?void 0:o.id)===p.id,f=m||e.collaborator_invites_enabled,g=u&&!c||!u;return Object(d.jsx)(Y.b,{accessibilityModalLabel:u?a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:f&&!u?Object(d.jsx)(l.ab,{onTap:()=>h(!0),rounding:8,children:Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",children:[Object(d.jsx)(l.x,{accessibilityLabel:a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),Object(d.jsx)(l.f,{paddingX:3,children:Object(d.jsx)(l.bb,{size:"lg",weight:"bold",children:a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form")})})]})}):null,heading:Object(d.jsx)(l.f,{padding:8,children:Object(d.jsx)(l.v,{align:"center",size:"md",children:u?a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")})}),onDismiss:r,children:Object(d.jsxs)(l.f,{marginBottom:5,children:[g&&Object(d.jsxs)(l.f,{paddingX:6,children:[Object(d.jsx)(l.f,{paddingY:3,children:Object(d.jsx)(l.bb,{size:"sm",children:m?a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):a._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting")})}),Object(d.jsxs)(l.f,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[Object(d.jsx)(l.f,{width:"60%",children:Object(d.jsx)(V,{boldHeading:!0,viewerIsOwner:m,setting:t})}),m&&Object(d.jsx)(l.x,{accessibilityLabel:a._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:n})]})]}),u?Object(d.jsxs)(l.f,{paddingX:2,children:[Object(d.jsx)(j,{boardId:e.id}),Object(d.jsx)(q,{boardId:e.id})]}):Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{paddingX:6,paddingY:5,children:Object(d.jsx)(l.bb,{size:"sm",children:a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board")})}),Object(d.jsx)(K.a,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=p.isAuth?"/"+p.username:"/";b.replace(e)},renderInvite:(e,t,n)=>{const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(d.jsx)(y.a,{...i})}})]})]})})}var Q=n("/MKj"),Z=n("pLLR"),J=n("oN2T");function ee({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:n},currentPermissionLevel:r,navigateToCollaborators:o,onDismiss:a}){const c=Object(s.c)(),[u,h]=Object(i.useState)(r),[p,b]=Object(i.useState)(e),[f,g]=Object(i.useState)(t),[j,y]=Object(i.useState)(!1),O=Object(Z.d)(),x=Object(Q.useDispatch)();return Object(d.jsx)(Y.b,{accessibilityModalLabel:c._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:Object(d.jsxs)(l.f,{paddingY:8,position:"relative",children:[Object(d.jsx)(l.f,{position:"absolute",top:!0,left:!O.isRTL,right:O.isRTL,paddingY:8,paddingX:6,children:Object(d.jsx)(l.x,{accessibilityLabel:c._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:o})}),Object(d.jsx)(l.v,{align:"center",size:"md",children:c._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")}),Object(d.jsx)(l.f,{position:"absolute",top:!0,left:O.isRTL,right:!O.isRTL,paddingY:8,paddingX:6,children:Object(d.jsx)(l.x,{accessibilityLabel:c._("Close","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"cancel",iconColor:"darkGray",onClick:a})})]}),footer:Object(d.jsx)(l.f,{display:"flex",justifyContent:"end",children:Object(d.jsx)(l.g,{color:"red",disabled:j||u===r&&p===e&&f===t,onClick:()=>{y(!0);const i={id:n},o={view:5,viewParameter:3472};p!==e&&(i.collaborator_invites_enabled=p,Object(m.b)(p?106:107,{element:11896,...o})),u!==r&&(i.collaborator_permissions_setting=u,Object(m.b)(8841,{...o})),f!==t&&(i.collaborator_requests_enabled=f),x(Object(J.n)(i)).then(()=>a())},size:"lg",text:c._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})}),onDismiss:a,children:Object(d.jsxs)(l.f,{paddingX:12,children:[Object(d.jsx)(l.f,{paddingY:3,children:Object(d.jsx)(l.bb,{size:"sm",children:c._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions")})}),Object(d.jsxs)(l.f,{alignItems:"center",display:"flex",children:[Object(d.jsx)(l.N,{checked:0===u,id:"ALL",onChange:()=>h(0),value:0}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(V,{setting:0})})]}),Object(d.jsxs)(l.f,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[Object(d.jsx)(l.N,{checked:1===u,id:"SAVE_ONLY",onChange:()=>h(1),value:1}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(V,{setting:1})})]}),Object(d.jsx)(l.f,{paddingY:3,children:Object(d.jsx)(l.bb,{size:"sm",children:c._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting")})}),Object(d.jsxs)(l.f,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[Object(d.jsx)(l.k,{checked:p,id:"inviteSetting",onChange:({checked:e})=>b(e)}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(V,{setting:G})})]}),Object(d.jsxs)(l.u,{alignItems:"center",justifyContent:"start",children:[Object(d.jsx)(l.k,{checked:f,id:"inviteSetting",onChange:({checked:e})=>g(e)}),Object(d.jsx)(l.f,{marginEnd:12,paddingX:2,children:Object(d.jsx)(V,{setting:W})})]})]})})}function te({board:e,onDismiss:t}){const[n,r]=Object(i.useState)("collaboratorsView"),{collaborator_permissions_setting:o}=e;return"collaboratorsView"===n?Object(d.jsx)($,{board:e,currentPermissionLevel:o,navigateToPermissions:()=>r("permissionsView"),onDismiss:t}):Object(d.jsx)(ee,{board:e,currentPermissionLevel:o,navigateToCollaborators:()=>r("collaboratorsView"),onDismiss:t})}},OSge:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));const i="0.8.0",r=9/16,o=8;function a(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const s={HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",MENTION_STICKER:"story_pin_mention_sticker_block",PRODUCT_STICKER:"story_pin_product_sticker_block"},c={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},l={...c,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},OVpa:function(e,t,n){const i={fragment:{argumentDefinitions:r=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"debD"},{defaultValue:null,kind:"LocalArgument",name:"query"}],kind:"Fragment",metadata:null,name:"UserSearchPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"UserSearchPagination_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"UserSearchPaginationQuery",selections:[{alias:null,args:[{kind:"Variable",name:"debD",variableName:"debD"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:null,kind:"LinkedField",name:"v3SearchUsersQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:a=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"V3SearchUsersDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3SearchUsersDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'recentPinImages(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[c={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null},p={alias:null,args:null,concreteType:"TextTagMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinBlockId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinPageId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:[l,s],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auxData",storageKey:null},l,s],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[s,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[c,l,p,d,u,h],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:[s],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SearchfeedTabs",kind:"LinkedField",name:"searchfeedTabs",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchfeedTab",kind:"LinkedField",name:"tabs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SearchNag",kind:"LinkedField",name:"searchNag",plural:!1,selections:[{alias:null,args:null,concreteType:"Nag",kind:"LinkedField",name:"nag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"messages",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:a,filters:null,handle:"connection",key:"UserSearchPagination_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3SearchUsersDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3SearchUsers",abstractKey:null}],storageKey:null}]},params:{cacheID:"0a2ccf81a8d7865a1eaf6f47e10d5a68",id:null,metadata:{},name:"UserSearchPaginationQuery",operationKind:"query",text:'query UserSearchPaginationQuery(\n  $count: Int = 50\n  $cursor: Cursor\n  $debD: String\n  $query: String!\n) {\n  ...UserSearchPagination_query_1G22uz\n}\n\nfragment SearchContainer_searchUsersConnection on V3SearchUsersDataConnection {\n  searchfeedTabs {\n    ...SearchTabBar_searchfeedTabs\n  }\n  sensitivity {\n    ...SearchSensitiveContentNotice_sensitivity\n  }\n  ...SearchNagWithCheckGQL_searchUsersConnection\n  ...SearchDebugInfo_searchUsersConnection\n}\n\nfragment SearchDebugInfo_searchUsersConnection on V3SearchUsersDataConnection {\n  debugData\n}\n\nfragment SearchNagWithCheckGQL_searchUsersConnection on V3SearchUsersDataConnection {\n  searchNag {\n    nag {\n      messages\n    }\n  }\n  sensitivity {\n    advisory\n    notices {\n      title\n    }\n    severity\n  }\n}\n\nfragment SearchResultUsersList on User {\n  imageMediumUrl\n  entityId\n  explicitlyFollowedByMe\n  followerCount\n  fullName\n  isVerifiedMerchant\n  recentPinImages(spec: "222x") {\n    height\n    width\n    url\n    dominantColor\n  }\n  username\n  verifiedIdentity {\n    verified\n  }\n}\n\nfragment SearchSensitiveContentNotice_sensitivity on Sensitivity {\n  advisory\n  severity\n  notices {\n    description {\n      text\n      textTags {\n        length\n        link\n        objectId\n        offset\n        tagType\n        metadata {\n          storyPinBlockId\n          storyPinPageId\n        }\n      }\n    }\n    style\n    title\n    footer {\n      link\n      text\n    }\n    actions {\n      button {\n        auxData\n        link\n        text\n      }\n      description {\n        text\n        textTags {\n          length\n          link\n          metadata {\n            storyPinBlockId\n            storyPinPageId\n          }\n          objectId\n          offset\n          tagType\n        }\n      }\n      title {\n        text\n      }\n    }\n  }\n}\n\nfragment SearchTabBar_searchfeedTabs on SearchfeedTabs {\n  tabs {\n    name\n    tabType\n  }\n}\n\nfragment UserSearchPagination_query_1G22uz on Query {\n  v3SearchUsersQuery(query: $query, debD: $debD) {\n    __typename\n    ... on V3SearchUsers {\n      data {\n        __typename\n        ... on V3SearchUsersDataConnectionContainer {\n          connection(first: $count, after: $cursor) {\n            edges {\n              node {\n                ...SearchResultUsersList\n                id\n                __typename\n              }\n              cursor\n            }\n            sensitivity {\n              advisory\n              severity\n            }\n            ...SearchContainer_searchUsersConnection\n            pageInfo {\n              endCursor\n              hasNextPage\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'}};var r,o,a,s,c,l,d,u,h,p;i.hash="b6a507c7249878125742d60cb8466df7",e.exports=i},OWXb:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("eOdZ");function r(e){return t=>function(e){return i.a.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(e=>new Promise((t,n)=>{const i=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;i?t(i):n(new Error("No blocking actions found in the response"))}))}(e).then(n=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n))}},Og0o:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i="closeupImage",r=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},OkGA:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i="numSearchCloseups",r=20},PFNz:function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},PgW8:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("7pfs"),r=n("n6mq"),o=n("nKUr");function a(e,t){return t?"red":e?"gray":void 0}function s({colors:e,isSelected:t,onClick:n}){return Object(o.jsx)(i.a,{children:({hovered:i,onMouseEnter:s,onMouseLeave:c})=>Object(o.jsx)(r.f,{alignItems:"center",display:"flex",height:64,children:Object(o.jsx)(r.ab,{mouseCursor:"pointer",onMouseEnter:s,onMouseLeave:c,onTap:n,rounding:"pill",children:Object(o.jsx)(r.f,{alignItems:"center",color:a(i,t),display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:Object(o.jsx)(r.f,{alignItems:"center",color:"white",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:Object(o.jsx)(r.f,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:e.map((e,t)=>Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},`${e}-${t}`))})})})})})})}},Pqnw:function(e,t,n){function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return i}))},PsyL:function(e,t,n){t.a=function({hours:e,minutes:t}){return`PT${e}H${t}`}},"Q2/A":function(e,t,n){t.a=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},QAzJ:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("q1tI"),r=n("hlDC");function o(e){return e.startsWith("enabled")||e.startsWith("employee")}function a(e){const t=Object(r.b)(),n=t.v2GetGroup(e)||"",a=o(n),s=(e=>{const t=Object(i.useRef)(!1),n=Object(i.useRef)(!1);return Object(i.useEffect)(()=>{t.current=!0,n.current&&e()},[]),()=>{t.current?e():n.current=!0}})(()=>{t.v2ActivateExperiment(e)});return e=>(null!=e&&e.dangerouslySkipActivation||s(),{group:n,anyEnabled:a})}function s(e,t=!0){const n=a(e);return t?n():{group:"",anyEnabled:!1}}},QCnb:function(e,t,n){e.exports=n("+wdc")},QIyF:function(e,t,n){var i=n("Kz5y");e.exports=function(){return i.Date.now()}},QKYm:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d}));const i=3,r={square:{width:236,height:236},wide:{width:300,height:200},xWide:{width:358,height:200},xxWide:{width:376,height:200}},o={square:{width:236,height:176},wide:{width:300,height:135},xWide:{width:358,height:200},xxWide:{width:376,height:200}},a={square:{width:236,height:157},wide:{width:320,height:213}};function s(e,t){return t?o[e].width:r[e].width}function c(e,t){return t?o[e].height:r[e].height}function l(e){return a["square"===e?"square":"wide"]}function d(e){return"list"===e?"100%":l(e).width+16}},QO9Q:function(e,t,n){var i=n("QAzJ"),r=n("lIqH");t.a=()=>{const e=Object(i.b)("web_m10n_business_access_orbac_www"),t=Object(r.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{};return e().anyEnabled&&n||Object.freeze({})}},R0ru:function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var i=n("q1tI"),r=n("clxp"),o=n("f1Dd"),a=n("yqcB"),s=n("rXev"),c=n("n6mq");const l={},d=(e,t)=>{if(null!=e)return l[e]&&l[e].screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth,cache:t?s.a.createMeasurementStore():c.E.createMeasurementStore()}),l[e].cache};var u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p="undefined"!=typeof window?()=>window:void 0;class b extends i.Component{constructor(...e){super(...e),h(this,"renderItem",e=>{const{comp:t}=this.props;return Object(u.jsx)(r.a,{name:"MasonryPerfTimingItem",children:Object(u.jsx)(t,{...e})})}),h(this,"loadItems",()=>{const{isFetching:e,loadItems:t}=this.props;e||t()})}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:r,items:a,layout:s,masonryRef:c,minCols:l,paddingStyle:h,scrollContainer:b,serverRender:m,useMasonry9:f,virtualize:g,widthOffset:j}=this.props;return Object(u.jsx)(o.a,{columnWidth:t,comp:this.renderItem,flexible:n,gutterWidth:i,isGridCentered:r,items:a,layout:s,loadItems:this.loadItems,masonryRef:c,measurementStore:d(e,f),minCols:l,paddingStyle:h,scrollContainer:b||p,serverRender:m,useMasonry9:f,virtualize:g,widthOffset:j})}}function m({cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:r,isAtEnd:o,isFetching:s,isGridCentered:c=!0,isLoaded:l,items:d,pinData:h,layout:m,loadItems:f,masonryRef:g,minCols:j,paddingStyle:y,scrollContainer:O,serverRender:x=!0,useMasonry9:v,virtualize:_,widthOffset:w,includeBackgroundImages:S,includeVideos:C}){return Object(u.jsx)(a.a,{isAtEndOfFeed:o,pinData:h,itemCount:d.length,includeBackgroundImages:S,includeVideos:C,children:Object(u.jsx)(b,{cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:r,isFetching:s,isGridCentered:c,items:d,layout:m,loadItems:f,masonryRef:g,minCols:j,paddingStyle:y,scrollContainer:O||p,serverRender:x,useMasonry9:v,virtualize:_,widthOffset:w})})}},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),r=n("Ep0g"),o=(n("HGDa"),n("0S8y"));const a=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(r.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(o.d)({user:e})&&!Object(o.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},RPF1:function(e,t,n){function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return i}))},Rfw2:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("T0g9");const r=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case o.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function c({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>s(e))})}function l(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>r.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return l(t).map(t=>({index:n,term:t,type:e}));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return l(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},SNfw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({size:e,iconColor:t,backgroundColor:n,grayscale:r=!1}){const o=t||(r?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},SnOm:function(e,t){e.exports="https://s.pinimg.com/webapp/curly-a8610709.svg"},Sp3T:function(e,t,n){var i=n("aOj9");t.a=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:n}=Object(i.d)(),{shouldStopEventPropagation:r}=e;return"AUTH"===n.type?e=>e:()=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),r&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0)}}},Sxd8:function(e,t,n){var i=n("ZCgT");e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},"T+9/":function(e,t,n){var i=n("q1tI"),r=n("i8i4"),o=n("/MKj"),a=n("6/Sz"),s=n("D2p8"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),l(this,"trackImpression",()=>{try{this.node=Object(r.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),l(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:r,contextLogData:o,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:u,objectIdStr:h,slotIndex:p,trackCarousel:b,viewData:m,viewParameter:f,viewType:g}=this.props,j=d[l],y=j.idType,O=e.forcedExit&&"removed"===e.forcedExit?0:void 0,x={endTime:e.endTime,[y]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:O};if(b||Object(c.b)(j.eventType,{closeup_navigation_type:i,component:r,element:a,eventData:{[j.impressionType]:[x]},objectIdStr:h,view:g,viewData:m||{},viewParameter:f,...o}),t&&b){const{carousel_slots:e,index:n=0,id:i}=t;Object(c.b)(7352,{component:r,eventData:{pinCarouselSlotImpressions:[{...x,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:g,viewData:m||{},viewParameter:f,...o})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(o.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function r(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function o(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:r,board:o}=e;return!(i||n||(!t||!t.id)&&!r||null!=o&&o.is_collaborative&&o.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},TO8r:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},TYy9:function(e,t,n){var i=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},Te6n:function(e,t,n){n.r(t),n.d(t,"default",(function(){return g}));var i=n("q1tI"),r=n("/MKj"),o=n("ENn1"),a=n("jCsw"),s=n("5871"),c=n("Zxas"),l=n("yweb"),d=n("kVqD"),u=n("YxyV"),h=n("DJoW"),p=n("Y8Sn"),b=n("gD/Z"),m=n("n6mq"),f=n("nKUr");function g({feedbackData:e,feedbackType:t,pin:n,pinTitle:g,setForcePrimary:j,transparentBackground:y}){const O=Object(l.c)(),x=Object(r.useDispatch)(),{viewParameter:v,viewType:_}=Object(b.b)(),[w,S]=Object(i.useState)(!1),[C,T]=Object(i.useState)(),{ad_match_reason:I,show_ad_reasons:E,board:k,category:P,description:R,id:L="",images:A,is_promoted:D,pinner:B,promoter:N,recommendation_reason:M,source_interest:F,videos:U}=n;var z;const H=(z=D?60:50,function(e){return Object(c.a)((e||"").trim(),z)})(null!=R?R:""),q=Object(a.a)(A,"236x"),G=Object(p.i)(U),W=Object(d.a)(101,{component:0,element:981,feedback_type:t,objectId:L}),V=()=>{E||(j(!1),x(Object(h.d)(L)),S(!1))};return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(m.f,{"data-test-id":"feedback-button",ref:T,children:Object(f.jsx)(m.x,{accessibilityLabel:O._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{w?V():(j(!0),S(!0)),W()},size:"sm"})}),w&&Object(f.jsx)(m.A,{children:Object(f.jsx)(m.L,{anchor:C,idealDirection:"right",onDismiss:V,positionRelativeToAnchor:!1,size:"md",children:Object(f.jsx)(s.a,{ad_match_reason:I,bestPinImgSrc:Object(u.d)(n),board:k,feedbackData:e,feedbackType:t,hideDownload:G,onLinkClick:()=>{w&&V()},onHide:V,onDownloadHideFlyout:()=>{j(!1),S(!1)},pinCategory:P,pinDescription:H,pinId:L,pinImgSrc:q,pinner:B,pinTitle:g,promoter:N,recommendationReason:M,reportPin:Object(o.a)({pin:n,viewParameter:v,viewType:_}),sourceInterest:F,viewParameter:v,viewType:_})})})]})}},Te9D:function(e,t,n){var i=n("/kAC"),r=n("dt0z"),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(o,i):e}},TgLd:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("q1tI"),r=n("D2p8"),o=n("LT60"),a=n("n6mq"),s=n("nKUr");const c=new a.t(1e3);function l({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:l,allowMediaPlay:d,allowScroll:u,children:h,closeOnOutsideClick:p,footer:b,heading:m,onDismiss:f,role:g,size:j,subHeading:y}){Object(i.useEffect)(()=>(r.c.pause(),function(){r.c.resume()}),[]);return Object(s.jsx)(a.A,{zIndex:c,children:Object(s.jsx)(o.a,{allowClickAndDrag:l,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:Object(s.jsx)(a.H,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:p,heading:m,footer:b,onDismiss:()=>{r.c.resume(),f()},role:g,size:j,subHeading:y,children:h})})})}},TvzZ:function(e,t,n){n.r(t);var i=n("0K1N"),r=n("eOdZ"),o=n("kmwA"),a=n("37no");let s=!1;const c=(e,t,n="en-US")=>{Object(a.c)(Object(i.a)(n),a.a.FACEBOOK).then(()=>{const n=window.FB;n&&(s||(n.init({appId:o.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&c(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){r.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),s=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=c},U4JR:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("m2Wt"),r=n("h4v/"),o=n("ajUs"),a=n("zpPL");const s=()=>a.a.instance.getState(),c=()=>{const{advertiser:e,adminUser:t,viewer:n}=s(),i={};return e&&e.id&&(i.advertiser_id=e.id),t&&n&&n.username&&(i.sterling_on_steroids_ldap=t,i.viewed_user=n.username),i},l=(e,{element:t,eventData:n,component:r,objectId:a,view:l,viewParameter:d,viewData:u,durationNs:h,pairId:p,clientTrackingParams:b,...m})=>{const f=i.a.fromEventType(e);return f.setElement(t),f.updateEventData(n),f.setComponent(r),a&&f.setObjectIdStr(a),f.setDurationNs(h),f.updateAuxData({...m,...c()}),f.setViewType(l),f.setViewParameter(d),f.setViewData(u),f.setPairId(p),f.setClientTrackingParams(b||(e=>{const{pins:t,location:n}=s(),i=t&&e&&t[e];return i?Object(o.a)(i,n)||i.tracking_params+"~0":void 0})(a)),f};function d(e,t={}){r.a.getInstance().addEvent(l(e,t))}const u={flushContextEvents:()=>r.a.getInstance().flushEvents(!0),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:r,event_data:o,event_type:a,object_id_str:s,pair_id:c,view_data:l,view_parameter:u,view_type:h})=>{d(a,{...e,element:r,eventData:o,component:n,objectId:s,view:h,viewParameter:null!=u?u:void 0,viewData:l,durationNs:i,pairId:c,clientTrackingParams:t})}}},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},UAdG:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("/MKj"),o=n("fOIk"),a=n("yweb"),s=n("eOdZ");var c=n("n6mq"),l=n("nKUr");function d({favorited:e,favoriteCount:t,onFavorite:n,onUnfavorite:d,pinId:u,size:h}){const p=Object(a.c)(),b=Object(r.useDispatch)(),[m,f]=Object(i.useState)(!1),[g,j]=Object(i.useState)(e),[y,O]=Object(i.useState)(null!=t?t:0),x=async()=>{var e;j(!g),f(!0),g?(O(y-1),await b((e=u,async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),d(),f(!1)):(O(y+1),await b(function(e){return async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),n(),f(!1))},v=y<10?y:p._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return Object(l.jsxs)(c.u,{alignItems:"center",gap:1,children:[void 0!==t&&y>0&&Object(l.jsx)(c.bb,{size:"md",weight:"bold",children:v}),Object(l.jsx)(o.b,{isDisabled:m,isFavorited:g,onTap:()=>{x()},size:h})]})}},UzcH:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),r=n("nKUr");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),o(this,"handleKeyPress",e=>{const{onClick:t}=this.props;!t||32!==e.charCode&&13!==e.charCode||(e.preventDefault(),t())})}render(){const{selected:e,rounded:t,color:n,onClick:i,children:o,style:a}=this.props,s={cursor:i?"pointer":"default",borderRadius:t?"8px":0,boxShadow:e?"0 0 0 2px "+n:"none",outline:"none",...a};return Object(r.jsx)("div",{role:"button",onClick:i,onKeyPress:this.handleKeyPress,tabIndex:"0",style:s,children:o})}}o(a,"defaultProps",{selected:!1,rounded:!0,color:"#e60023"})},V08O:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),r=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},V0qe:function(e,t,n){const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchDebugInfo_searchUsersConnection",selections:[{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null}],type:"V3SearchUsersDataConnection",abstractKey:null,hash:"fd98185379f089632804a2bcef04a580"};e.exports=i},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},ViqK:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("FDmi"),o=n("qD10"),a=n("n6mq"),s=n("nKUr");function c(e){const{imageUrl:t,name:n,title:c,subtitle:l,accessory:d,linkURL:u,isDim:h}=e,p={__style:{opacity:h?.5:1}};return Object(s.jsx)(i.Fragment,{children:n&&c&&Object(s.jsxs)(a.f,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[Object(s.jsx)(a.f,{marginEnd:2,dangerouslySetInlineStyle:p,children:Object(s.jsx)(o.a,{to:u||"",children:Object(s.jsx)(r.a,{outline:!0,size:"md",name:n,src:t})})}),Object(s.jsxs)(a.f,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:p,children:[Object(s.jsx)(o.a,{to:u||"",children:Object(s.jsx)(a.bb,{color:"darkGray",size:"lg",truncate:!0,weight:"bold",children:c})}),Object(s.jsx)(a.bb,{truncate:!0,size:"sm",color:"gray",children:l})]}),d&&Object(s.jsx)(a.f,{marginStart:4,children:d})]})})}},VpfY:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return p}));var i=n("RHD0"),r=(n("7jH2"),n("Y8Sn"));function o(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!Object(r.i)(e.videos)&&!Object(r.h)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function l(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner;function p(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}},Vt0H:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("PioT"),a=n("51gp"),s=n("XtwW"),c=n("9pre"),l=n("vZlu"),d=n("OSge"),u=n("ptXI"),h=n("yweb"),p=n("WnLB"),b=n("y2Ga"),m=n("pf20"),f=n("n6mq"),g=n("nKUr");function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),j(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!o.b.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),j(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!s.a)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:s.a.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(p.e),i.addSubspan("perceived_video_load",null,s.a.now()),i.metricId.segment===p.d&&i.removeConstraint(p.c))}),j(this,"componentDidMount",()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,r=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||r||{},a=(s=e||o)&&document.querySelector(`video[poster="${s}"]`)||null;var s;4===(null==a?void 0:a.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),j(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),j(this,"handleTouch",()=>{const{seeking:e}=this.state;e||this.setState(e=>({playing:!e.playing}))}),j(this,"handleShowControls",()=>this.setState({controls:!0})),j(this,"handleHideControls",()=>this.setState({controls:!1})),j(this,"handleReady",()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),j(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:r,onEnded:o}=this.props;var a;e.stopPropagation(),r||(this.setState({playing:!1}),(a=t)&&a.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),o&&o()}),j(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),j(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),j(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),j(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),j(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),j(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),j(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),j(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),j(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),j(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),j(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{const r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return i?Object(g.jsx)(u.b,{...o}):Object(g.jsx)(u.a,{...s,...r})})}render(){const{contextLogData:e={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:t,isPromoted:n,loop:i,onTimeChange:r,objectFit:s,preferMp4:l,preload:u,showControls:h,variant:p,video:b,videoStartTime:m}=this.props;e.is_closeup_video=!0;const{controls:j,fullscreen:y,playing:O,showEndCard:x,volume:v}=this.state,_=o.b.isSafari(),w=b.hlsv3||b.hls||null;if(!w&&!b.mp4)return null;const S=b.mp4,C=!l&&w?[{type:"video/m3u8",src:w.url}]:(S||{}).url,{height:T,thumbnail:I,width:E}=l&&S||w||{},k=t||I;let P;return P="default"===p?0:"storyPin"===p?d.e:2,Object(g.jsx)(f.D,{willChangeTransform:!(_&&y),rounding:P,wash:!0,children:x?this.renderCloseupVideoEndCard(null!=k?k:"",null!=T?T:1,null!=E?E:1,n):Object(g.jsx)(f.ab,{onMouseEnter:h?this.handleShowControls:void 0,onMouseLeave:h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:Object(g.jsx)(a.a,{contextLogData:{...e,video_id:this.props.video.id},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=E?E:1)/(null!=T?T:1),captions:"",controls:j,hlsConfig:{startLevel:c.a},objectFit:s,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:r,onVolumeChange:this.handleVolumeChange,preferMp4:l,playing:O,preload:u,poster:k,src:C,videoStartTime:m,volume:v,loop:i})})})}}j(y,"defaultProps",{loop:!1,showControls:!0});t.a=Object(r.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,r=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:o,promotedVideosAutoplaying:a}=r;let s=null;return s=i?a[n]:o[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(l.c)(t))}))((function(e){const t=Object(h.c)(),n=Object(m.b)(),i=Object(b.c)();return Object(g.jsx)(y,{...e,pwtSurfaceContext:i,storyPinStepStopwatch:n,i18n:t})}))},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("Jr++"),r=n("n6mq"),o=n("nKUr");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(i.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(o.jsx)(r.f,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(o.jsx)(r.bb,{color:"white",children:Object(o.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},WM6B:function(e,t,n){var i=n("q1tI"),r=n("nKUr");class o extends i.Component{constructor(e){var t,n,r;super(e),r={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.ref=Object(i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const r=void 0===i.textContent?"innerText":"textContent",o=i[r];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(i,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,o={maxWidth:e,maxHeight:t},a=n?{display:"inline",...o}:{...o};return i?Object(r.jsx)("div",{ref:this.ref,style:{...a,overflow:"hidden"},children:this.props.children}):Object(r.jsx)("div",{ref:this.ref,style:a,children:this.props.children})}}t.a=o},WUYR:function(e,t,n){function i(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,"a",(function(){return i}))},Wa7p:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var i=n("d7ng"),r=n("T0g9"),o=n("kmwA"),a=n("BUdX"),s=n("rkcQ");const c=e=>e.advertiser?o.a.settings.TAG_MANAGER_URL:Object(i.a)("?"+Object(r.a)({redirect:s.d.PINTEREST_TAG}),"https:",o.a.settings.ADS_DOMAIN),l=e=>{const t=a.a.fromGlobalContext();if(e){const n=Object(r.a)({platform:s.i[e]});if("Shopify"===e)return o.a.settings.INSTALL_PINTEREST_APP_ON_SHOPIFY_URL;if(["Google Tag Manager","WordPress"].includes(e))return t.advertiser?`${o.a.settings.TAG_MANAGER_URL}/?${n}`:Object(i.a)("?"+Object(r.a)({redirect:e}),"https:",o.a.settings.ADS_DOMAIN)}return t.advertiser?o.a.settings.TAG_MANAGER_URL:Object(i.a)("?"+Object(r.a)({redirect:s.d.PINTEREST_TAG}),"https:",o.a.settings.ADS_DOMAIN)},d=e=>{const t=a.a.fromGlobalContext();if(e&&["Google Tag Manager","WordPress"].includes(e)){const n=Object(r.a)({platform:s.i[e]});return t.advertiser?`${o.a.settings.TAG_MANAGER_URL}/?${n}`:Object(i.a)("?"+Object(r.a)({redirect:e}),"https:",o.a.settings.ADS_DOMAIN)}return t.advertiser?o.a.settings.TAG_MANAGER_URL:Object(i.a)("?"+Object(r.a)({redirect:s.d.PINTEREST_TAG}),"https:",o.a.settings.ADS_DOMAIN)}},WcFk:function(e,t,n){t.a=function(e){const t="downloaderIFrame";let n=document.getElementById(t);null===n&&(n=document.createElement("iframe"),n.id=t,n.style.display="none",document.body&&document.body.appendChild(n)),n.src=e}},Wer7:function(e,t,n){function i(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function r(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function o(e,t={},n={},i={}){return{type:"RESOURCE_PREFETCH",payload:{name:e,options:t,headers:i}}}function a(e,t={}){return{type:"RESOURCE_PREFETCH_READ",payload:{name:e,options:t}}}function s(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function c(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function l(e,t={},n,i,r,o,a=!1){return{type:"RESOURCE_FETCH_COMPLETE",payload:{auxData:i,data:n,isPrefetch:a,name:e,nextBookmark:o,options:t},error:r}}function d(e,t={},n,i,r,o){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{auxData:i,data:n,name:e,nextBookmark:o,options:t},error:r}}n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d}))},WnLB:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s}));const i="story_pin",r="closefakemodal",o="button",a="video",s="image"},Wrea:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("Wer7");const r=(e,t)=>n=>n(Object(i.a)("BoardResource",{board_id:e,field_set_key:t})),o=e=>r(e,"pin_count"),a=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},Wyqm:function(e,t){e.exports="https://s.pinimg.com/webapp/wavy-94b85d5c.svg"},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},XGnz:function(e,t,n){var i=n("CH3K"),r=n("BiGR");e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=r),s||(s=[]);++c<l;){var d=t[c];n>0&&o(d)?n>1?e(d,n-1,o,a,s):i(s,d):a||(s[s.length]=d)}return s}},"XLg/":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const r=120;function o(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function a(e,t=0,n=r){const a=Object(i.useRef)(),s=Object(i.useRef)(e),[c,l]=Object(i.useState)(e?"active":"inactive");return e!==s.current&&(e?"inactive"===c?(l("starting"),o(a,t,()=>{l("active")})):"ending"===c&&(l("active"),o(a)):"active"===c?(l("ending"),o(a,n,()=>{l("inactive")})):"starting"===c&&(l("inactive"),o(a))),Object(i.useEffect)(()=>()=>o(a),[]),s.current=e,c}},XOrG:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("Ye/N"),r=n("eBDd"),o=n("vvax");function a(e){let t="";if(e){const n=i.a._("Install the Pinterest tag on your {{tagIntegration}} store to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.store","[m10n] Quick Promote success message from quick report, has a link to ads manager");switch(e){case"Ecwid":case"Bigcommerce":t=n;break;case"WordPress":t=i.a._("Install the Pinterest tag on your {{tagIntegration}} PixelYourSite plugin to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wordpress","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;case"WooCommerce":t=i.a._("Install the Pinterest tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wooCommerce","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;default:t=i.a._("Install the Pinterest tag on {{tagIntegration}} to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.default","[m10n] Quick Promote success message from quick report, has a link to ads manager")}}return Object(r.a)(t,{tagIntegration:e})}function s(e){let t="";if(e){const n=i.a._("Install the Pinterest tag on your {{tagIntegration}} store to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.store","[m10n] Quick Promote success message from quick report, has a link to ads manager");switch(e){case"Ecwid":case"Bigcommerce":t=n;break;case"WordPress":t=i.a._("Install the Pinterest tag on your {{tagIntegration}} PixelYourSite plugin to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wordpress","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;case"WooCommerce":t=i.a._("Install the Pinterest tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.wooCommerce","[m10n] Quick Promote success message from quick report, has a link to ads manager");break;default:t=i.a._("Install the Pinterest tag on {{tagIntegration}} to track conversion events and see your top performing ads.","[m10n] business.tagUpsells.text.default","[m10n] Quick Promote success message from quick report, has a link to ads manager")}}return t&&Object(o.b)(t,{tagIntegration:e})}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,r=800,o=508,a=424,s=278,c=640,l=508,d=1016,u=508},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},Xuu2:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("1Fta"),r=n("Ye/N"),o=n("vvax");function a({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:s}=t,{getFeedbackType:c}=Object(i.a)({i18n:r.a,interpolateNamedTemplate:o.b});return c({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},Y8Sn:function(e,t,n){n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p}));const i=e=>!!e&&!!e.video_list,r=({story_pin_data_id:e})=>!!e,o=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoter&&!e.is_downstream_promotion,s=e=>!!e.video_status&&5!==e.video_status,c=e=>!!e.creator_class,l=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return!!r[e]&&!r[e].paused},d=e=>["email","messages","deep_linking"].includes(e),u=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};for(const o in r){const{paused:t}=r[o];if(o!==e&&!t)return!1}return!0},h=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return r[e]&&r[e].currentTime},p=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},YYM5:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("+NLT");function r(){const e=i.a.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},"Ye/N":function(e,t,n){Error;const i={_:e=>(process&&process.env,e),set(e){Object.assign(this,e)}};t.a=i},Yo6N:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("qD10"),o=n("n6mq"),a=n("nKUr");function s({action:e,alignCenter:t}){const{title:n,description:i,button:s}=e,c=n&&n.text,l=i&&i.text,d=s&&s.text||"",u=s&&s.link||"",h=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&d&&u.startsWith("http")?Object(a.jsxs)(o.f,{children:[Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(o.bb,{align:t?"center":"start",weight:"bold",children:""!==d?d:"Visit"})}),Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(r.a,{className:"underlineLink",to:u,children:Object(a.jsx)("span",{style:{textDecoration:"underline"},children:Object(a.jsx)(o.bb,{align:t?"center":"start",truncate:!0,children:h})})})})]}):Object(a.jsxs)(o.f,{children:[!!c&&Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(o.bb,{align:t?"center":"start",weight:"bold",children:c})}),!!l&&Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(o.bb,{align:t?"center":"start",children:l})})]})}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:i,actions:r=[]}=t,d=i&&i.text||"",u=i&&i.text_tags||[],h=1===r.length,p=m(d,u);return Object(a.jsxs)(o.f,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c},children:[!!n&&!e&&Object(a.jsx)(o.f,{marginBottom:2,display:"flex",children:Object(a.jsx)(o.v,{size:"md",children:n})}),!!d&&Object(a.jsx)(o.f,{marginBottom:4,children:Object(a.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:Object(a.jsx)(o.bb,{overflow:"normal",align:e?"center":"start",children:p})})}),!!r.length&&Object(a.jsx)(o.f,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:r.map(t=>Object(a.jsx)(o.f,{column:e||h?12:6,paddingY:1,paddingX:2,children:Object(a.jsx)(s,{action:t,alignCenter:e||h})},JSON.stringify(t)))})]})}var u=n("EC51");function h({notice:e}){const{actions:t=[],description:n,footer:i}=e,r=m(n&&n.text||"",n&&n.text_tags||[]),s={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return Object(a.jsxs)(o.f,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[Object(a.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:Object(a.jsxs)(o.f,{height:"100%",width:"100%",padding:10,children:[Object(a.jsx)("span",{style:s,children:r}),Object(a.jsx)(o.f,{marginTop:6,children:t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,r,c;return n&&n.startsWith("tel")?Object(a.jsxs)(o.f,{children:[Object(a.jsx)("span",{style:{fontWeight:"600",...s},children:null===(i=e.title)||void 0===i?void 0:i.text}),Object(a.jsx)("span",{style:s,children:null===(r=e.description)||void 0===r?void 0:r.text})]}):Object(a.jsx)(u.a,{href:n||"",children:Object(a.jsx)(o.f,{display:"inlineBlock",children:Object(a.jsx)(o.f,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",paddingX:12,children:Object(a.jsx)(o.bb,{color:"white",weight:"bold",children:(null===(c=e.button)||void 0===c?void 0:c.text)||""})})})})})})]})}),!!i&&Object(a.jsx)(o.f,{paddingY:2,width:540,children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:i.link,children:Object(a.jsx)(o.bb,{align:"center",color:"gray",size:"sm",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}var p=n("hZxF"),b=n("U4JR");function m(e,t){const n=[];let i=0;for(let r=0;r<t.length;r+=1){const s=t[r];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),r=Object(a.jsx)(o.bb,{inline:!0,weight:"bold",children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:s.link,children:t},t)});n.push(Object(a.jsx)("span",{children:e.substring(i,s.offset)})),n.push(r),i=s.offset+s.length}}return i>0&&n.push(Object(a.jsx)("span",{children:e.substring(i)})),0===n.length?[Object(a.jsx)("span",{children:e})]:n}function f({inModal:e,notices:t,viewType:n,query:r,sensitivity:o}){return Object(p.a)(()=>{n&&Object(b.b)(120,{component:13367,view:n,entered_query:r,advisory_details:null==o?void 0:o.advisory_details,advisory_level:null==o?void 0:o.advisory,severity_level:null==o?void 0:o.severity})}),Object(a.jsx)(i.Fragment,{children:t.map(t=>2===t.style?Object(a.jsx)(h,{notice:t}):Object(a.jsx)(d,{notice:t,inModal:e}))})}},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("2U5n"),r=n("yjg8"),o=n("9Hsp"),a=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const r=c().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>r&&(n=r)}return n})(e,t);return l(t)*n}return 0},u=e=>Object(a.c)(e),h=(e,t=!1)=>e&&e.length>0&&!t,p=(e,t,n,i)=>{let r=0;const{description:a,vaseAnnotations:s}=u(e),l=c();if(((e,t,n,i,r=!0)=>{if(!n)return null;if(r)return!h(t)&&t&&t.length>0;return!1})(0,s,e)&&(r+=l.seeMoreButtonHeight,r+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(r+=l.productSiteTitle,r+=l.productSiteTitleTopMargin),h(s,i)&&(r+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(o.a)(e);const n=35,i=c().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);r+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(r+=28),r},b=(e,t,n,i=!1,r,o)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(a.b)(e);return d(n,t)+10})(e,t):0,c=i?0:p(e,0,0,r);return s||c?c+s+10:0},m=(e,t="orig")=>Object(i.a)(e.images,t);function f(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const a=m(e,"orig");if(a){var s,c;const e=Math.floor((null!==(s=a.height)&&void 0!==s?s:1)*r.f/(null!==(c=a.width)&&void 0!==c?c:1));i=e>o?o:e}return i}},ZCgT:function(e,t,n){var i=n("tLB3"),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZCpW:function(e,t,n){var i=n("lm/5"),r=n("O7RO"),o=n("IOzZ");e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},ZE2w:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("4dcN"),r=n("eOdZ");const o="collaborator_approve_invite";function a(e,t){return r.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return r.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>r.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{i.a.trackEvent(o,"success")}).catch(()=>i.a.trackEvent(o,"error"))}function l(e,t,n){return t=>{const{invited_user:i,status:o,board:{id:a}}=e;return r.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}},ZFOp:function(e,t,n){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},ZP0o:function(e,t,n){var i=n("n6mq"),r=n("nKUr");t.a=({children:e})=>Object(r.jsx)(i.f,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:e})},ZQCV:function(e,t,n){const i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchResultUsersList",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'recentPinImages(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"c4b0d8e130ed55cf6143cb9b01bb2681"};e.exports=i},ZdHo:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("eOdZ");function r(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function o(e,t=!1,n=""){return{type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}}function a(e,t="",n=!1){return{type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const l=(()=>{let e=0;return()=>e++})();function d(e,t,n,r){let o;const a=new Promise((c,d)=>{o=(o,a)=>{const{text:u,pinId:h,boardId:p,userId:b,didItId:m}=t,f=a();function g(){const t=i.a.create("ConversationMessagesResource",{conversation_id:e,text:u,pin:h,board:p,user:b,user_did_it_data:m,source:n}),a=""+l();o(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:u,sender:r,created_at:(new Date).toString(),created_ms:Date.now(),id:a,board:null,event_type:null,pin:h?f.pins[h]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,i,r;o((n=e,i=a,r=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:i,newMessageId:r}})),c()}).catch(d)}f.conversations.data[e]?g():i.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;o(s(t)),g()})},o.getPromise=()=>a});return o}const u=(e,t,n)=>r=>i.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;r(o(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZdPf:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){if(null==e)return!1;let t=!!e.notices&&e.notices.length>0;var n;e.notices&&e.notices.length>0&&(null===(null===(n=e.notices[0])||void 0===n?void 0:n.title)&&(t=!1));return!!e.notice||t}function a(e){return!!e&&e.severity===r.ABUSIVE}},ZtJp:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({size:e,iconColor:t,backgroundColor:n,grayscale:r=!1}){const o=t||(r?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:Object(i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},Zxas:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="…",i=false){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},Zygf:function(e,t,n){function i(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return i}))},a5kZ:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),r=n("n6mq"),o=n("nKUr");function a({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:a}){const s=Object(i.c)();return Object(o.jsx)(r.ab,{onTap:()=>{n?t():a()},rounding:"pill",accessibilityLabel:s._("Filter","productsFilterButton","Button to filter products results"),children:Object(o.jsx)(r.f,{display:"flex",justifyContent:"center",alignContent:"center",color:"lightGray",rounding:"pill",minHeight:40,children:Object(o.jsxs)(r.f,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:40,paddingX:4,children:[Object(o.jsx)(r.f,{marginEnd:3,children:Object(o.jsx)(r.w,{accessibilityLabel:"",icon:"filter",color:"darkGray"})}),Object(o.jsx)(r.bb,{align:"center",color:"darkGray",weight:"bold",children:e})]})})})}},a9a9:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("zpPL");const r=e=>i.a.instance.dispatch(function(e){return{type:"SPAMMY_CLICKTHROUGH_WARNING_SHOW",payload:e}}(e)),o=()=>i.a.instance.dispatch({type:"SPAMMY_CLICKTHROUGH_WARNING_DISMISS"})},"aK+E":function(e,t,n){n.d(t,"a",(function(){return o}));const i=new Set(["bookmarks","client_tracking_params","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),r=e=>!i.has(e)&&!e.startsWith("__track__"),o=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(r).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},aOj9:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("1dBE");const o=Object(i.createContext)(null),a=()=>Object(i.useContext)(o),s=o.Provider,{Provider:c,useHook:l}=Object(r.c)("DesktopCoreLogin")},afy1:function(e,t,n){n.d(t,"a",(function(){return r}));const i={WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function r({isSideBySide:e,isPadded:t}){return e?{...i,borderRadius:t?"16px":"32px 0 0 32px"}:{...i,borderRadius:t?"16px":"32px 32px 0 0"}}},al4m:function(e,t,n){n.d(t,"a",(function(){return x}));var i=n("q1tI"),r=n("/MKj"),o=n("2Y2E"),a=n("qdVQ"),s=n("hFfv"),c=n("qD10"),l=n("mabI"),d=n("QKYm"),u=n("n6mq"),h=n("nKUr");function p({boardThumbs:e=[],coverImagePos:t,coverImageUrl:n,isInvite:i}){const r=Object(d.c)("square",i),o=Object(d.b)("square",i),a=t&&n&&""!==n,s=r/2-1,c=o/2-1,l=[...e.slice(0,a?3:4),...new Array(4).fill({url:""})].slice(0,a?3:4);return Object(h.jsx)(u.D,{height:o,rounding:2,width:r,children:Object(h.jsxs)(u.f,{display:"flex",wrap:!0,children:[a&&Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{marginBottom:2,marginRight:2}},children:Object(h.jsx)(u.D,{height:c,wash:!0,width:s,children:Object(h.jsx)(u.y,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:t.height||1,naturalWidth:t.width||1,src:n})})}),l.map((e,t)=>Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{marginBottom:0===t||!a&&1===t?2:0,marginRight:!a&&(0===t||2===t)||a&&1===t?2:0}},children:e&&""!==e.url?Object(h.jsx)(u.D,{height:c,wash:!0,width:s,children:Object(h.jsx)(u.y,{alt:"",color:e.dominant_color||"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})},t):Object(h.jsx)(u.f,{color:"lightGray",height:c,width:s},t)},t))]})})}var b=n("4cpq"),m=n("iilV"),f=n("U4JR"),g=n("yweb"),j=n("pLLR");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),y(this,"state",{isEditModalOpen:!1,coverImgPos:0,coverImgUrl:""}),y(this,"getCoverImgUrl",()=>{var e;const{coverImgPos:t,coverImgUrl:n}=this.state;if(t)return n;const{board:{image_cover_url:i,cover_images:r={}}}=this.props;let o="";return o=((null==r?void 0:r["216x146"])||{}).url,o||(o=i),null!==(e=o)&&void 0!==e?e:""}),y(this,"getCoverImgPos",()=>{const{board:{cover_pin:{crop:e,size:t}}}=this.props;return{width:t[0],height:t[1],x:e[0],y:e[1]}}),y(this,"handleBoardCardClick",()=>{const{board:e,handleClickLogging:t}=this.props;t?t():Object(f.b)(101,{component:1,element:36,objectId:e.id,view:4})}),y(this,"handleCropChange",(e,t)=>{this.setState({coverImgUrl:e,coverImgPos:-t.y})}),y(this,"handleEditClose",()=>{this.setState({isEditModalOpen:!1})}),y(this,"handleEdit",()=>{const{board:e}=this.props;e&&(this.setState({isEditModalOpen:!0}),Object(f.b)(101,{component:1,element:81,objectId:e.id,view:4}))}),y(this,"isUserHasAccess",()=>-1!==(this.props.board.access||[]).indexOf("write")),y(this,"renderFooterButton",()=>this.isUserHasAccess()&&Object(h.jsx)(u.g,{fullWidth:!0,onClick:this.handleEdit,text:this.props.i18n._("Edit","BoardCardSquare.footerButton","Button caption to edit board")}))}render(){const{board:e,board:{collaborating_users:t=[],cover_pin:n,id:i,is_collaborative:r,name:f="",owner:g,pin_count:j,pin_thumbnail_urls:y=[],privacy:O,section_count:x,url:v=""},disableNavigation:_,onBoardDelete:w,onBoardPrivacyChange:S,requestContext:C,showAuthorProfile:T,showFooterButton:I}=this.props,{isEditModalOpen:E}=this.state;if(!e)return null;const k=y.map(e=>({url:e,dominant_color:"#EFEFEF",width:1,height:1})),P=this.getCoverImgUrl(),R=n&&n.crop&&this.getCoverImgPos();return Object(h.jsx)(o.a,{board:e,children:e=>{var n;return Object(h.jsx)(u.j,{children:Object(h.jsxs)(b.a,{id:"board-card",children:[Object(h.jsxs)(c.a,{className:"boardLinkWrapper",onClick:this.handleBoardCardClick,to:_?"":v,children:[Object(h.jsxs)(u.f,{position:"relative",children:[Object(h.jsx)(p,{boardName:f,boardThumbs:k,coverImagePos:R||null,coverImageUrl:P}),r&&Object(h.jsx)(u.f,{bottom:!0,left:!0,marginStart:2,position:"absolute",children:Object(h.jsx)(s.a,{collaborators:[g,...null!=t?t:[]].slice(0,d.a).map(e=>({name:(null==e?void 0:e.full_name)||(null==e?void 0:e.username)||"",src:null!=e&&e.is_default_image||null==e?void 0:e.image_medium_url})),outline:!0,size:"sm"})})]}),Object(h.jsxs)(u.f,{direction:"column",display:"flex",maxWidth:200,overflow:"hidden",padding:2,paddingY:1,position:"relative",children:[Object(h.jsx)(u.bb,{truncate:!0,weight:"bold",children:f}),Object(h.jsx)(l.a,{pinCount:null!=j?j:0,sectionCount:null!=x?x:0}),"secret"===O?Object(h.jsx)("div",{className:"BoardIcons Module pinCreate",children:Object(h.jsx)("span",{className:"secretIcon"})}):null]}),T&&!r&&Object(h.jsx)("img",{alt:"More from "+(null!==(n=null==g?void 0:g.full_name)&&void 0!==n?n:""),src:null==g?void 0:g.image_medium_url,style:m.f})]}),I&&C.isAuthenticated&&this.renderFooterButton(),E&&Object(h.jsx)(a.a,{boardId:i,onBoardDelete:w,onBoardPrivacyChange:S,onClose:this.handleEditClose,onCollaboratorInviteClick:()=>{this.handleEditClose(),e()},onCropChange:this.handleCropChange})]})})}})}}function x(e){const t=Object(g.c)(),n=Object(j.d)(),i=Object(r.useSelector)(({boards:t})=>((t||{}).content||{})[e.board.id]),o=i&&i.pin_count||e.board.pin_count||0;return Object(h.jsx)(O,{...e,pinCount:o,requestContext:n,i18n:t})}y(O,"defaultProps",{showFooterButton:!0})},alwl:function(e,t,n){var i=n("eUgh"),r=n("ZWtO"),o=n("ut/Y"),a=n("l9OW"),s=n("1LK5"),c=n("sEf8"),l=n("IWTy"),d=n("zZ0H"),u=n("Z0cm");e.exports=function(e,t,n){t=t.length?i(t,(function(e){return u(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=i(t,c(o));var p=a(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return l(e,t,n)}))}},"at+a":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("n6mq"),r=n("nKUr");function o({data:e}){return Object(r.jsx)(i.f,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},children:Object(r.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const a=e=>Object(r.jsx)(i.f,{dangerouslySetInlineStyle:{__style:{width:236,marginTop:10}},children:Object(r.jsx)(o,{...e})})},b9Z9:function(e,t,n){n.d(t,"a",(function(){return N}));var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a({isHorizontalDesign:e}){return e?Object(o.jsxs)(r.f,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(o.jsx)(r.f,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(o.jsx)(r.f,{color:"white",width:"2px",flex:"none"}),Object(o.jsx)(r.f,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(o.jsx)(r.f,{color:"white",width:"2px",flex:"none"}),Object(o.jsx)(r.f,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(o.jsxs)(r.f,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(o.jsx)(r.f,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(o.jsx)(r.f,{color:"white",width:"2px",flex:"none"}),Object(o.jsxs)(r.f,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(o.jsx)(r.f,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(o.jsx)(r.f,{color:"white",height:"2px",flex:"none"}),Object(o.jsx)(r.f,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n("yweb");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),c(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>{var t;return null!==(t=e.url)&&void 0!==t?t:""}).filter(Boolean):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url}).filter(Boolean),n):n}),c(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&Object(o.jsx)(r.y,{naturalHeight:1,src:e,fit:"cover",alt:this.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),c(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(o.jsx)(r.f,{height:"100%",display:"flex",direction:"row",children:this.getImage(t[0],0)}):2===t.length?Object(o.jsxs)(r.f,{height:"100%",display:"flex",direction:"row",children:[this.getImage(t[0],0),Object(o.jsx)(r.f,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(o.jsxs)(r.f,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(o.jsx)(r.f,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(o.jsx)(r.f,{color:"white",width:"2px",flex:"none"}),Object(o.jsx)(r.f,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(o.jsx)(r.f,{color:"white",width:"2px",flex:"none"}),Object(o.jsx)(r.f,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(o.jsxs)(r.f,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(o.jsx)(r.f,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(o.jsx)(r.f,{color:"white",width:"2px",flex:"none"}),Object(o.jsxs)(r.f,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(o.jsx)(r.f,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(o.jsx)(r.f,{color:"white",height:"2px",flex:"none"}),Object(o.jsx)(r.f,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(o.jsx)(r.f,{height:136,display:"flex",direction:"column",children:Object(o.jsxs)(r.f,{width:"100%",position:"relative",flex:"grow",children:[Object(o.jsx)(a,{isHorizontalDesign:e}),n,Object(o.jsx)(r.f,{dangerouslySetInlineStyle:l,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var u=function(e){const t=Object(s.c)();return Object(o.jsx)(d,{...e,i18n:t})},h=n("FDmi"),p=n("gqRH"),b=n("U4JR");var m=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:a,userFullName:s,viewParameter:c,viewType:l}=e,d=i?80:86,u=Object(p.b)({href:a});return Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(o.jsx)(r.f,{flex:"none",height:d,width:d,children:Object(o.jsx)(r.ab,{onTap:({event:e,disableOnNavigation:t})=>{t(),e.stopPropagation(),function(e,t){Object(b.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}(l,c),u({event:e})},href:a,rounding:"circle",role:"link",children:Object(o.jsx)(h.a,{name:s,src:t,verified:n})})})})},f=n("Zxas");function g({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:a}){const s=a*t,c=Object(f.a)(e,s);return n?Object(o.jsx)(r.bb,{align:i?"start":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(o.jsx)(r.bb,{align:i?"start":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:c})}function j({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return Object(o.jsxs)(r.f,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(o.jsx)(r.f,{height:18,width:"100%",children:Object(o.jsx)(r.bb,{align:n?"start":"center",truncate:!0,size:n?"lg":"md",weight:"bold",children:i})}),Object(o.jsxs)(r.f,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(o.jsxs)(r.f,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(o.jsx)(r.f,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(o.jsx)(r.f,{height:6,flex:"none"}),Object(o.jsx)(r.f,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(o.jsx)(r.f,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(o.jsx)(g,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(o.jsx)(r.f,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(o.jsx)(g,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&Object(o.jsx)(r.f,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(o.jsx)(g,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var y=n("/MKj"),O=n("oRao"),x=n("vvax");function v({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:a}){const c=Object(s.c)();return i?Object(x.b)(c._("{{ followCount }} {{ followText }}"),{followCount:Object(o.jsx)(r.f,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:Object(o.jsx)(r.bb,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(o.jsx)(O.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(o.jsx)(r.f,{"data-test-id":"followText",display:"inlineBlock",children:Object(o.jsx)(r.bb,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(o.jsx)(r.f,{"data-test-id":"followText",children:Object(o.jsx)(r.bb,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var _=n("M1Uz"),w=n("nGHF"),S=n("ZVOf");var C=Object(y.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(S.a)(t)),unfollow:t=>e(Object(S.c)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:c,id:l,viewParameter:d,viewType:u,fullName:h,imageUrl:p,profileUrl:m}){const f=Object(s.c)(),{showOneToast:g}=Object(w.b)(),j=a?f._("Following","User follow button","User follow button"):f._("Follow","User follow button","User follow button"),y=e=>Object(b.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(o.jsx)(r.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(o.jsx)(r.ab,{onTap:()=>{a?(Object(S.c)(l),y(46)):(c(l),y(45),g(({onHide:e})=>Object(o.jsx)(_.a,{onHide:e,text:Object(o.jsxs)(i.Fragment,{children:[Object(o.jsx)(r.bb,{children:f._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(o.jsx)(r.bb,{weight:"bold",children:h})]}),href:m,imageUrl:p})))},rounding:"pill",children:Object(o.jsx)(r.f,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(o.jsx)(v,{followerCount:e,followText:j,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function T({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:a,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:h,viewType:p}){const b=function(e){return"/"+e}(u);return Object(o.jsxs)(r.f,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(o.jsx)(m,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:b,userFullName:d,viewType:p,viewParameter:h}),c&&Object(o.jsxs)(r.f,{position:"relative",width:"100%",children:[Object(o.jsx)(r.f,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(o.jsx)(C,{fullName:d,followerCount:i,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:b,showFollowerCount:s})}),Object(o.jsx)(r.f,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(o.jsx)(j,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(o.jsxs)(r.f,{width:"100%",children:[Object(o.jsx)(j,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(o.jsx)(r.f,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(o.jsx)(C,{followerCount:i,fullName:d,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:b,showFollowerCount:s})})]})]})}var I=n("TgLd");const E=24;function k({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:a,top:s,width:c,height:l}=e.getBoundingClientRect(),d=a+window.pageXOffset,u=s+window.pageYOffset,h=d+c+i+12>window.innerWidth,p={left:h?d:d+c,top:u+l/2},b={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:h?-12-i:12,top:-i/2-44},m={top:-12,left:-12,fill:"white"},f=h?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(o.jsxs)(r.f,{position:"absolute",zIndex:I.a,dangerouslySetInlineStyle:{__style:p},children:[Object(o.jsx)(r.f,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:b},width:i,overflow:"hidden",children:t}),Object(o.jsx)(r.f,{position:"absolute",dangerouslySetInlineStyle:{__style:m},children:Object(o.jsx)("svg",{width:E,height:E,children:Object(o.jsx)("path",{d:f})})})]})}var P=n("eOdZ"),R=n("LT60"),L=n("v/Q4"),A=n("pLLR");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B extends i.PureComponent{constructor(e){super(e),D(this,"anchorRef",Object(i.createRef)()),D(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(P.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{var n;t&&this.setState({detailedUser:null===(n=e.resource_response)||void 0===n?void 0:n.data})}),P.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{var n;t&&this.setState({userPins:null===(n=e.resource_response)||void 0===n?void 0:n.data})}),P.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{var n;t&&this.setState({showcase:null===(n=e.resource_response)||void 0===n?void 0:n.data})}),t&&this.setState({isLoaded:!0}))}),D(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),D(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),D(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:r,isLoaded:o,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&r!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(o||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),D(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,r={user:{}};return n&&(r.user=n),i&&(r.user={...r.user,...i}),r}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:a,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:d,user:h,userPins:p}=this.state,{about:b,domain_url:m,follower_count:f,full_name:g,id:j,image_medium_url:y,show_creator_profile:O,verified_identity:x}=h||{},v=a.isAuth&&a.id===j,_=Boolean(null==x?void 0:x.verified),{group:w}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),S="enabled2_horizontal"===w;return Object(o.jsxs)(r.f,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(o.jsxs)(r.f,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(o.jsx)(r.f,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!v&&!!h&&!!i&&l&&Object(o.jsx)(r.f,{children:Object(o.jsx)(R.a,{children:Object(o.jsx)(r.A,{children:Object(o.jsx)(k,{anchor:this.anchorRef.current,isHorizontalDesign:S,children:Object(o.jsx)(r.f,{color:"white",zIndex:I.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(o.jsxs)(r.f,{width:"100%",children:[Object(o.jsx)(u,{isHorizontalDesign:S,userPins:p,showcase:d}),Object(o.jsx)(T,{avatarUrl:null!=y?y:"",description:null!=b?b:"",domainUrl:m,followerCount:null!=f?f:0,id:null!=j?j:"",isCreator:O,isHorizontalDesign:S,isVerified:null!=_&&_,userFullName:null!=g?g:"",username:i,viewParameter:s,viewType:c})]})})})})})})]})}}function N(e){const t=Object(A.d)(),n=Object(L.a)();return Object(o.jsx)(B,{...e,requestContext:t,viewer:n})}},bEif:function(e,t,n){n.d(t,"a",(function(){return x}));var i=n("FDmi"),r=n("T+9/"),o=n("oRao"),a=n("TNox"),s=n("4cpq"),c=n("yweb"),l=n("ADns"),d=n("q1tI"),u=n("nRAE"),h=n("n6mq"),p=n("nKUr");var b=function({badgeSize:e,badgeSpacing:t,fullName:n,identityIsVerified:i,isVerifiedMerchant:r,truncate:o=!1}){const a=n.split(" "),s=a.slice(0,a.length-1).join(" "),c=" ".concat(a[a.length-1]);return o?Object(p.jsxs)(h.f,{display:"flex",children:[Object(p.jsx)(h.bb,{truncate:!0,weight:"bold",children:n}),Object(p.jsx)(h.f,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:Object(p.jsx)(u.a,{size:e,hasVerifiedIdentity:i,isVerifiedMerchant:r})})]}):Object(p.jsxs)(d.Fragment,{children:[Object(p.jsx)("span",{children:s}),Object(p.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[c," ",Object(p.jsx)(h.f,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:Object(p.jsx)(u.a,{size:e,hasVerifiedIdentity:i,isVerifiedMerchant:r})})]})]})},m=n("v/Q4"),f=n("yjg8"),g=n("vvax"),j=n("U4JR");const y={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}};function O({image:e,pin:t}){var n,i,r,o,a,s;const l=Object(c.c)(),d=t?null===(n=t.images)||void 0===n?void 0:n["236x"]:e;return Object(p.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:d?Object(p.jsxs)(h.f,{position:"relative",children:[Object(p.jsx)(h.B,{width:117,height:157,contentAspectRatio:(null!==(i=d.width)&&void 0!==i?i:1)/(null!==(r=d.height)&&void 0!==r?r:1),children:Object(p.jsx)(h.y,{alt:l._("contextual pin image","UserContent.PinImage","alt text for pin image"),color:d.dominant_color||void 0,naturalWidth:null!==(o=d.width)&&void 0!==o?o:1,naturalHeight:null!==(a=d.height)&&void 0!==a?a:1,src:null!==(s=d.url)&&void 0!==s?s:""})}),Object(p.jsx)(h.f,{dangerouslySetInlineStyle:y,height:157,width:117,position:"absolute",top:!0,left:!0})]}):Object(p.jsx)(h.f,{color:"lightGray",width:117,height:157})})}function x({action:e,auxData:t,avatarSize:n,avatarUrl:d,followedByMe:u,followersCount:y,fullName:x,identityIsVerified:v,isVerifiedMerchant:_,invertButtonColor:w,onActionClick:S,recentPinImages:C,suppressToasts:T,truncateName:I=!1,userId:E,username:k,userPins:P,viewType:R,viewParameter:L}){const A=Object(c.c)(),D=Object(m.a)(),B=C&&(C["222x"]||C["192x"]),N=[Object(p.jsx)(O,{image:null==B?void 0:B[0],pin:null==P?void 0:P[0]},"pinImage-0"),Object(p.jsx)(O,{image:null==B?void 0:B[1],pin:null==P?void 0:P[1]},"pinImage-1")];let M="";"number"==typeof y&&(M=Object(p.jsx)(o.a,{shortform:!0,shortformMaximumFractionDigits:1,value:y},"followersCount"));const F=n?void 0:80;return Object(p.jsx)(r.a,{impressionType:"User",viewType:R,viewParameter:L,loggingId:E,children:Object(p.jsx)(h.f,{width:f.f,children:Object(p.jsx)(s.a,{id:"user-rep",children:Object(p.jsx)(a.a,{href:`/${k}/`,onTap:()=>{Object(j.b)(43,{objectId:E,view:R,viewParameter:L})},children:Object(p.jsxs)(h.u,{direction:"column",gap:2,alignItems:"center",children:[Object(p.jsx)(h.D,{rounding:4,children:Object(p.jsx)(h.u,{children:N})}),Object(p.jsx)(h.f,{marginTop:-10,height:F,width:F,children:Object(p.jsx)(i.a,{outline:!0,name:null!=x?x:"",src:null!=d?d:"",size:n||"fit"})}),Object(p.jsxs)(h.u,{direction:"column",gap:1,alignItems:"center",children:[Object(p.jsx)(h.f,{maxWidth:f.f,children:Object(p.jsx)(h.bb,{align:"center",weight:"bold",truncate:I,children:_||v?Object(p.jsx)(b,{badgeSize:"sm",badgeSpacing:2,fullName:null!=x?x:"",identityIsVerified:v,isVerifiedMerchant:_,truncate:I}):x})}),Object(p.jsx)(h.bb,{align:"center",size:"sm",children:Object(g.b)(A.ngettext("{{ formattedFollowersCount }} follower","{{ formattedFollowersCount }} followers",y,"Label for the number of people following a user","Label for the number of people following a user"),{formattedFollowersCount:M})})]}),Object(p.jsx)(h.u,{height:48,children:e&&e.url?Object(p.jsx)("object",{children:Object(p.jsx)(h.g,{fullWidth:!0,href:e.url,text:e.text,size:"lg",role:"link",onClick:({event:e,disableOnNavigation:n})=>{n(),e.stopPropagation(),Object(j.b)(9029,{objectId:E,view:R,viewParameter:L,...t}),null==S||S()}})}):Object(p.jsx)(l.a,{fullName:x,id:E,imageUrl:d,isOwnProfile:D.isAuth&&D.id===E,profileUrl:`/${k}/`,userFollowed:u,onUserFollow:S,invertButtonColor:w,isSecondaryButton:!0,size:"lg",shouldStopEventPropagation:!0,suppressToasts:T,viewType:R,viewParameter:L})})]})})})})})}},bb3j:function(e,t,n){n.r(t);var i=n("clxp"),r=n("Ye/N"),o=n("lnDX"),a=n("rYoy"),s=n("q1tI"),c=n("/MKj"),l=n("ihsa"),d=n("lddM"),u=n("c4Fo"),h=n("TgLd"),p=n("eOdZ"),b=n("eBDd"),m=(n("tF4D"),n("TSYQ")),f=n.n(m),g=n("82UD"),j=n("yweb"),y=n("n6mq"),O=n("nKUr");function x({children:e,onTouch:t}){const n=Object(s.useCallback)(e=>{!t||32!==e.charCode&&13!==e.charCode||t({event:e})}),i=Object(s.useCallback)(e=>{e.preventDefault(),t({event:e})});return Object(O.jsx)("div",{className:"ClickCapture",onClick:i,onKeyPress:n,role:"button",tabIndex:"0",children:e})}var v=function({isSelected:e,pin:t,updateSelect:n}){const i=Object(j.c)(),r=t.id,o=Object(s.useCallback)(({event:t})=>{t.preventDefault(),t.stopPropagation(),n(r,!e)},[r,e]),a=e?"red":"white",c=Object(O.jsxs)("div",{style:{pointerEvents:"auto"},className:f()("SelectPinWrapper",{Selected:e}),children:[Object(O.jsx)(g.a,{blockClickEvents:!0,pin:t,pinId:t.id,surface:"BoardCreateUpsell",trackingParameters:{slotIndex:0}}),Object(O.jsx)(y.f,{position:"absolute",top:!0,right:!0,padding:3,children:Object(O.jsx)(y.f,{width:"40px",height:"40px",rounding:"circle",display:"flex",justifyContent:"center",alignItems:"center",color:a,children:Object(O.jsx)(y.w,{accessibilityLabel:e?i._("Pin is selected to be saved","accessbility label on an icon","accessbility label on an icon"):i._("Pin can be saved to board","accessbility label on an icon","accessbility label on an icon"),icon:e?"check":"add",color:e?"white":"darkGray"})})})]});return Object(O.jsx)(x,{onTouch:o,children:c})},_=n("vvax"),w=n("GBVV"),S=n("e0nq");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return e.reduce((e,t)=>({...e,[t.id]:t}),{})}class I extends s.PureComponent{constructor(...e){var t;super(...e),t=this,C(this,"state",{selectedPins:this.props.pins.map(e=>e.id),submitting:!1}),C(this,"handleUpdateSelect",(e,t)=>{const n=[...this.state.selectedPins],i=n.indexOf(e);!t&&i>-1?n.splice(i,1):t&&-1===i&&n.push(e),this.setState({selectedPins:n})}),C(this,"handleSubmit",()=>{const{boardId:e,handleHidePinSelectModal:t,save:n,pins:i}=this.props,{selectedPins:r}=this.state;r.length?(this.setState({submitting:!0}),this.repin(),r.forEach(t=>{const r=T(i)[t];n({pinId:t,boardId:e,title:r.title||""})})):t()}),C(this,"repin",(async function(){const{boardId:e,handleHidePinSelectModal:n,pins:i}=t.props,{selectedPins:r}=t.state;await p.a.create("BulkEditResource",{board_id:e,pin_ids:r}).callCreate();n({pinCount:r.length,pinImage:T(i)[r[0]].images["170x"].url})})),C(this,"renderPin",({data:e})=>{const{selectedPins:t}=this.state;return Object(O.jsx)(v,{isSelected:t.includes(e.id),pin:e,updateSelect:this.handleUpdateSelect},e.id)})}render(){const{boardName:e,handleHidePinSelectModal:t,pins:n}=this.props,{selectedPins:i,submitting:r}=this.state;let o=this.props.i18n._("Skip","Button to skip adding pins to a board","Button to skip adding pins to a board");return i.length&&(o=Object(b.a)(this.props.i18n.ngettext("Add {{count}} Pin","Add {{count}} Pins",i.length),{count:i.length})),Object(O.jsxs)(h.b,{accessibilityModalLabel:this.props.i18n._("Modal to select Pins for your new Board","accessibility label for modal showing Pins suggested for a new Board","accessibility label for modal showing Pins suggested for a new Board"),heading:Object(O.jsx)(y.f,{paddingX:6,paddingY:5,children:Object(O.jsx)(y.v,{size:"md",accessibilityLevel:1,children:Object(_.b)(this.props.i18n._("Board created! Would you like to add Pins to {{ boardName }}?","Text on toast asking user to add Pins to newly created Board","Text on toast asking user to add Pins to newly created Board"),{boardName:e})})}),onDismiss:t,size:"lg",children:[Object(O.jsx)(y.f,{paddingY:6,children:Object(O.jsx)(y.E,{columnWidth:236,comp:this.renderPin,items:n})}),Object(O.jsx)(y.q,{}),Object(O.jsx)(y.f,{width:"100%",display:"flex",justifyContent:"end",padding:4,children:Object(O.jsxs)(y.f,{display:"flex",position:"relative",children:[r&&Object(O.jsx)(w.a,{}),Object(O.jsx)(y.g,{onClick:this.handleSubmit,text:o,color:"red",disabled:r})]})})]})}}var E=Object(c.connect)(null,e=>({save:t=>e(Object(S.a)(t))}))((function(e){const t=Object(j.c)();return Object(O.jsx)(I,{...e,i18n:t})})),k=n("M1Uz"),P=n("2qKt"),R=n("ANjH"),L=n("RNo4"),A=n("w70y"),D=n("pLLR"),B=n("nGHF"),N=n("EC67");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F={width:"114px",height:"102px"},U={width:"54px",height:"50px"},z=1000174;class H extends s.PureComponent{constructor(...e){super(...e),M(this,"state",{createdBoard:null,suggestedBoardName:"",showModal:!1,showPinsModal:!1}),M(this,"handleShowBoardCreateModal",(e,t)=>{this.setState({showModal:!0,suggestedBoardName:e}),t()}),M(this,"handleBoardCreated",e=>{const{history:t,requestContext:{experiments:n}}=this.props;this.handleHideBoardCreateModal(),this.setState({createdBoard:e});const{group:i}=n.getWithActivation("web_search_board_create_upsell_variations");"enabled_jumpstart_modal"===i?t.push({pathname:e.url,state:{newBoard:!0}}):this.setState({showPinsModal:!0})}),M(this,"handleHideBoardCreateModal",()=>this.setState({showModal:!1})),M(this,"handleHidePinSelectModal",e=>{const{createdBoard:t}=this.state,{history:n,requestContext:i,toastManagerContext:r}=this.props;if(this.setState({showPinsModal:!1}),e){var o;const{pinImage:n,pinCount:i}=e,a=Object(_.b)(this.props.i18n.ngettext("Saved {{ pinCount }} Pin to {{ boardName }}!","Saved {{ pinCount }} Pins to {{ boardName }}!",i,"toast after saving Pins to a Board","toast after saving Pins to a Board"),{boardName:null!==(o=null==t?void 0:t.name)&&void 0!==o?o:"",pinCount:i}).join("");r.showToast(({onHide:e})=>Object(O.jsx)(k.a,{imageUrl:n,onHide:e,text:a}))}else this.handleShowBoardCreatedToast();const{group:a}=i.experiments.getWithActivation("web_search_board_create_upsell_variations");var s;"enabled_go_to_board"===a&&t&&n.push(null!==(s=t.url)&&void 0!==s?s:"")}),M(this,"handleShowBoardCreatedToast",()=>{const{createdBoard:e}=this.state,{toastManagerContext:t}=this.props;t.showToast(({onHide:t})=>Object(O.jsx)(k.a,{onHide:t,text:this.props.i18n._("Created Board!","toast after creating a board","toast after creating a board"),href:e&&e.url||""}))}),M(this,"handleSetTimeout",e=>{this.experienceToastsTimeout||(this.experienceToastsTimeout=window.setTimeout(e,1e4))}),M(this,"renderBoardCollage",()=>{const{pinsViewed:e}=this.props,t=e.map(e=>e.images[170]);return Object(O.jsx)(y.D,{rounding:2,width:170,height:102,children:Object(O.jsx)(y.l,{columns:3,cover:!0,gutter:2,height:102,width:170,renderImage:({index:e})=>{const n=t[e],{width:i,height:r}=0===e?F:U;return Object(O.jsx)(y.D,{width:i,height:r,children:n?Object(O.jsx)(y.y,{src:n.url,alt:n.url,color:"gray",naturalHeight:n.height,naturalWidth:n.width,fit:"cover"}):Object(O.jsx)(y.f,{width:i,height:r,color:"lightGray"})})}})})})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}render(){const{boardsResource:e,pinsViewed:t,query:n}=this.props,{createdBoard:i,showModal:r,showPinsModal:o}=this.state;return!(((e||{}).data||{}).all_boards||[]).some(e=>e.name===n)&&t.length>=3?Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(u.a,{placementId:z,experienceIds:[501147],children:({display_data:e,complete:t,dismiss:n})=>(this.handleSetTimeout(n),Object(O.jsx)(y.ab,{onTap:()=>this.handleShowBoardCreateModal(e.story.board_name,t),rounding:2,children:Object(O.jsx)(y.f,{position:"fixed",rounding:2,dangerouslySetInlineStyle:{__style:{bottom:"14px",boxShadow:"0 2px 14px 0 rgba(0, 0, 0, 0.25)",left:"50%",marginLeft:"-211px",zIndex:1500}},children:Object(O.jsx)(y.f,{color:"white",width:500,height:142,rounding:2,paddingY:5,children:Object(O.jsxs)(y.f,{display:"flex",children:[Object(O.jsxs)(y.f,{paddingX:5,display:"flex",direction:"column",justifyContent:"between",children:[Object(O.jsx)(y.bb,{weight:"bold",children:Object(_.b)(this.props.i18n._("Want to make a board about {{ boardName }}?","Text on toast asking user to create a new board","Text on toast asking user to create a new board"),{boardName:e.story.board_name})}),Object(O.jsx)(y.g,{size:"sm",text:this.props.i18n._("Create board","Button to create a board","Button to create a board"),onClick:()=>this.handleShowBoardCreateModal(e.story.board_name,t)})]}),Object(O.jsx)(y.f,{paddingX:5,children:this.renderBoardCollage()})]})})})}))}),r&&Object(O.jsx)(d.a,{onBoardCreate:this.handleBoardCreated,onClose:this.handleHideBoardCreateModal,suggestedBoardName:this.state.suggestedBoardName}),o&&Object(O.jsx)(E,{handleHidePinSelectModal:this.handleHidePinSelectModal,pins:t,query:n,boardId:i&&i.id||"",boardName:i&&i.name||""})]}):null}}const q=[],G=[];var W=Object(R.compose)(N.l,Object(c.connect)(({createBoardUpsell:e,pins:t},{location:n})=>{const i=Object(L.k)(n.search),r=i&&i.q,o="string"==typeof r?r:"",a=!!o&&e[o]||{},s="valid"===a.status&&a.pinIds||q;return{pinsViewed:s&&s.map(e=>t[e])||G,query:o,viewedPinIds:s}},()=>({})),Object(P.a)(z,e=>({closeup_pins:e.viewedPinIds,search_query:e.query})))((function(e){const t=Object(j.c)(),n=Object(A.a)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0}});return Object(O.jsx)(H,{...e,boardsResource:n,requestContext:Object(D.d)(),i18n:t,toastManagerContext:Object(B.b)()})})),V=n("c0rk"),K=n("JTBp"),Y=n("KDF4"),X=n("+41Z"),$=n("k0f5"),Q=n("1YNZ"),Z=n("20LM"),J=n("XhR6"),ee=n("Awfv");function te({query:e}){const t=Object(j.c)(),{isAtEnd:n,isFetching:i}=Object(Z.a)(),{scope:r}=Object(ee.b)(),o=r===J.a.PINS_MINE;return n?Object(O.jsx)(y.f,{display:"flex",justifyContent:"center",paddingY:4,children:o?Object(O.jsx)(y.f,{marginBottom:4,children:Object(O.jsx)(y.bb,{color:"gray",children:Object(_.b)(t._("You’ve reached the end of your saved Pins about {{ query }}","searchPage.searchResult.endOfSearchResultsText","Text informing users they have reached the end of their search results"),{query:Object(O.jsx)(y.bb,{inline:!0,weight:"bold",children:e})})})}):Object(O.jsx)(y.w,{accessibilityLabel:t._("Pinterest logo","Accessible label for Pinterest logo in site footer","Accessible label for Pinterest logo in site footer"),icon:"pinterest",size:32})}):Object(O.jsx)(y.f,{paddingY:6,height:"300px",children:Object(O.jsx)(y.U,{accessibilityLabel:t._("Search Results","accessible label for search results loading spinner","accessible label for search results loading spinner"),show:i})})}var ne=n("yqcB"),ie=n("K+2c"),re=n("yjg8");const oe=re.f+16;function ae({children:e,items:t,isAtEnd:n,isFetching:i,fetchMoreResults:r}){const[o,a]=Object(ie.a)(),s=o?Math.floor(o/oe):void 0,c=s?s*oe:void 0;return Object(O.jsx)(y.f,{ref:a,width:"100%",children:Object(O.jsx)(y.u,{justifyContent:"center",children:Object(O.jsxs)(y.u,{wrap:!0,justifyContent:"start",width:c,children:[Object(O.jsx)(y.P,{isAtEnd:n,isFetching:i,fetchMore:r}),Object(O.jsx)(ne.a,{isAtEndOfFeed:n,itemCount:t.length,pinData:t,includeBackgroundImages:!0,children:e})]})})})}var se=n("R0ru"),ce=n("gLeT"),le=n("TNox"),de=n("qpbZ");const ue=re.f,he={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function pe({story:e}){const t=Object(j.c)(),{action:n,custom_properties:i,objects:r=[]}=e,[o,a]=Object(s.useState)(!1),c=()=>{a(!0)},l=()=>{a(!1)},d=r.slice(0,3).map(e=>({name:e.full_name,src:e.image_medium_url})),u=64*d.length-22*(d.length-1);let h="";switch(d.length){case 3:h=Object(de.c)(""+t._("{{ first }}, {{ second }}, and {{ last }}","BrandStoryCard.AvatarGroup.accessibilityLabel.usernames.ThreeBrands","List of three brand names"),{first:""+d[0].name,second:""+d[1].name,last:""+d[2].name});break;case 2:h=Object(de.c)(""+t._("{{ first }} and {{ second }}","BrandStoryCard.AvatarGroup.accessibilityLabel.usernames.TwoBrands","List of two brand names."),{first:""+d[0].name,second:""+d[1].name});break;default:h=d.join(", ")}const p=Object(de.c)(", "+t._("Brands: {{ userNames }}.","BrandStoryCard.AvatarGroup.accessibilityLabel","Accessibility label that lists the names of the brands"),{userNames:h});return Object(O.jsxs)(y.f,{position:"relative",children:[Object(O.jsx)(le.a,{href:n.url,onMouseEnter:c,onMouseLeave:l,onFocus:c,onBlur:l,rounding:4,children:Object(O.jsxs)(y.f,{position:"relative",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:4,children:[Object(O.jsx)(y.f,{height:ue,width:ue,rounding:4,children:i.image&&Object(O.jsx)(y.y,{alt:n.text,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:i.image,fit:"cover"})}),Object(O.jsx)(y.f,{height:ue,width:ue,dangerouslySetInlineStyle:{__style:o?he.hoverOverlay:he.defaultOverlay},position:"absolute",top:!0,left:!0}),Object(O.jsx)(y.f,{width:ue,position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:Object(O.jsx)(y.f,{width:u,height:64,children:Object(O.jsx)(y.c,{accessibilityLabel:p,size:"fit",collaborators:d})})})]})}),Object(O.jsx)(y.f,{width:"100%",marginTop:2,children:Object(O.jsx)(ce.a,{accessibilityLabel:n.text,color:"gray",fullWidth:!0,href:n.url,size:"lg",text:n.text})})]})}var be=n("ELJR");const me=re.f,fe=(me-re.k)/2,ge={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.2)"}};function je({story:e}){const{action:t,objects:n=[]}=e,[i,r]=Object(s.useState)(!1);if(n.length<4)return null;const o=()=>{r(!0)},a=()=>{r(!1)},c=n.slice(0,4).map(e=>({url:e.images.orig.url,title:e.title})),l=e=>Object(O.jsx)(y.f,{width:fe,height:fe,children:Object(O.jsx)(y.y,{alt:e.title,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:e.url,fit:"cover"})});return Object(O.jsx)(y.f,{position:"relative",children:Object(O.jsxs)("div",{onMouseEnter:o,onMouseLeave:a,children:[Object(O.jsx)(le.a,{href:t.url,onFocus:o,onBlur:a,rounding:4,children:Object(O.jsxs)(y.f,{position:"relative",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:4,children:[Object(O.jsx)(y.f,{height:me,width:me,rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[c.slice(0,2),c.slice(2,4)].map(e=>Object(O.jsx)(y.u,{width:me,height:fe,justifyContent:"between",children:e.map(l)}))}),Object(O.jsx)(y.f,{height:me,width:me,dangerouslySetInlineStyle:{__style:i?ge.hoverOverlay:ge.defaultOverlay},position:"absolute",top:!0,left:!0})]})}),Object(O.jsx)(y.f,{width:"100%",marginTop:2,children:Object(O.jsx)(ce.a,{accessibilityLabel:t.text,color:"gray",fullWidth:!0,href:t.url,size:"lg",text:t.text})})]})})}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe=5e3,xe="0.4s cubic-bezier(0.6, 0, 0.6, 1)";function ve({accessibilityLabel:e,direction:t,onClick:n}){const i="back"===t,r=i?{left:"-50px"}:{right:"-50px"};return Object(O.jsx)(y.f,{position:"absolute",top:!0,bottom:!0,dangerouslySetInlineStyle:{__style:r},children:Object(O.jsx)(y.f,{height:"100%",width:44,display:"flex",justifyContent:"center",alignItems:"center",children:Object(O.jsx)(y.x,{accessibilityLabel:e,bgColor:"transparent",icon:i?"arrow-back":"arrow-forward",size:"xl",onClick:n})})})}class _e extends s.PureComponent{constructor(...e){super(...e),ye(this,"state",{showArrows:this.props.numberItemsVisible<this.props.items.length,leftIndex:0,leftPosition:0,containerScrollDistance:0,step:this.props.itemWidth,numberItemsVisible:this.props.numberItemsVisible,pivot:0,bForward:!1}),ye(this,"onTransitionEnd",()=>{const{bForward:e,leftPosition:t,step:n,pivot:i}=this.state,r=this.props.items.length;this.transitionInProgress=!1,e&&this.setState({leftIndex:0,leftPosition:t+n,pivot:(i+1)%r,bForward:!1})}),ye(this,"enableAutoScroll",e=>{e?this.autoScrollTimeout=setTimeout(this.autoScroll,Oe):this.autoScrollTimeout&&clearTimeout(this.autoScrollTimeout)}),ye(this,"autoScrollTimeout",null),ye(this,"transitionInProgress",!1),ye(this,"scroll",e=>{const{leftPosition:t,containerScrollDistance:n,step:i,pivot:r}=this.state,o=this.props.items.length-1;this.state.showArrows&&!this.transitionInProgress&&(this.transitionInProgress=!0,"back"===e?this.setState({leftIndex:1,leftPosition:t-i,pivot:0===r?o:r-1},()=>{this.setState({leftIndex:0,containerScrollDistance:n+i})}):this.setState({containerScrollDistance:n-i,leftIndex:1,bForward:!0}))}),ye(this,"autoScroll",()=>{this.scroll("forward"),this.autoScrollTimeout=setTimeout(this.autoScroll,Oe)}),ye(this,"handleBackArrowClick",()=>{this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=setTimeout(this.autoScroll,Oe)),this.scroll("back")}),ye(this,"handleForwardArrowClick",()=>{this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=setTimeout(this.autoScroll,Oe)),this.scroll("forward")})}componentDidMount(){this.autoScrollTimeout=setTimeout(this.autoScroll,Oe)}componentWillUnmount(){this.autoScrollTimeout&&clearTimeout(this.autoScrollTimeout)}render(){const{accessibilityBackLabel:e,accessibilityForwardLabel:t,height:n,width:i,items:r}=this.props,{showArrows:o,leftPosition:a,leftIndex:s,step:c,numberItemsVisible:l,containerScrollDistance:d,pivot:u}=this.state;return Object(O.jsxs)(y.f,{position:"relative",width:i,height:n,children:[Object(O.jsx)(y.f,{dangerouslySetInlineStyle:{__style:{left:d,transition:"left "+xe}},onTransitionEnd:this.onTransitionEnd,position:"absolute",children:Object(O.jsx)(y.f,{display:"flex",position:"relative",children:r.map((e,t)=>{const n=t<u?t-u+r.length:(t-u)%r.length;return n>s+l&&n<r.length-1?null:Object(O.jsx)("div",{style:{position:"absolute",left:a+n*c,opacity:n>=s&&n<s+l?1:0,transition:"opacity "+xe},children:e},t+"autoScroll")}).filter(e=>null!=e)})}),o&&Object(O.jsx)(ve,{accessibilityLabel:e,direction:"back",onClick:this.handleBackArrowClick}),o&&Object(O.jsx)(ve,{accessibilityLabel:t,direction:"forward",onClick:this.handleForwardArrowClick})]})}}ye(_e,"getDerivedStateFromProps",(e,t)=>t.numberItemsVisible!==e.numberItemsVisible?{numberItemsVisible:e.numberItemsVisible,showArrows:e.numberItemsVisible<e.items.length,pivot:t.pivot>=e.items.length?e.items.length-1:t.pivot}:null);var we=_e,Se=n("KPZG"),Ce=n("U4JR");function Te({itemHeight:e,itemWidth:t,itemPadding:n,query:i,story:r,viewType:o,viewParameter:a}){const c=Object(j.c)(),[l,d]=Object(s.useState)(0);Object(s.useEffect)(()=>{const e=()=>{d(window.innerWidth)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)});let u=null;const h=r?r.objects.map((n,s)=>Object(O.jsx)(Se.a,{bubble:n,height:e,width:t,storyId:r.id,onClick:()=>(({id:e,viewType:t,viewParameter:n,slotIndex:i,entered_query:r})=>{u&&u.enableAutoScroll(!1),Object(Ce.b)(101,{component:200,objectId:e,view:t,viewParameter:n,entered_query:r,grid_index:i})})({id:n.id,viewType:o,viewParameter:a,slotIndex:s,entered_query:i}),viewType:o,viewParameter:a,slotIndex:s,contextLogData:{story_type:r.story_type}},n.id)):[],p=t+n;let b=Math.floor(l/p);b>h.length?b=h.length:b<=0&&(b=1);const m=b*p-n;return Object(O.jsx)(y.f,{marginTop:2,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",children:Object(O.jsx)(y.f,{width:m,paddingY:n/4,children:Object(O.jsx)(we,{items:h,accessibilityBackLabel:c._("Previous","BubbleCarousel.ArrowButtons.BackButton","Label for button to scroll to previous story"),accessibilityForwardLabel:c._("Next","BubbleCarousel.ArrowButtons.ForwardButton","Label for button to scroll to next story"),height:e,width:m,numberItemsVisible:b,itemWidth:p,ref:e=>{u=e}})})})}var Ie=n("FeJ1"),Ee=n("7zq+"),ke=n("CkVV"),Pe=n("dRc8");function Re({story:e,impressionTrackerRef:t}){const n=Object(j.c)(),[i,r]=Object(s.useState)(0),{width:o,height:a}=Object(Pe.a)()||{},{aux_fields:c,objects:l,title:d}=e,{pivot_titles:u,grid_layout:h}=c||{},p=(u||[])[i].id,{w_h_ratio:b}=h||{},m={...(l.filter(e=>e.id===p)||[])[0]};if(!m)return null;const{action:f,aux_fields:g,cover_images:x,dominant_colors:v,title:{format:_}}=m;let w,S,C,T;const I=e=>e*re.f+(e-1)*re.e,E=I(5),k=I(4);o>=E?(w="lg",S=4):o>=k?(w="md",S=3):(w="sm",S=2),C=(I(S)-1*(S-1)*4)/S,T=C*b;const P=e=>2*e+4;P(T)>550&&(T=273),"sm"!==w&&P(T)+50+200>a&&(w="sm",C=(I(2)-4)/2,T=C*b);const R=(e,t=!1)=>{var n,i,r;return Object(O.jsx)(y.D,{height:t?P(T):T,wash:!0,width:t?P(C):C,children:Object(O.jsx)(y.y,{alt:"",color:v[e],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(n=x[e]["474x"])||void 0===n?void 0:n.url)||(null===(i=x[e]["736x"])||void 0===i?void 0:i.url)||(null===(r=x[e]["236x"])||void 0===r?void 0:r.url)||""})})},L={boxHeight:"sm"!==w?P(T):T,buttonPaddingX:"sm"!==w?6:4,buttonPaddingY:"sm"!==w?4:2,buttonText:"sm"!==w?n._("Explore","styleCard.explore","explore (a certain style)")+" "+_:_,buttonTextSize:"sm"!==w?"md":"sm",styleHeadingMargin:"lg"===w?"6px 0":"3px 0",styleHeadingSize:w};return Object(O.jsx)(y.f,{height:L.boxHeight,marginBottom:5,marginTop:2,ref:t,width:"100%",children:Object(O.jsxs)(y.u,{alignItems:"center",gap:1,justifyContent:"center",children:[1!==(null==u?void 0:u.length)&&Object(O.jsxs)(y.f,{padding:3,children:[Object(O.jsx)(y.bb,{align:"center",weight:"bold",children:null==d?void 0:d.format}),null==u?void 0:u.map((e,t)=>{const n=e.button_text_color||"";return Object(O.jsx)(y.ab,{onTap:()=>r(t),rounding:4,tapStyle:"compress",children:Object(O.jsx)(y.v,{align:"center",size:L.styleHeadingSize,children:Object(O.jsx)("p",{style:{color:n,margin:L.styleHeadingMargin,textDecoration:t===i?"underline "+n:"none"},children:e.title})})},"title_"+e.id)})]}),Object(O.jsx)(le.a,{href:(null==f?void 0:f.url)||"",onTap:()=>{Object(Ce.b)(101,{story_type:e.story_type,component:200,view:2,viewParameter:43})},rounding:4,children:Object(O.jsxs)(y.f,{position:"relative",rounding:4,overflow:"hidden",children:["sm"!==w?Object(O.jsxs)(y.u,{gap:1,children:[R(0,!0),Object(O.jsxs)(y.u,{direction:"column",gap:1,children:[R(1),R(2)]}),"lg"===w&&Object(O.jsxs)(y.u,{direction:"column",gap:1,children:[R(3),R(4)]})]}):Object(O.jsxs)(y.u,{gap:1,children:[R(0),R(1)]}),Object(O.jsx)(y.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==g?void 0:g.button_background_color,left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},paddingX:L.buttonPaddingX,paddingY:L.buttonPaddingY,position:"absolute",rounding:"pill",children:Object(O.jsx)(y.v,{size:L.buttonTextSize,truncate:!0,children:Object(O.jsx)("p",{style:{color:null==g?void 0:g.button_text_color,margin:"0"},children:L.buttonText})})})]})})]})})}var Le=n("gYog"),Ae=n("flQA");const De=re.f;function Be({query:e,slotIndex:t,story:n,viewType:i,viewParameter:r}){var o;const a={story_id:n.id,story_type:n.story_type,entered_query:e},s=Object(Le.b)({componentType:200,contextLogData:a,impressionType:"Story",loggingId:n.id,slotIndex:t,viewParameter:r,viewType:i}),{title:c}=n,l=null===(o=n.display_options)||void 0===o?void 0:o.identifier_icon_name,d=c&&Object(O.jsxs)(y.u,{direction:"row",justifyContent:"center",alignItems:"center",gap:2,children:["number"==typeof l&&l!==Ae.a&&Object(O.jsx)(y.f,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:Object(O.jsx)(y.w,{accessibilityLabel:"",color:"darkGray",icon:Object(Ae.b)(l),size:14})}),Object(O.jsx)(y.v,{size:"md",children:Object(Ee.a)(c)})]});switch(n.story_type){case"search_articles_story":return Object(O.jsx)(Te,{itemHeight:De,itemWidth:De,itemPadding:16,story:n,query:e||"",viewType:i,viewParameter:r});case"wishlist_category_bubbles":case"style_pivot":case"structured_search_bubble":return Object(O.jsx)(y.f,{marginBottom:5,marginTop:2,width:"100%",ref:s,children:Object(O.jsxs)(y.u,{alignItems:"stretch",direction:"column",gap:4,width:"100%",children:[d,Object(O.jsx)(Ie.a,{story:n,viewParameter:r,viewType:i,query:e})]})});case"structured_search_section":return n.title?Object(O.jsx)(y.f,{marginBottom:5,marginTop:2,width:"100%",ref:s,children:Object(O.jsxs)(y.u,{alignItems:"stretch",direction:"column",gap:4,width:"100%",children:[d,n.objects.length>0&&Object(O.jsx)(ke.a,{action:n.action,id:n.id,objects:n.objects,slotIndex:t,viewType:2,viewParameter:r,contextLogData:a})]})}):null;case"user_style_story_v2":return Object(O.jsx)(Re,{story:n,impressionTrackerRef:s});default:return null}}var Ne=n("rsy7"),Me=n("7w6Q"),Fe=n("qD10"),Ue=n("T+9/"),ze=n("bEif");function He({action:e,auxData:t,userContent:n,storyId:i,storyType:r,slotIndex:o,title:a}){const s=n[0],c=n.slice(1,3),{explicitly_followed_by_me:l,full_name:d,follower_count:u,image_medium_url:h,username:p,id:b,verified_identity:m,is_verified_merchant:f}=s;return Object(O.jsx)(Ue.a,{viewType:2,componentType:200,viewParameter:43,loggingId:i,contextLogData:{story_type:r,story_id:i,content_ids:c.map(({id:e})=>e)},impressionType:"Story",slotIndex:o,children:Object(O.jsx)(y.f,{marginTop:2,marginBottom:2,children:Object(O.jsx)(y.j,{children:Object(O.jsxs)(y.f,{paddingY:2,children:[a&&Object(O.jsx)(y.f,{marginBottom:4,children:Object(O.jsx)(y.bb,{align:"center",children:a.format})}),Object(O.jsx)(ze.a,{action:e,auxData:t,avatarUrl:h,followedByMe:Boolean(l),followersCount:null!=u?u:0,fullName:d,identityIsVerified:Boolean(null==m?void 0:m.verified),isVerifiedMerchant:f,userId:b,username:p,userPins:c,viewType:2,viewParameter:43})]})})})})}var qe=n("rkUH");function Ge({text:e}){const t=Object(j.c)(),n=Object(N.h)();return Object(O.jsxs)("button",{className:"SearchAddPin border rounded",onClick:()=>{Object(Ce.b)(101,{component:206,query:Object(qe.a)("q")}),n.push("/pin-builder/")},style:{backgroundColor:"#fff",position:"relative"},children:[Object(O.jsx)(y.f,{marginBottom:3,children:Object(O.jsx)(y.w,{accessibilityLabel:t._("add a pin","accessible label for add a pin icon","accessible label for add a pin icon"),color:"red",icon:"add-circle",inline:!0,size:40})}),Object(O.jsx)(y.bb,{align:"center",weight:"bold",children:e||t._("Create Pin")})]})}const We={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function Ve({story:{action:e,custom_properties:{image:t},title:n}}){const[i,r]=Object(s.useState)(!1),o=()=>{r(!0)},a=()=>{r(!1)};return Object(O.jsxs)(y.u,{gap:2,direction:"column",children:[Object(O.jsx)(le.a,{accessibilityLabel:e.text,href:e.url,onFocus:o,onBlur:a,onMouseEnter:o,onMouseLeave:a,children:Object(O.jsxs)(y.f,{position:"relative",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:4,children:[Object(O.jsx)(y.D,{height:315,width:236,rounding:4,children:t&&Object(O.jsx)(y.y,{alt:t||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:t,fit:"cover"})}),Object(O.jsx)(y.f,{height:315,width:236,dangerouslySetInlineStyle:{__style:i?We.hoverOverlay:We.defaultOverlay},position:"absolute",top:!0,left:!0}),Object(O.jsx)(y.f,{display:"flex",position:"absolute",top:!0,height:315,width:236,alignItems:"center",justifyContent:"center",padding:4,children:Object(O.jsx)(y.bb,{color:"white",weight:"bold",inline:!0,children:n.format})})]})}),Object(O.jsx)(ce.a,{accessibilityLabel:e.text,color:"gray",fullWidth:!0,href:e.url,size:"lg",text:e.text})]})}var Ke=n("Zxas"),Ye=n("51gp"),Xe=n("9pre"),$e=n("d90F");function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ze=236,Je=2/3,et={gradientWash:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.1))"}}};class tt extends s.Component{constructor(...e){super(...e),Qe(this,"getVideo",()=>{var e;const{story:{objects:t}}=this.props;return t.length>0&&t[0].videos&&(null===(e=t[0].videos.video_list)||void 0===e?void 0:e[Xe.b])||Object.freeze({})}),Qe(this,"getVideoContainerHeight",()=>{const e=this.getVideo(),t=e.width/e.height>1?e.width:Math.min(e.height,1.5*e.width);return Ze*t/e.width}),Qe(this,"getVideoStyles",()=>{const e=this.getVideo(),t=e.width/e.height;if(t.toFixed(2)<Je.toFixed(2)){const t=354,n=e.height*Ze/e.width;return{position:"absolute",top:-1*Math.abs(n-t)/2,width:"100%"}}if(t>1){const t=e.width*Ze/e.height;return{left:-1*Math.abs(t-Ze)/2,position:"absolute",width:t}}return null})}render(){const{query:e,slotIndex:t,story:{action:n,objects:i}}=this.props;if(i.length<=0)return null;const r=i[0],o=this.getVideo(),a=Object(_.b)(this.props.i18n._("{{ query }} videos for you","Text describing video search story in search grid","Text describing video search story in search grid"),{query:Object(O.jsx)(y.bb,{color:"white",inline:!0,weight:"bold",children:Object(Ke.a)(e,70)},e)}),s=this.getVideoStyles(),c=`/search/videos/?q=${encodeURIComponent(e)}&rs=video`,l=r.images&&r.images["236x"]||{};return Object(O.jsx)($e.a,{activate:!1,name:"web_search_video_story",children:({group:e})=>{var i,d,u;return e.startsWith("enabled_pin_image_only")?Object(O.jsx)(g.a,{pin:{...r,videos:null},pinId:r.id,surface:"SearchItem",trackingParameters:{slotIndex:t}}):Object(O.jsx)(Fe.a,{to:c,children:Object(O.jsx)(y.j,{children:Object(O.jsxs)(y.f,{height:this.getVideoContainerHeight(),overflow:"hidden",position:"relative",rounding:2,width:Ze,children:[Object(O.jsx)(y.f,{dangerouslySetInlineStyle:s?{__style:this.getVideoStyles()}:void 0,children:e.startsWith("enabled_image_only")?Object(O.jsx)(y.y,{alt:r.description||"",color:l.dominant_color||"",naturalHeight:null!==(i=l.height)&&void 0!==i?i:1,naturalWidth:null!==(d=l.width)&&void 0!==d?d:1,src:null!==(u=l.url)&&void 0!==u?u:""}):Object(O.jsx)(Ye.a,{accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:o.width/o.height,captions:"",contextLogData:{component:13412,view:2,viewParameter:43,objectId:r.id,video_id:r.videos&&r.videos.id||""},controls:!1,hlsConfig:{capLevelToPlayerSize:!0},loop:!0,playing:!0,poster:o.thumbnail,src:o.url,volume:0})}),Object(O.jsx)(y.f,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:et.gradientWash,height:"100%",position:"absolute",width:"100%"}),Object(O.jsx)(y.f,{top:!0,paddingX:3,paddingY:4,position:"absolute",width:"100%",children:Object(O.jsx)(y.bb,{color:"white",inline:!0,children:a},"video-text")}),Object(O.jsx)(y.f,{bottom:!0,paddingX:2,paddingY:3,position:"absolute",width:"100%",children:Object(O.jsx)(y.g,{fullWidth:!0,accessibilityLabel:this.props.i18n._("Watch videos now","Accessibility label for going into videos search results","Accessibility label for going into videos search results"),color:"white",size:"lg",text:n.text})})]})})})}})}}function nt(e){const t=Object(j.c)();return Object(O.jsx)(tt,{...e,i18n:t})}var it=n("AyyZ"),rt=n("DmTo"),ot=n("hZxF"),at=n("AAEI"),st=n("bZU8"),ct=n("at+a"),lt=n("Y8Sn"),dt=n("qLDv"),ut=n("mVz+"),ht=n("QAzJ"),pt=n("J8Pj");const bt=["recommended_searches","search_related_queries","BUBBLE_TRAY_CAROUSEL","BUBBLE_ONE_COL","merchant_discovery","q2pc_bubbles","search_product_collage_story","shop_article_story","video_pins_story","social_seasonal_pin","pinner_authority","pinner_authority_unified","feed_card_default","feed_card_video","general_shopping_upsell","structured_search_bubble","structured_search_section","user_brand_story","user_color_story","user_brand_story_v1","user_color_story_v1"],mt=[56];function ft({id:e,isImageOnly:t,itemIdx:n,shoppingImageHeightModifier:i,shoppingMetadataGroup:r,squareGrid:o=!1,type:a}){var s;const l=Object(ht.b)("web_shopping_grid_labels"),{group:d}=l({dangerouslySkipActivation:!0}),u=Object(at.a)(),{query:h,scope:p}=Object(ee.b)(),b=Object(c.useSelector)(({pins:t,stories:n,modules:i})=>{switch(a){case"pin":return t[e];case"story":if(bt.includes(n[e].story_type)||mt.includes(n[e].container_type))return n[e];break;case"module":return i[e]}return null});if(Object(ot.a)(()=>{if(b&&"story"===b.type&&b.experience){const e="number"==typeof b.experience.experience_id?b.experience.experience_id:null,t="number"==typeof b.experience.placement_id?b.experience.placement_id:null;e&&t&&u.viewExperience(t,e,!0)}}),!b)return null;let m=null;switch(b.type){case"module":switch(b.name){case"SearchAddPinWrapper":m=Object(O.jsx)(Ge,{text:b.options.text})}break;case"pin":const e={data:{query:h},type:"search"};let a="SearchItem";p===J.a.PINS_BUYABLE&&(i?a="ShoppingDynamicHeightGrid":r.startsWith("enabled")?(a="ShoppingSquareGridRelatedProductsBoth",["enabled_regular_grid","enabled_pwt"].includes(r)&&(a="ShoppingRegularGridRelatedProductsBoth")):a="ProductPinsFeed");Object(Ne.a)(b).length>0&&p===J.a.PINS_BUYABLE&&("employees"===r||r.startsWith("enabled"))&&(dt.e.includes(d)||d.startsWith("control"))&&l();const c=Object(O.jsx)(g.a,{attributionOption:"hide",feedbackOptions:e,imageOnlyOption:t?"image-only":"default",pin:b,pinImageCrop:i?{height:ut.i*i,width:ut.i}:null,pinImageFit:i&&!Object(lt.f)(b)?"cover":void 0,pinId:b.id,surface:a,trackingParameters:{slotIndex:n,viewParameter:Object(J.c)(p),viewType:2}});m=o?Object(O.jsx)(y.f,{minHeight:(!!i&&i*ut.i||ut.i)+pt.c,width:pt.d,"data-test-id":st.c,"data-grid-item":!0,marginStart:2,marginEnd:2,children:c},b.id):c;break;case"story":var f,j;if(Me.a.increment("web_story_card_type",1,{story_type:b.story_type||"unknown",surface:"search"}),56===b.container_type)m=0===(null===(f=b.display_options)||void 0===f?void 0:f.num_columns_requested)?Object(O.jsx)(y.f,{width:"100%","data-test-id":st.c,"data-grid-item":!0,children:Object(O.jsx)(Be,{query:h,slotIndex:n,story:b,viewType:2,viewParameter:Object(J.c)(p)})},b.id):Object(O.jsx)(y.f,{marginStart:o?2:void 0,marginEnd:o?2:void 0,children:Object(O.jsx)(be.a,{bubbles:b.objects,id:b.id,referringSource:b.referring_source,slotIndex:n,storyType:b.story_type,title:b.title,titleIcon:null===(j=b.display_options)||void 0===j?void 0:j.identifier_icon_name,viewType:2,viewParameter:Object(J.c)(p),contextLogData:{entered_query:h}})},b.id);else switch(b.story_type){case"feed_card_default":case"feed_card_video":m=Object(O.jsx)(rt.a,{story:b});break;case"general_shopping_upsell":case"user_brand_story":case"user_color_story":m=Object(O.jsx)(Ve,{story:b});break;case"user_brand_story_v1":m=Object(O.jsx)(pe,{story:b});break;case"user_color_story_v1":m=Object(O.jsx)(je,{story:b});break;case"BUBBLE_ONE_COL":m=Object(O.jsx)(be.a,{bubbles:b.objects,id:b.id,referringSource:b.referring_source,slotIndex:n,storyType:b.story_type,title:b.title,titleIcon:null===(s=b.display_options)||void 0===s?void 0:s.identifier_icon_name,viewType:2,viewParameter:Object(J.c)(p),contextLogData:{entered_query:h}});break;case"pinner_authority":case"pinner_authority_unified":const e=b.objects;e.slice(1,5).length>=2&&(m=Object(O.jsx)(He,{action:b.action,auxData:b.aux_fields,userContent:e,storyId:b.id,storyType:b.story_type,slotIndex:n,title:b.title}));break;case"search_product_collage_story":case"shop_article_story":m=Object(O.jsx)(it.a,{query:h,story:b,slotIndex:n});break;case"video_pins_story":m=Object(O.jsx)(nt,{query:h,slotIndex:n,story:b});break;case"social_seasonal_pin":m=Object(O.jsx)(gt,{story:b});break;case"structured_search_section":m=Object(O.jsx)(y.f,{width:"100%","data-test-id":st.c,"data-grid-item":!0,children:Object(O.jsx)(Be,{query:h,slotIndex:n,story:b,viewType:2,viewParameter:Object(J.c)(p)})},b.id)}}return b.debug?Object(O.jsxs)(y.f,{children:[m,Object(O.jsx)(ct.a,{data:b.debug})]}):m}const gt=e=>{const t=Object(j.c)(),{story:n}=e,{custom_properties:i}=n,{pin_image:r,story_title:o,board_name:a,user_name:s,text_icon_color:c}=i,l=`/${s}/${a}/`;return Object(O.jsx)(Fe.a,{onClick:()=>{},to:l,children:Object(O.jsx)(y.j,{children:Object(O.jsx)(y.f,{color:"blue",dangerouslySetInlineStyle:{__style:{willChange:"transform"}},height:384,overflow:"hidden",position:"relative",rounding:3,children:Object(O.jsxs)(y.y,{alt:"Board Cover Image",fit:"cover",naturalHeight:384,naturalWidth:236,src:r,children:[Object(O.jsx)(y.f,{bottom:!0,left:!0,right:!0,top:!0,height:"100%",position:"absolute",width:"100%"}),Object(O.jsx)(y.f,{top:!0,paddingX:3,paddingY:4,position:"absolute",width:"100%",children:Object(O.jsx)(y.bb,{color:c,inline:!0,weight:"bold",children:Object(O.jsx)("span",{className:"deprecatedTextSizeXL",children:o})},"social-search-text")}),Object(O.jsx)(y.f,{bottom:!0,padding:2,position:"absolute",width:"100%",children:Object(O.jsx)(y.g,{fullWidth:!0,accessibilityLabel:t._("Take a look","Accessibility label going to a social seasonal board from search","Accessibility label going to a social seasonal board from search"),color:"gray",size:"md",text:t._("Take a look","Accessibility label going to a social seasonal board from search","Accessibility label going to a social seasonal board from search")})})]})})})})};var jt=n("q8wg"),yt=n("v/Q4"),Ot=n("5f3z"),xt=n("x12c"),vt=n("IeEU"),_t=n("0S8y");class wt extends s.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{shoppingImageHeightModifier:n,shoppingMetadataGroup:i}=this.props;return Object(O.jsx)(ft,{id:e.id,isImageOnly:this.isImageOnly,itemIdx:t,shoppingImageHeightModifier:n,shoppingMetadataGroup:i,squareGrid:this.shouldShowSquareGrid(),type:e.type},`square-wrapper-${e.id}-${t}`)},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}get isImageOnly(){const{lfvExperiences:e,viewer:t}=this.props;return!(t.isAuth&&t.isPartner)&&(Object(_t.b)(e)||t.isAuth&&(Object(_t.c)({user:t})||Object(_t.d)({user:t})))}shouldShowSquareGrid(){const{scope:e,shoppingImageHeightModifier:t,shoppingMetadataGroup:n}=this.props;return!!t||"enabled_even_height_grid"===n&&e===J.a.PINS_BUYABLE}render(){const{fetchMoreResults:e,isAtEnd:t,isFetching:n,isLoaded:i,searchResults:r,scope:o,appliedProductFilters:a,autoCorrectionDisabled:s,filters:c,query:l,selectedPinImgSig:d,user:u}=this.props,h=Object(Ot.b)({appliedProductFilters:a,autoCorrectionDisabled:s,filters:c,query:l,selectedPinImgSig:d,scope:o,user:u}),p=this.shouldShowSquareGrid();return Object(O.jsx)(jt.a,{view:2,viewParameter:Object(J.c)(o),children:p?Object(O.jsx)(y.f,{"data-test-id":"search-feed",paddingX:2,children:Object(O.jsx)(ae,{items:r,isAtEnd:t,isFetching:n,fetchMoreResults:e,children:r.map((e,t)=>this.renderItem({data:e,itemIdx:t,squareGrid:!0}))})}):Object(O.jsx)(y.f,{"data-test-id":"search-feed",children:Object(O.jsx)(se.default,{cacheKey:h,columnWidth:re.f,comp:this.renderItem,gutterWidth:re.d,isAtEnd:t,isFetching:n,isLoaded:i,pinData:r,items:r,loadItems:()=>{n||e()},includeBackgroundImages:!0,includeVideos:!0,virtualize:!0})})})}}function St(e){const t=Object(yt.a)(),n=Object(vt.b)(),{autoCorrectionDisabled:i,currentlyAppliedFiltersParamTerm:r,personalizationPinSig:o,query:a,scope:s,user:c}=Object(ee.b)();return Object(ot.a)(()=>{if(t.isAuth&&"my_pins"===s){const n=t.id,i=[xt.b.subscribe(n,"pinDeleted",e.refreshData)];return()=>{i.forEach(e=>e.unsubscribe())}}}),Object(O.jsx)(wt,{...e,autoCorrectionDisabled:i,filters:r,lfvExperiences:n,scope:s,selectedPinImgSig:o,query:a,user:c,viewer:t})}var Ct=n("pWkb"),Tt=n("EC51"),It=n("0WuC");function Et({board:e}){const[t,n]=Object(s.useState)(!1),i=Object(Ct.a)(e.board_order_modified_at,{isAbbreviated:!0});return Object(O.jsx)(Tt.a,{hoverStyle:"none",href:e.url,children:Object(O.jsx)(y.f,{onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)},children:Object(O.jsx)(It.a,{board:e,canEdit:!1,images:e.images,isActive:t,isOwnProfile:!0,layout:"square",subtitle:i})})})}function kt({query:e}){const t=Object(j.c)(),n=Object(A.a)({name:"SearchResource",options:{field_set_key:"profile_grid_item",query:e,scope:"my_boards"}}),{data:i,fetchMore:r,isLoaded:o}=n;return o&&i&&0!==i.length?Object(O.jsxs)(y.f,{children:[Object(O.jsx)(y.f,{display:"flex",paddingY:6,justifyContent:"center",children:Object(O.jsx)(y.v,{size:"sm",children:t._("Results from your boards","searchPage.searchResultUserBoards.yourBoardsHeading","Heading for section showing search results for your boards")})}),Object(O.jsx)(y.f,{marginTop:2,children:Object(O.jsx)("div",{className:"gridCentered",children:Object(O.jsx)(y.E,{comp:({data:e})=>Object(O.jsx)(Et,{board:e}),gutterWidth:16,items:i,layout:"basicCentered",minCols:1,loadItems:r,scrollContainer:()=>window})})})]}):null}var Pt=n("7Ve8");function Rt(){const{data:e}=Object(Z.a)();return Object(Pt.a)(null==e?void 0:e.results).filteredResults}function Lt({query:e,shoppingImageHeightModifier:t}){const n=Object(j.c)(),{category:i,currentlyAppliedFiltersParamTerm:r,domains:o,inGlobalSearch:a,priceMax:c,priceMin:l,personalizationPinSig:d,scope:u}=Object(ee.b)(),{fetchMore:h,isAtEnd:p,isFetching:b,refresh:m,isLoaded:f}=Object(Z.a)(),g=Rt(),x=a?null:Object(Pt.b)({category:i,domains:o,minPrice:l,maxPrice:c});return Object(O.jsx)($e.a,{name:"web_shopping_grid_metadata_ratings_shipping",activate:!1,children:({customActivate:i,group:o})=>(i&&!o.includes("pwt")&&u===J.a.PINS_BUYABLE&&i(),Object(O.jsxs)(s.Fragment,{children:[u===J.a.PINS_MINE&&Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(kt,{query:e}),Object(O.jsx)(y.f,{display:"flex",paddingY:6,justifyContent:"center",children:Object(O.jsx)(y.v,{size:"sm",children:n._("Results from your Pins","searchPage.searchResult.yourPinsHeading","Heading for section showing search results for your Pins")})})]}),Object(O.jsx)(St,{appliedProductFilters:x,fetchMoreResults:h,filters:r,isAtEnd:p,isFetching:b,isLoaded:f,searchResults:g,refreshData:m,selectedPinImgSig:d,shoppingImageHeightModifier:t,shoppingMetadataGroup:o})]}))})}function At({isOriginallySyop:e,query:t,queryHasResults:n}){const i=Object(j.c)(),{data:r,isLoaded:o}=Object(Z.a)();if(!o||!r)return Object(O.jsx)(y.U,{show:!0,accessibilityLabel:i._("Getting more ideas for you","Accessibility label for a spinner while fetching more Pins","Accessibility label for a spinner while fetching more Pins")});const{results:a}=r;return!!a.length&&Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(y.f,{marginBottom:5,children:Object(O.jsx)(y.q,{})}),e?Object(O.jsxs)(y.f,{alignItems:"center",direction:"column",display:"flex",marginTop:12,marginBottom:4,children:[Object(O.jsx)(y.v,{size:"md",children:i._("More ideas","searchPage.globalSearchResults.moreIdeasHeading","Title for section showing more ideas after search results")}),Object(O.jsx)(y.f,{paddingY:2,children:Object(O.jsx)(y.bb,{children:n?Object(_.b)(i._("Here are some other ideas you might like about {{ query }}","searchPage.globalSearchResults.moreIdeasTextWithQuery","Subtitle for section showing more ideas after search results"),{query:Object(O.jsx)(y.bb,{inline:!0,weight:"bold",children:t},"query-term")}):i._("Here are some other ideas you might like.","searchPage.globalSearchResults.moreIdeasText","Subtitle for section showing more ideas after search results")})})]}):Object(O.jsxs)(y.f,{paddingX:8,children:[Object(O.jsx)(y.v,{children:i._("More ideas for you","Title for section of results showing search results from all of Pinterest rather than filtered results","Title for section of results showing search results from all of Pinterest rather than filtered results")}),Object(O.jsx)(y.f,{paddingY:2,children:Object(O.jsx)(y.bb,{children:Object(_.b)(i._("Here are some other {{query}} Pins you might like","Heading before alternate search results ","Heading before alternate search results "),{query:Object(O.jsx)(y.bb,{inline:!0,weight:"bold",children:t},"query-term")})})})]}),Object(O.jsx)(Lt,{query:t}),Object(O.jsx)(te,{query:t})]})}function Dt({query:e}){const{data:t,isLoaded:n,isAtEnd:i}=Object(Z.a)(),r=Object(ee.b)(),{scope:o}=r,a=o===J.a.PINS_MINE,c=Object(s.useMemo)(()=>({...r,inGlobalSearch:!0,query:e,scope:"pins"}),[r,e]);if(!t||!n)return null;const{filteredResults:l}=Object(Pt.a)(t.results);return i&&t.should_append_global_search?Object(O.jsx)(ee.a,{value:c,children:Object(O.jsx)(At,{isOriginallySyop:a,query:e,queryHasResults:l.length>0})}):null}var Bt=n("ovj4"),Nt=n("Jr++"),Mt=n("iIk/"),Ft=n.n(Mt),Ut=n("v4/M"),zt=n.n(Ut),Ht=n("SnOm"),qt=n.n(Ht),Gt=n("7pfs"),Wt=n("gJny"),Vt=n.n(Wt),Kt=n("zpin"),Yt=n.n(Kt),Xt=n("Wyqm"),$t=n.n(Xt);function Qt({filterId:e,onClickApplyFilters:t,query:n,currentlyAppliedFiltersParamTerm:i}){const r=Object(j.c)(),{displayLabel:o,image:a,term:s}=function(e,t){let n="",i="",r="";switch(e){case 5:n=t._("Protective","HairPatternFilters.label.protectiveStyles","Hair pattern filter display label for protective styles"),i=Vt.a,r="hair_pattern_id:5";break;case 4:n=t._("Coily","HairPatternFilters.label.coily","Hair pattern filter display label for coily hair"),i=zt.a,r="hair_pattern_id:4";break;case 3:n=t._("Curly","HairPatternFilters.label.curly","Hair pattern filter display label for curly hair"),i=qt.a,r="hair_pattern_id:3";break;case 2:n=t._("Wavy","HairPatternFilters.label.wavy","Hair pattern filter display label for wavy hair"),i=$t.a,r="hair_pattern_id:2";break;case 1:n=t._("Straight","HairPatternFilters.label.straight","Hair pattern filter display label for straight hair"),i=Yt.a,r="hair_pattern_id:1";break;case 6:n=t._("Bald/Shaved","HairPatternFilters.label.bald","Hair pattern filter display label for bald/shaved styles"),i=Ft.a,r="hair_pattern_id:6"}return{displayLabel:n,image:i,term:r}}(e,r),c=i===s;return Object(O.jsxs)(y.u,{alignItems:"center",direction:"column",gap:1,width:92,children:[Object(O.jsx)(Gt.a,{children:({hovered:e,onMouseEnter:r,onMouseLeave:o})=>Object(O.jsx)(y.f,{alignItems:"center",display:"flex",height:64,children:Object(O.jsx)(y.ab,{mouseCursor:"pointer",onMouseEnter:r,onMouseLeave:o,onTap:()=>function(e){const{query:t,onClickApplyFilters:n,currentlyAppliedFiltersParamTerm:i,term:r}=e,o=i===r?"":r;Object(Ce.b)(101,{component:13864,element:1341,view:2,entered_query:t,filter_type:"hair_pattern",value:o}),n(o)}({onClickApplyFilters:t,query:n,currentlyAppliedFiltersParamTerm:i,term:s}),rounding:"pill",children:Object(O.jsx)(y.f,{alignItems:"center",color:e?"gray":void 0,display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:Object(O.jsx)(y.f,{alignItems:"center",color:"white",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:Object(O.jsx)(y.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:c?"#F7BE72":"#EFEFEF"}},display:"flex",height:56,justifyContent:"center",overflow:"hidden",rounding:"pill",width:84,children:Object(O.jsx)(y.f,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}},height:48,width:76})})})})})})}),Object(O.jsx)(y.bb,{align:"center",size:"sm",weight:"bold",children:o})]},"term")}var Zt=n("75Er");function Jt({currentlyAppliedFiltersParamTerm:e,eligibleFilters:t,onClickApplyFilters:n,query:i}){Object(Zt.b)({component:13864,view_parameter:1341,view_type:2});const r=Object(j.c)(),o=e?r._("Some ideas for this hair pattern","HairPatternFilters.copy.termSelected","Hair pattern filters text when a filter is selected"):r._("Search by hair pattern","HairPatternFilters.copy.noTermSelected","Hair pattern filters text when no filter is selected");return Object(O.jsxs)(y.u,{alignItems:"center",direction:"column",gap:3,children:[Object(O.jsx)(y.bb,{color:"darkGray",overflow:"normal",weight:"bold",children:o}),Object(O.jsx)(y.f,{display:"flex",flex:"none",marginBottom:3,paddingX:1,children:t.map(t=>Object(O.jsx)(y.f,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:Object(O.jsx)(Qt,{filterId:t,onClickApplyFilters:n,query:i,currentlyAppliedFiltersParamTerm:e})},t))})]})}var en=n("koHo");function tn({filters:e,query:t}){var n;const{currentlyAppliedFiltersParamTerm:i}=Object(ee.b)(),r=Object(N.h)(),o=e=>{const t=Object(Nt.a)();e?t.filters=e:delete t.filters,r.replace(Object(Bt.a)(window.location.pathname,t))};return Object(O.jsx)(y.f,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"12px"}},display:"flex",flex:"grow",paddingX:6,width:"100%",children:Object(O.jsx)(y.f,{flex:"grow",children:null!=e&&null!==(n=e.hairPatternFilters)&&void 0!==n&&n.eligible_filters?Object(O.jsx)(Jt,{currentlyAppliedFiltersParamTerm:i,eligibleFilters:e.hairPatternFilters.eligible_filters,onClickApplyFilters:o,query:t}):(null==e?void 0:e.skinToneFilters)&&Object(O.jsx)(en.b,{currentlyAppliedFiltersParamTerm:i,filterTones:e.skinToneFilters.options,onClickApplyFilters:o,query:t})})})}function nn(){const{query:e,scope:t}=Object(ee.b)(),n=Object(c.useSelector)(({search:n})=>n.productFilters[Object(Pt.c)({query:e,scope:t})])||{};return{availableFilters:n,hasFiltersAvailable:t===J.a.PINS_BUYABLE&&Object.entries(n).length>0}}const rn=Object(s.lazy)(()=>n.e("SearchPageFiltersDrawer").then(n.bind(null,"u1Kd")));function on({isOpen:e,setProductFiltersButtonText:t}){const n=Object(N.h)(),{category:r,domains:o,priceMin:s,priceMax:c,scope:l}=Object(ee.b)(),{availableFilters:d,hasFiltersAvailable:u}=nn();return u?Object(O.jsx)(i.a,{name:"SafeSuspense_SearchPage_FiltersDrawer",children:Object(O.jsx)(a.a,{children:Object(O.jsx)(rn,{categoryFilters:d.categoryFilters,domainFilters:d.domainFilters,isDrawerOpen:e,handleFilterChange:()=>{},handleSubmit:({category:e,domain:t,min:i,max:r})=>{const o=Object(Nt.a)();e?o.category=e:delete o.category,t?o.domains=t:delete o.domains,i?o.price_min=i:delete o.price_min,r?o.price_max=r:delete o.price_max,n.replace(Object(Bt.a)(window.location.pathname,o))},priceFilters:d.priceFilters,submittedFilters:{category:r,domain:o,max:c,min:s},updateButtonText:e=>{t(e)},viewType:2,viewParameter:Object(J.c)(l)})})}):null}function an({query:e}){const{scope:t}=Object(ee.b)(),{data:n,isLoaded:i}=Object(Z.a)();if(!n||!i)return null;const{results:r}=n,{searchFullWidthStories:o}=Object(Pt.a)(r);return o.map(n=>Object(O.jsx)(Be,{query:e,slotIndex:0,story:n,viewType:2,viewParameter:Object(J.c)(t)},n.id))}var sn=n("tTP9"),cn=n("D2p8"),ln=n("gDIX");var dn=(e,t=.9)=>{const n=Object(ln.c)(e);if(!n)return;const[i,r,o]=n;return Object(ln.b)(i,r,o)<=ln.a?Object(ln.d)(i,r,o):Object(ln.d)(Math.floor(t*i),Math.floor(t*r),Math.floor(t*o))},un=n("61YE"),hn=n("DBEV");function pn({handleReport:e,onClick:t}){const n=Object(j.c)(),i=Object(B.b)(),[r,o]=Object(s.useState)(!1),a=()=>{o(!1),t&&t()};return Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(hn.a,{onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),o(!0)},backgroundHaloSize:16}),r&&Object(O.jsx)(h.b,{accessibilityModalLabel:n._("Report search guide","SearchGuidesReportFlag.Modal.accessibilityModalLabel","accessible label for report guide modal"),heading:n._("Report search guide","SearchGuidesReportFlag.Modal.heading","Heading for report guide modal"),onDismiss:a,size:"sm",children:Object(O.jsxs)(y.f,{children:[Object(O.jsx)(y.f,{padding:4,children:Object(O.jsx)(y.bb,{children:n._("When you flag this search guide, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","SearchGuidesReportFlag.Box.Text.report","What will happen when you report a guide term")})}),Object(O.jsxs)(y.f,{display:"flex",justifyContent:"end",children:[Object(O.jsx)(y.f,{margin:2,children:Object(O.jsx)(y.g,{fullWidth:!0,onClick:a,text:n._("Cancel","SearchGuidesReportFlag.Box.Button.text.cancel","Text for cancel button when reporting guide term")})}),Object(O.jsx)(y.f,{margin:2,children:Object(O.jsx)(y.g,{fullWidth:!0,color:"red",onClick:()=>{e(),i.showToast(({onHide:e})=>Object(O.jsx)(k.a,{onHide:e,text:n._("Thanks for your report! This will be reviewed by our Trust and Safety Team","SearchGuidesReportFlag.Toast.text","Toast after reporting a guide term")})),a()},text:n._("Report","SearchGuidesReportFlag.Box.Button.text.report","Button label to report guide term")})})]})]})})]})}var bn=n("q7Wf"),mn=n("D3nP");function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gn=1;function jn(e){const{position:t,term:n,query:i}=e;switch(t){case 1:return`${i} ${n}`;case-1:return n;default:return`${n} ${i}`}}class yn extends s.PureComponent{constructor(...e){super(...e),fn(this,"state",{guideSelected:!1,hoveredGuide:null}),fn(this,"measureGuideWidths",e=>{const{onGuidesRendered:t,guides:n}=this.props,i=e&&e.children?e.children[0]:null;if(i&&i.children.length===n.length&&t){const e=new WeakMap;for(let t=0;t<n.length;t+=1){const r=i.children[t],o=n[t];e.set(o,r.offsetWidth)}t(e)}}),fn(this,"selectGuide",e=>t=>{t.preventDefault(),t.stopPropagation();const{contextLogAuxData:n}=this.props,{guide:i,index:r}=e;if(this.state.guideSelected)return;const{term:o,position:a}=i;this.setState({guideSelected:!0}),Object(Ce.b)(101,{component:47,element:226,entered_query:this.props.query,label:o,result_index:r,...n||{}});const{query:s,history:c}=this.props;let l=s;if(a<0)l=o;else{l=!a?`${o} ${s}`:`${s} ${o}`}l=l.trim().replace(/\s+/g," ");const d=Object(bn.b)(l,o,r,"guide");c.push(d)})}render(){const{dispatch:e,guides:t,query:n,viewType:i,viewParameter:r,viewer:o}=this.props,a=new un.c;return Object(O.jsx)(y.f,{flex:"grow",ref:this.measureGuideWidths,children:Object(O.jsx)(y.f,{display:"flex",children:Object(O.jsx)(y.f,{marginStart:-1,marginEnd:-1,display:"flex",flex:"none",children:t.map((s,c)=>{const{display:l,position:d,term:u,dominant_color:h}=s,p=Object(_.b)(this.props.i18n._('Search for "{{phrase}}"',"Guided search","Guided search"),{phrase:jn({position:d,term:u,query:n})}).join("");return Object(O.jsx)(Ue.a,{impressionsFramework:a,impressionType:"Guide",viewType:i,viewParameter:r,slotIndex:c,loggingId:s.term,impressionAuxFields:{entered_query:n},contextLogData:{entered_query:n},children:Object(O.jsx)(y.f,{paddingX:1,children:Object(O.jsx)("a",{"data-test-id":"search-guide",href:"",onClick:this.selectGuide({guide:s,index:c}),onMouseEnter:()=>{this.setState({hoveredGuide:c})},onMouseLeave:()=>{this.setState({hoveredGuide:null})},title:p,children:Object(O.jsxs)(y.f,{display:"flex",alignItems:"center",padding:4,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",backgroundColor:dn(h)}},rounding:"pill",position:"relative",children:[Object(O.jsx)(y.bb,{align:"center",color:"white",size:"md",weight:"bold",children:l}),o.isAuth&&o.isEmployee&&this.state.hoveredGuide===c?Object(O.jsx)(y.f,{position:"absolute",bottom:!0,right:!0,marginEnd:2,dangerouslySetInlineStyle:{__style:{marginBottom:2}},children:Object(O.jsx)(pn,{handleReport:()=>{e(Object(mn.a)({report:u,query:n,suggestions:t.map(e=>e.term),type:gn}))},onClick:()=>{this.setState({hoveredGuide:null})}})}):null]})})})},c)})})})})}}var On=Object(R.compose)(Object(c.connect)((function({viewer:e}){return{viewer:e}}),(function(e){return{dispatch:e}})),N.l)((function(e){const t=Object(j.c)(),{data:n}=Object(Z.a)(),{scope:i}=Object(ee.b)(),{guides:r}=n||{},o=Object(J.c)(i);return Object(O.jsx)(yn,{...e,guides:r||[],i18n:t,viewParameter:o})})),xn=n("DzJC"),vn=n.n(xn),_n=n("N84b");function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Sn=1/3;class Cn extends s.Component{constructor(...e){super(...e),wn(this,"state",{navLeftHover:!1,navRightHover:!1,showLeft:!1,showRight:!0}),wn(this,"sliderWidth",0),wn(this,"refreshArrows",()=>{if(!this.slider)return;const{showLeft:e,showRight:t}=this.state,{scrollLeft:n,scrollWidth:i}=this.slider,r=n>0,o=n+this.sliderWidth<i;r===e&&o===t||this.setState({showLeft:r,showRight:o})}),wn(this,"scroll",e=>{0!==e&&(this.animationManager&&this.animationManager.cancel(),this.slider&&(this.animationManager=Object(_n.b)(this.slider,e,0,{easingFunction:"ease-in-out",extendToEdgeDistanceX:50,scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{this.refreshArrows(),this.animationManager=null}}),this.animationManager.start()))}),wn(this,"scrollLeft",e=>{if(e.preventDefault(),this.slider){const{clientWidth:e}=this.slider;this.scroll(-Math.max(Math.floor(Sn*e),300))}}),wn(this,"scrollRight",e=>{if(e.preventDefault(),this.slider){const{clientWidth:e}=this.slider;this.scroll(Math.max(Math.floor(Sn*e),300))}}),wn(this,"handleNavHoverToggle",(e,t)=>{"left"===e?this.setState({navLeftHover:t}):this.setState({navRightHover:t})}),wn(this,"handleScroll",vn()(e=>{e.stopPropagation(),e.preventDefault(),e.target instanceof Element&&this.slider&&(this.slider.scrollLeft=e.target.scrollLeft,this.refreshArrows())},14)),wn(this,"handleResize",vn()(()=>{this.slider&&(this.sliderWidth=this.slider.getBoundingClientRect().width,this.refreshArrows())},14))}componentDidMount(){const{slider:e}=this;var t;e&&(cn.c.addObstruction("top",e),e.addEventListener("scroll",this.handleScroll),this.sliderWidth=null!==(t=e.getBoundingClientRect().width)&&void 0!==t?t:0,this.refreshArrows());window.addEventListener("resize",this.handleResize)}componentWillUnmount(){const{slider:e}=this;e&&(cn.c.removeObstruction("top",e),e.removeEventListener("scroll",this.handleScroll)),window.removeEventListener("resize",this.handleResize),this.animationManager&&this.animationManager.cancel()}render(){const{query:e}=this.props,{navLeftHover:t,navRightHover:n,showLeft:i,showRight:r}=this.state;return Object(O.jsx)(V.a,{position:"sticky",shouldShowShadow:!0,style:{zIndex:3},children:Object(O.jsx)(y.f,{"data-root-margin":"search-improvements-bar",paddingX:6,color:"white",children:Object(O.jsxs)("div",{className:"SearchImprovementsBar-OuterScrollContainer",children:[Object(O.jsx)("div",{ref:e=>{this.slider=e},className:"SearchImprovementsBar-InnerScrollContainer",children:Object(O.jsx)(y.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingBottom:"12px"}},display:"flex",flex:"grow",width:"100%",children:Object(O.jsx)(On,{query:e,viewType:2})})}),i&&Object(O.jsx)(sn.a,{direction:"left",handleNavHoverToggle:this.handleNavHoverToggle,leftHover:t,rightHover:n,onScroll:this.scrollLeft}),r&&Object(O.jsx)(sn.a,{direction:"right",handleNavHoverToggle:this.handleNavHoverToggle,leftHover:t,onScroll:this.scrollRight,rightHover:n})]})})})}}var Tn=n("NBXZ");function In({suggestions:e,rs:t,source_id:n}){const i=Object(j.c)();return Object(O.jsxs)(y.f,{marginTop:12,paddingY:12,width:"100%",display:"flex",direction:"column",justifyContent:"center",alignItems:"center",children:[Object(O.jsx)(y.bb,{weight:"bold",children:i._("Sorry, we couldn't find any Pins for this search.","Search result page","Search result page")}),e&&e.length>0&&Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(y.bb,{weight:"bold",children:i._("Maybe give one of these a try?","Instruction on no search results page","Instruction on no search results page")}),Object(O.jsx)(y.f,{width:"80%",wrap:!0,marginTop:3,display:"flex",justifyContent:"center",children:e.map((e,i)=>Object(O.jsx)(y.f,{paddingX:1,paddingY:1,children:Object(O.jsx)(Se.a,{bubble:e,referringSource:t,height:84,width:192,storyId:n,viewType:2,viewParameter:43,slotIndex:i})},e))})]})]})}const En=({hasFilters:e,isSyop:t,myPinsMsgOverride:n,scope:i})=>{if(t)return r.a._("Can’t find any saved Pins for {{ formattedSearchTerm }}.","searchPage.searchResultNotFound.noSavedPinsText","Message when searching your own pins returns no results");if(n)return r.a._("You haven't saved any Pins about {{ formattedSearchTerm }}. Check out these ideas instead...","Message when searching your own pins returns no results","Message when searching your own pins returns no results");switch(i){case J.a.PINS_MINE:return r.a._("\n      Sorry, we couldn't find any Pins with '{{ formattedSearchTerm }}' in the description.\n      {{ newLine }}\n      Tip: Try searching for words you've used in your Pin description.\n    ");case J.a.PINS_BUYABLE:return r.a._("\n        Sorry, we couldn't find any Product Pins for {{ formattedSearchTerm }}.\n      ");case J.a.BOARDS:return r.a._("\n      Sorry, we couldn't find any boards about {{ formattedSearchTerm }}.\n      {{ newLine }}\n      Please try another search.\n    ");case J.a.USERS:return r.a._("\n      Sorry, we couldn't find anyone named {{ formattedSearchTerm }}.\n    ");case J.a.PINS:return e?r.a._("\n        Hmm...we didn't find anything. Try some different search filters for {{ formattedSearchTerm }}.\n      "):r.a._("\n      Sorry, we couldn't find any Pins for {{ formattedSearchTerm }}.\n      {{ newLine }}\n      Please try another search.\n    ");default:return""}};var kn,Pn=()=>{const{data:e}=Object(Z.a)(),{currentlyAppliedFiltersParamTerm:t,scope:n,query:i}=Object(ee.b)(),r=n===J.a.PINS_MINE,o=Object(Tn.a)(i),a=!(null==e||!e.should_append_global_search),s=null==e?void 0:e.no_results_pivots_info;return Object(O.jsx)("div",{className:"SearchPageContent",children:Object(O.jsx)(jt.a,{view:2,viewParameter:Object(J.c)(n),children:n!==J.a.PINS||t?Object(O.jsx)("div",{className:r?"noResultsSyop":"noResults",children:Object(O.jsx)("span",{children:Object(_.b)(En({hasFilters:!!t,isSyop:r,myPinsMsgOverride:a,scope:n}),{searchTerm:o,formattedSearchTerm:Object(O.jsx)(y.bb,{inline:!0,weight:"bold",children:o},"formattedSearchTerm"),newLine:Object(O.jsx)("br",{},"br")})})}):Object(O.jsx)(In,{suggestions:s?s.queries:void 0,rs:s&&s.rs?s.rs:"no_results_search_story",source_id:s&&s.source_id?s.source_id:""})})})},Rn=n("Yo6N"),Ln=n("ZdPf"),An=n("+3mh");const Dn=void 0!==kn?kn:kn=n("+P9k");function Bn({query:e}){const{data:t,isLoaded:n}=Object(Z.a)();if(!n||!t)return null;const{sensitivity:i}=t;return Object(Ln.c)(i)&&Object(O.jsx)(y.f,{margin:8,children:Object(O.jsx)(y.p,{children:Object(O.jsx)(Rn.a,{notices:i?i.notices:[],viewType:2,query:e,sensitivity:i})})})}function Nn({query:e,sensitivityKey:t}){const n=Object(An.useFragment)(Dn,t);return n?Object(Ln.c)(n)&&Object(O.jsx)(y.f,{margin:8,children:Object(O.jsx)(y.p,{children:Object(O.jsx)(Rn.a,{notices:n&&n.notices?n.notices:[],viewType:2,query:e,sensitivity:n})})}):null}function Mn({query:e,sensitivityKey:t}){const{shouldUseGraphQL:n}=Object(ee.b)();return n?t?Object(O.jsx)(Nn,{query:e,sensitivityKey:t}):null:Object(O.jsx)(Bn,{query:e})}function Fn(){const e=Object(j.c)(),{locale:t}=Object(D.d)(),n=Object(yt.a)(),{query:i,scope:r}=Object(ee.b)(),{data:o,isLoaded:a}=Object(Z.a)();if(!a||!o)return null;if(r!==J.a.PINS_MINE||!n.isAuth||!n.isPartner||"en-US"!==t)return null;let s;return s=o.results&&o.results.length>1?e._("Boost traffic to your website by promoting your Pins"):Object(_.b)(e._("0 results found for {{query}}, try adding some now."),{query:i}),Object(O.jsx)("div",{className:"SearchTipHeader centeredWithinWrapper",children:Object(O.jsx)("div",{style:{marginTop:36,marginBottom:18},children:Object(O.jsxs)(y.v,{size:"md",align:r===J.a.PINS_MINE?"center":"start",children:[Object(O.jsx)("span",{className:"red",children:e._("Tip:",'Prefix for a "tip" header which gives some guidance on the search results page','Prefix for a "tip" header which gives some guidance on the search results page')})," ",s]})})})}const Un=Object(s.lazy)(()=>n.e(659).then(n.bind(null,"vj3K")));function zn(){const[e,t]=Object(s.useState)(!1),{isLoaded:n,data:r}=Object(Z.a)(),{filters:o,modified_filter_eligibility:c}=r||{},l=!(!!o||null==c||!c.skin_tone),d=Object(s.useCallback)(()=>{!e&&l?t(!0):e&&!l&&t(!1)},[e,l]);return Object(s.useEffect)(()=>{n&&r&&d()},[r,n,d]),Object(s.useEffect)(()=>{const e=setTimeout(()=>d(),5e3);return()=>{clearTimeout(e)}},[d]),n&&r&&e?Object(O.jsx)(i.a,{name:"SafeSuspense_SkinToneFiltersEducationCheck_SkinToneFiltersEducationModal",children:Object(O.jsx)(a.a,{children:Object(O.jsx)(Un,{})})}):null}var Hn,qn=n("3Pf9"),Gn=n("Kv0b");function Wn(){const{data:e,isLoaded:t}=Object(Z.a)();return t&&null!=e&&e.debug?Object(O.jsx)(ct.b,{data:e.debug}):null}function Vn({connectionKey:e}){const t=Object(An.useFragment)(void 0!==Hn?Hn:Hn=n("V0qe"),e);return t.debugData?Object(O.jsx)(ct.b,{data:JSON.parse(t.debugData)}):null}var Kn=n("7cjd"),Yn=n("0kFJ"),Xn=n("a5kZ"),$n=n("8kKu"),Qn=n("OkGA"),Zn=n("QLqj");const Jn="webSearchShareEligible",ei="webSearchShareUpsellFlyoutLastViewed",ti="webSearchShareUpsellFlyoutTimesViewed";function ni(){const e=Object(j.c)(),t=Object(N.h)(),[n,i]=Object(s.useState)(!1),[r,o]=Object(s.useState)(Boolean(Zn.c.getItem(Jn))),[a,l]=Object(s.useState)(),[d,u]=Object(s.useState)(!1),h=Object(ht.b)("web_search_share_skin_tone_filter"),p=Object(c.useSelector)(({search:e})=>e.showSkinToneFilters),b=Number(Zn.d.getItem(Qn.b)||0);b>0&&(0===t.length&&0!==b||"PUSH"===t.action)&&Zn.d.setItem(Qn.b,0),Object(s.useEffect)(()=>{b>=2&&p&&!Zn.c.getItem(Jn)&&h().anyEnabled&&(Zn.c.setItem(Jn,!0),o(!0))},[h,b,p]),Object(s.useEffect)(()=>{if(r&&p){const e=Zn.c.getItem(ei),t=Number(Zn.c.getItem(ti))||0,n=!!(e&&Date.now()-Number(e)<864e5),i=t>=3;d||!a||n||i||(u(!0),Zn.c.setItem(ti,t+1),Zn.c.setItem(ei,Date.now()))}},[a,d,r,p]);const m=()=>{u(!1)};return r&&Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(y.f,{ref:e=>l(e),display:"inlineBlock",children:Object(O.jsx)($n.a,{inModal:!1,isFlyoutOpen:n,onToggleFlyout:()=>{i(!n)},onFlyoutDismiss:()=>{i(!1)},sendType:"search",url:"undefined"!=typeof window?window.location.href:null,showTransparentButton:!1,handleSendShareFlyoutButtonClick:()=>{i(e=>!e),m()}})}),d&&Object(O.jsx)(y.L,{anchor:a,idealDirection:"left",onDismiss:m,size:"xl",showCaret:!0,positionRelativeToAnchor:!0,color:"blue",children:Object(O.jsx)(y.f,{padding:3,children:Object(O.jsx)(y.bb,{color:"white",children:e._("Share this result with your friends!","discover.searchpage.searchtabbar.promptshare","A message to prompt sharing of search results")})})})]})}var ii,ri,oi=n("15Oi");function ai({onFilterButtonClick:e,filterButtonText:t,tabs:n}){const{search:i}=Object(N.i)(),r=Object(s.useRef)(null),o=Object(s.useRef)(null),{isRTL:a}=Object(D.d)(),c=Object(N.h)(),{scope:l,query:d}=Object(ee.b)(),{hasFiltersAvailable:u}=nn(),{getFullUrlForTab:h}=Object(oi.c)(d),p=Object(s.useRef)(null);if(Object(s.useEffect)(()=>{const e=r.current;return e?(cn.c.addObstruction("top",e),()=>{cn.c.removeObstruction("top",e)}):void 0},[]),!n||!n.length)return null;const b=n.map(e=>e.name).includes("profiles");return Object(O.jsxs)(y.f,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},marginBottom:1,display:"flex",justifyContent:"center",padding:1,ref:r,"data-test-id":"search-tab-bar",children:[Object(O.jsx)(y.f,{ref:o,children:Object(O.jsx)(y.Y,{tabs:n.map(({href:e,text:t})=>({href:e,text:t})),activeTabIndex:Object(oi.b)(n,l),onChange:({activeTabIndex:e,event:t,disableOnNavigation:r})=>{r(),(({activeTabIndex:e,event:t})=>{const{loggingData:r,href:o}=n[e],a=Object(oi.b)(n,l);var s;"profiles"===n[e].name&&(null===(s=p.current)||void 0===s||s.complete());const d=h({currentQueryParamString:i,currentTabIndex:a,incomingTabIndex:e,baseUrl:o});Object(Ce.b)(101,{view:2,viewParameter:Object(J.c)(l),component:13184,element:r.element}),t.preventDefault(),c.replace(d)})({activeTabIndex:e,event:t})}})}),b&&Object(O.jsx)(Yn.a,{anchor:o.current,experienceIds:[503739],idealDirection:a?"left":"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(p.current=e)},placementId:29}),Object(O.jsxs)(y.f,{marginEnd:12,position:"absolute",left:a,right:!a,display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"16px"}},children:[u&&Object(O.jsx)(Xn.a,{isDrawerOpen:!1,handleDrawerClose:()=>{},onClick:e,buttonText:t}),Object(O.jsx)(ni,{})]})]})}function si({onFilterButtonClick:e,filterButtonText:t}){var n;const{data:i}=Object(Z.a)(),r=Object(oi.a)(null!==(n=null==i?void 0:i.tabs)&&void 0!==n?n:[]);return Object(O.jsx)(ai,{onFilterButtonClick:e,filterButtonText:t,tabs:r})}function ci({onFilterButtonClick:e,filterButtonText:t,tabsKey:i}){var r,o;const a=null!==(r=null===(o=Object(An.useFragment)(void 0!==ii?ii:ii=n("0cRR"),i).tabs)||void 0===o?void 0:o.reduce((e,t)=>(t&&e.push({name:t.name,tab_type:t.tabType}),e),[]))&&void 0!==r?r:[],s=Object(oi.a)(a);return Object(O.jsx)(ai,{onFilterButtonClick:e,filterButtonText:t,tabs:s})}const li=void 0!==ri?ri:ri=n("BsAR");function di({children:e,generatedQueryForResults:t,hideResults:n,containerKey:i}){const{isRTL:r}=Object(D.d)(),{scope:o,shouldUseGraphQL:a}=Object(ee.b)(),{data:c,isLoaded:l}=Object(Z.a)(),[d,u]=Object(s.useState)(""),[h,p]=Object(s.useState)(!1),{hasFiltersAvailable:b}=nn(),m=Object(An.useFragment)(li,i),f=m?m.sensitivity:null,g=m?m.searchfeedTabs:null,{filters:j,guides:x,tabs:v}=l&&c?c:{},_=v&&v.length>0,w=(null==j?void 0:j.hairPatternFilters)||(null==j?void 0:j.skinToneFilters),S=!_&&!w&&x&&x.length>0;Object(s.useEffect)(()=>{!b&&h&&p(!1)},[b,h,p]);const C=()=>{p(!h),Object(Ce.b)(101,{view:2,component:13467,element:11735,viewParameter:Object(J.c)(o)})};return Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(X.a,{placementId:29}),Object(O.jsx)(Y.default,{placementId:29}),Object(O.jsx)(K.a,{placementId:29}),Object(O.jsx)($.default,{placementId:29}),Object(O.jsxs)(V.a,{position:"sticky",shouldShowShadow:!0,style:{zIndex:3},children:[Object(O.jsx)(Gn.a,{}),a?Object(O.jsx)(Kn.a,{connectionKey:m}):Object(O.jsx)(Kn.b,{}),a&&g?Object(O.jsx)(ci,{filterButtonText:d,onFilterButtonClick:C,tabsKey:g}):Object(O.jsx)(si,{filterButtonText:d,onFilterButtonClick:C})]}),Object(O.jsx)(on,{isOpen:h,setProductFiltersButtonText:u}),Object(O.jsxs)(y.f,{dangerouslySetInlineStyle:{__style:h?{marginLeft:r?void 0:qn.b,marginStart:r?qn.b:void 0}:{}},children:[S&&Object(O.jsx)(Cn,{query:t}),w&&Object(O.jsx)(tn,{filters:j,query:t}),a?Object(O.jsx)(Vn,{connectionKey:m}):Object(O.jsx)(Wn,{}),Object(O.jsx)(Fn,{}),Object(O.jsx)(Mn,{query:t,sensitivityKey:f}),Object(O.jsx)(an,{query:t}),!n&&Object(O.jsxs)(s.Fragment,{children:[e?Object(O.jsxs)(y.f,{children:[e,Object(O.jsx)(te,{query:t})]}):Object(O.jsx)(Pn,{}),Object(O.jsx)(zn,{})]}),Object(O.jsx)(Dt,{query:t})]}),Object(O.jsx)(Q.a,{placementId:29}),Object(O.jsx)(W,{})]})}var ui=n("al4m"),hi=n("oqCl"),pi=n("2If1");function bi(e,t=!1){const n="PinRep"===e?re.k:1,i=(e=>{switch(e){case"UserRep":return 260;case"BoardRep":return 268;default:return re.f}})(e);return t?Object(pi.a)(i,re.m,n):Object(hi.a)(i,re.m,n)}const mi=({data:e})=>Object(O.jsxs)(y.f,{padding:4,children:[Object(O.jsx)(ui.a,{board:e}),!!e.debug&&Object(O.jsx)(ct.a,{data:e.debug})]});function fi(){const{fetchMore:e,isFetching:t,isLoaded:n}=Object(Z.a)(),i=Rt();return n&&i.length?Object(O.jsx)(jt.a,{view:2,viewParameter:44,children:Object(O.jsx)(y.f,{marginTop:2,children:Object(O.jsx)("div",{className:"gridCentered",children:Object(O.jsx)(y.E,{columnWidth:268,comp:mi,gutterWidth:0,items:i,minCols:3,layout:new y.G,loadItems:t?()=>{}:e,scrollContainer:()=>window})})})}):null}function gi(){const{query:e,rs:t,scope:n}=Object(ee.b)(),i=Object(s.useRef)(!0),{data:r,isLoaded:o}=Object(Z.a)(),{results:a,sensitivity:c}=null!=r?r:{};Object(ot.a)(()=>{i.current=!1});const d=!!c&&c.advisory!==Ln.a.CONDITIONAL&&c.severity===Ln.b.ABUSIVE&&0===a.length;return Object(s.useEffect)(()=>{o&&Object(Pt.d)({query:e,rs:t,scope:n})},[o]),o&&r?Object(O.jsx)(di,{generatedQueryForResults:e,hideResults:d,children:a.length>0?Object(O.jsxs)(s.Fragment,{children:[i.current?Object(O.jsx)(l.a,{unsafeCSS:bi("BoardRep")}):null,Object(O.jsx)(fi,{})]}):null}):null}function ji(){var e;const t=Object(c.useDispatch)(),{currentlyAppliedFiltersParamTerm:n,query:i,rs:r,scope:o}=Object(ee.b)(),a=Object(c.useSelector)(({search:e})=>e.skinToneQueryUses.lastQuery),d=Rt(),u=Object(s.useRef)(!0),h=Object(s.useRef)(),{auxData:p,data:b,isLoaded:m}=Object(Z.a)();null!=p&&null!==(e=p.grid_layout)&&void 0!==e&&e.w_h_ratio&&(h.current=p.grid_layout.w_h_ratio);const{filters:f,results:g,sensitivity:j,typo:y}=null!=b?b:{};Object(ot.a)(()=>{u.current=!1}),Object(s.useEffect)(()=>{n&&a!==i&&t(Object(mn.d)(i))},[n,a,i,t]);const x=!!j&&j.advisory!==Ln.a.CONDITIONAL&&j.severity===Ln.b.ABUSIVE&&0===g.length,v=!!f;if(Object(s.useEffect)(()=>{t(Object(mn.c)(v))},[t,v]),Object(s.useEffect)(()=>{m&&Object(Pt.d)({query:i,rs:r,scope:o})},[m]),!m||!b)return null;const _=null!=y&&y.corrected?y.correction:i;return Object(O.jsx)(di,{generatedQueryForResults:_,hideResults:x,children:d.length>0?Object(O.jsxs)(s.Fragment,{children:[u.current?Object(O.jsx)(l.a,{unsafeCSS:bi("PinRep")}):null,Object(O.jsx)(Lt,{query:_,shoppingImageHeightModifier:o===J.a.PINS_BUYABLE?h.current:null})]}):null})}var yi,Oi=n("edEC");const xi=({data:e})=>{var t;return Object(O.jsxs)(y.f,{children:[Object(O.jsx)(Oi.a,{avatarUrl:e.image_medium_url,followedByMe:e.explicitly_followed_by_me,followersCount:e.follower_count,fullName:e.full_name,identityIsVerified:null===(t=e.verified_identity)||void 0===t?void 0:t.verified,isVerifiedMerchant:e.is_verified_merchant,truncateName:!0,userId:e.id,username:e.username,recentPinImages:e.recent_pin_images,viewType:2,viewParameter:45}),!!e.debug&&Object(O.jsx)(ct.b,{data:e.debug})]})},vi=void 0!==yi?yi:yi=n("ZQCV"),_i=({userKey:e})=>{var t;const n=Object(An.useFragment)(vi,e);if(!n.username)return null;const i={"222x":n.recentPinImages?n.recentPinImages.map(e=>({dominant_color:(null==e?void 0:e.dominantColor)||"",height:(null==e?void 0:e.height)||0,url:(null==e?void 0:e.url)||"",width:(null==e?void 0:e.width)||0})):[]};return Object(O.jsx)(Oi.a,{avatarUrl:n.imageMediumUrl,followedByMe:!!n.explicitlyFollowedByMe,followersCount:n.followerCount||0,fullName:n.fullName||"",identityIsVerified:!(null===(t=n.verifiedIdentity)||void 0===t||!t.verified),isVerifiedMerchant:!!n.isVerifiedMerchant,truncateName:!0,userId:n.entityId,username:n.username,recentPinImages:i,viewType:2,viewParameter:45})};function wi({hasNext:e,isLoadingNext:t,loadNext:n,userListKeys:i}){const{shouldUseGraphQL:r}=Object(ee.b)(),{fetchMore:o,isAtEnd:a,isFetching:c}=Object(Z.a)(),l=Rt(),d=Array.apply(0,Array(12)).map(()=>{});return Object(O.jsx)(jt.a,{view:2,viewParameter:45,children:Object(O.jsxs)(y.f,{"data-test-id":"search-feed",wrap:!0,display:"flex",direction:"row",justifyContent:"center",children:[Object(O.jsx)(y.P,{isAtEnd:r?!e:a,isFetching:r?t:c,fetchMore:r?()=>{n(50)}:o}),Object(O.jsx)(ne.a,{isAtEndOfFeed:a,itemCount:l.length,pinData:l,includeBackgroundImages:!0,children:r?(i||[]).map((e,t)=>e?Object(O.jsx)(y.f,{marginStart:2,marginEnd:2,children:Object(O.jsx)(_i,{userKey:e})},t):null):l.map(e=>Object(O.jsx)(y.f,{marginStart:2,marginEnd:2,children:Object(O.jsx)(xi,{data:e})},e.id))}),Object(O.jsx)(s.Fragment,{children:d.map((e,t)=>Object(O.jsx)(y.f,{width:re.f,marginEnd:4},"empty-pin-"+t))})]})})}var Si,Ci,Ti=n("dpUB");const Ii=void 0!==Si?Si:Si=n("2eop"),Ei=void 0!==Ci?Ci:Ci=n("y5tp");function ki(){var e,t,n,i,r,o,a,c,d,u,h,p;const{query:b,rs:m,scope:f,shouldUseGraphQL:g}=Object(ee.b)(),j=Object(Ti.a)({checkExperiments:e=>{const{anyEnabled:t}=e.getWithActivation("web_gql_user_search");return t},disableFetch:({routeData:{params:{scope:e}}})=>"users"!==e,getVariables:({routeData:{parsedSearch:e}})=>({query:e.q||"",debD:e.deb_d}),query:Ii}),{data:y,isLoadingNext:x,loadNext:v,hasNext:_}=Object(An.usePaginationFragment)(Ei,j),w=null!==(e=null===(t=y.v3SearchUsersQuery)||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.connection)||void 0===i||null===(r=i.edges)||void 0===r?void 0:r.map(e=>null==e?void 0:e.node))&&void 0!==e?e:[],S=null===(o=y.v3SearchUsersQuery)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.connection,C=Object(s.useRef)(!0),{data:T,isLoaded:I}=Object(Z.a)(),{results:E,sensitivity:k}=null!=T?T:{},P=g?!(null===(c=y.v3SearchUsersQuery)||void 0===c||null===(d=c.data)||void 0===d||!d.connection):I,R=g?null===(u=y.v3SearchUsersQuery)||void 0===u||null===(h=u.data)||void 0===h||null===(p=h.connection)||void 0===p?void 0:p.sensitivity:k,L=g?w.length>0:E&&E.length>0;Object(ot.a)(()=>{C.current=!1});const A=!!R&&R.advisory!==Ln.a.CONDITIONAL&&R.severity===Ln.b.ABUSIVE&&!L;return Object(s.useEffect)(()=>{P&&Object(Pt.d)({query:b,rs:m,scope:f})},[P]),P&&(g||T)?Object(O.jsx)(di,{containerKey:S,generatedQueryForResults:b,hideResults:A,children:L?Object(O.jsxs)(s.Fragment,{children:[C.current?Object(O.jsx)(l.a,{unsafeCSS:bi("UserRep")}):null,Object(O.jsx)(wi,{userListKeys:w,isLoadingNext:x,loadNext:v,hasNext:_})]}):null}):null}var Pi=n("EuRG");var Ri=Object(R.compose)(Object(c.connect)(e=>({numTimesUniqueFiltersApplied:e.search.skinToneQueryUses.numQueryUses}),()=>({})),Object(P.a)(29,e=>({num_unique_skin_tone_filters_applied:e.numTimesUniqueFiltersApplied||0,search_query:e.query,search_query_uri_encoded:encodeURIComponent(e.query),show_skin_tone_filters:e.filters&&"skin_tone"===e.filters[0].vertical})))((function(){const e=Object(c.useDispatch)(),{query:t,scope:n}=Object(ee.b)();Object(s.useEffect)(()=>{e(Object(Pi.c)(t))},[t,e]);let i=null;switch(n){case J.a.USERS:i=ki;break;case J.a.BOARDS:i=gi;break;case J.a.PINS_BUYABLE:case J.a.PINS_MINE:case J.a.PINS_VIDEO:case J.a.PINS:case J.a.IDEA_PINS:i=ji}return i?Object(O.jsx)(i,{}):null})),Li=n("FF6m");const Ai={pins:43,boards:44,my_pins:107,people:45,buyable_pins:254};t.default=Object(Li.a)({resourceDependencies:(e,t)=>{var n;if("users"===t.scope&&e.experiments.getWithActivation("web_gql_user_search").anyEnabled)return[];return[{name:"BaseSearchResource",options:Object(Ot.c)({autoCorrectionDisabled:"true"===(null===(n=t.auto_correction_disabled)||void 0===n?void 0:n.toLowerCase()),appliedProductFilters:Object(Pt.b)({category:t.category,domains:t.domains,maxPrice:t.price_max,minPrice:t.price_min}),bubbleId:t.b_id,filters:t.filters,query:t.q,rs:t.rs,scope:t.scope,selectedPinImgSig:t.query_pin_sigs,sourceId:t.source_id,user:t.user})}]}})((function(e){const t=Object(N.h)(),{search:n}=Object(N.i)(),{scope:s}=Object(N.j)(),{auto_correction_disabled:c="",b_id:l,category:d,deb_d:u,domains:h,filters:p,price_max:b,price_min:m,q:f,query_pin_sigs:g,rs:j,tab:x,user:v}=Object(L.k)(n),_=0!==(f||"").trim().length,w=Object(ht.b)("web_gql_user_search"),S="users"===s&&w().anyEnabled,C={autoCorrectionDisabled:"true"===c.toLowerCase(),bubbleId:l,category:d,currentlyAppliedFiltersParamTerm:p,debD:u,domains:h,personalizationPinSig:g,priceMax:b,priceMin:m,query:f,rs:j,scope:s,tab:x||"",shouldUseGraphQL:S,user:v};return Object(Zt.b)(_?{view_type:2,view_parameter:s?Ai[s]:"",view_data:{scope:s}}:null),_?Object(O.jsx)(o.a,{surface:"search",measureGridVisuallyComplete:!0,children:Object(O.jsx)(ee.a,{value:C,children:S?Object(O.jsx)(i.a,{name:"SafeSuspense_SearchPage_SearchFeed",children:Object(O.jsx)(a.a,{dangerouslyServerRenderForGraphQL:!0,fallback:Object(O.jsx)(y.f,{padding:5,children:Object(O.jsx)(y.U,{accessibilityLabel:r.a._("Loading search results","searchPage.SearchFeed.loading","accessibility label for search results loading spinner"),show:!0})}),children:Object(O.jsx)(Ri,{})})}):Object(O.jsx)(Ri,{})})}):(t.replace("/"),null)}))},c0rk:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("L2iP"),o=n("n6mq"),a=n("qYux"),s=n("0Rm8"),c=n("pIlY"),l=n("nKUr");function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:h=!1,style:p={},top:b}){const{setIsContentHeaderPresent:m}=Object(a.b)();Object(i.useEffect)(()=>(m(!0),function(){m(!1)}),[]);const{currentScrollPosition:f,isScrolled:g,setSubheaderShadow:j}=Object(c.c)();Object(i.useEffect)(()=>(h&&j("contentHeader"),()=>{h&&j(null)}),[h]);let y=!1;"pending"!==b&&(y=null!=b?f>=b:g);const O=Object(s.b)(),x="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,v=Object(l.jsx)("div",{className:t,ref:n,style:{...p,top:O+d,...y&&h?{...r.d,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?Object(l.jsx)(o.V,{top:x?0:O+d,children:v}):v}},c50B:function(e,t,n){n.d(t,"p",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"r",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"t",(function(){return x})),n.d(t,"q",(function(){return v})),n.d(t,"k",(function(){return _})),n.d(t,"s",(function(){return w})),n.d(t,"u",(function(){return S}));var i=n("jZDM");const r=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((e,i)=>{const r=t[e];r&&(n[i]=r)}),n.join("")};function o(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}const a=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function s(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(a)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function c(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function l(e){return function(t,n){const i=r(t.trim()),o=[];if(i)if(i.length<2&&o.push(e.ageTooShortString),/^\d+$/.test(i)){const t=parseInt(i,10);t<=0||t>=300?o.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<12&&o.push(e.checkUnderAgeWithString)}else o.push(e.invalidAgeString);const a={errors:o,warnings:[]};return n&&n(a),a}}function d(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),r=[],o=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const i=/^\d+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=r(t))&&!t.match(i)&&o.push(e.message));const a={errors:o,warnings:[]};return n&&n(a),a}}function h(e){return function(t,n){const i=/^[\d\ -]+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=r(t))&&!t.match(i)&&o.push(e.message));const a={errors:o,warnings:[]};return n&&n(a),a}}function p(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){const r=[];if(t)try{const n=Object(i.a)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||r.push(e.message)}catch(a){r.push(e.message)}const o={errors:r,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const r=t.length;e.min&&r<e.min?i.push(e.minErrorString):e.max&&r>e.max&&i.push(e.maxErrorString);const o={errors:i,warnings:[]};return n&&n(o),o}}function f(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function j(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function y(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function O(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),r.push(e.message));const o={errors:r,warnings:[]};return n&&n(o),o}}function x(e){return function(t,n){t=t&&t.trim();const i=[],r=new Date(t);t&&!r.getTime()&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function _(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function w(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function S(e,t){let n="";return t.some(t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)}),n}},"cr+I":function(e,t,n){var i=n("ZFOp"),r=n("MgzW");function o(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=r({arrayFormat:"none"},t)),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(r),o,i)})),Object.keys(i).sort().reduce((function(e,t){var n=i[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e}),Object.create(null))):i},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[o(t,e),"[",i,"]"].join(""):[o(t,e),"[",o(i,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(i){var r=e[i];if(void 0===r)return"";if(null===r)return o(i,t);if(Array.isArray(r)){var a=[];return r.slice().forEach((function(e){void 0!==e&&a.push(n(i,e,a.length))})),a.join("&")}return o(i,t)+"="+o(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},d2Eh:function(e,t,n){t.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},dRc8:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),r=n("sEfC"),o=n.n(r);function a(){const[e,t]=Object(i.useState)(null);return Object(i.useEffect)(()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=o()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}},dfU2:function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),r=n("gLeT"),o=n("I7CA"),a=n("EC51"),s=n("yweb"),c=n("eqXv"),l=n("DBaX"),d=n("U4JR"),u=n("n6mq"),h=n("nKUr");const p={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.b,filter:"blur(10px)",opacity:1}},b={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},m={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},f=["followed","related","search"],g=["pfy","pfyBoard"];function j({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:j=!1}){var y;const O=Object(s.c)(),[x,v]=Object(i.useState)(!1),[_,w]=Object(i.useState)(!1);Object(i.useEffect)(()=>v(!0),[]);const S=()=>w(!0),{feedbackText:C,images:T,showFeedbackOverlay:I,undoAction:E,undoText:k}=n,P=T&&(null===(y=T["236x"])||void 0===y?void 0:y.url),{image:R,subTitle:L,title:A,unfollow:D}=null!=C?C:{},B=!f.includes(e),N=g.includes(e),M=()=>{Object(d.b)(101,{view:1,viewParameter:92,element:11347})};return Object(h.jsxs)(u.f,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(h.jsxs)(u.f,{dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[P&&Object(h.jsx)(o.a,{additionalStyles:{...p.base,...x?p.blurred:{},backgroundImage:`url("${P}")`}}),Object(h.jsx)(o.a,{additionalStyles:{...b.base,...b.blurred}})]}),Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{...m.base,...!I&&x?m.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!j&&Object(h.jsx)(u.f,{height:"100%",children:Object(h.jsxs)(u.f,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(h.jsx)(u.f,{marginBottom:2,children:Object(h.jsx)(u.v,{color:"white",size:"sm",children:A})}),Object(h.jsxs)(u.f,{display:"flex",marginBottom:1,children:[R&&Object(h.jsx)(u.f,{marginEnd:3,children:Object(h.jsx)(u.D,{width:R.width,height:R.height,rounding:2,wash:!0,children:Object(h.jsx)(u.y,{alt:L||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:R.url||""})})}),Object(h.jsx)(u.bb,{color:"white",overflow:"normal",children:L})]}),t?Object(h.jsxs)(i.Fragment,{children:[E&&Object(h.jsx)(u.f,{children:Object(h.jsx)(u.ab,{onTap:E,children:Object(h.jsx)(u.bb,{color:"white",weight:"bold",overflow:"normal",children:O._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(h.jsxs)(u.f,{marginTop:"auto",children:[!E&&!_&&D&&!N&&Object(h.jsx)(u.g,{fullWidth:!0,color:"white",onClick:()=>Object(c.a)(D.action,D.actionOptions,S),text:O._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),B&&Object(h.jsx)(r.a,{color:"white",fullWidth:!0,href:"/edit",onClick:M,text:O._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):Object(h.jsxs)(i.Fragment,{children:[Object(h.jsx)(u.f,{children:B&&Object(h.jsx)(a.a,{href:"/edit",onClick:M,children:Object(h.jsx)(u.bb,{color:"white",weight:"bold",overflow:"normal",children:O._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(h.jsxs)(u.f,{marginTop:"auto",children:[!E&&!_&&D&&!N&&Object(h.jsx)(u.g,{fullWidth:!0,color:"white",onClick:()=>Object(c.a)(D.action,D.actionOptions,S),text:O._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),E&&Object(h.jsx)(u.g,{fullWidth:!0,color:"white",onClick:E,text:k||O._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},dpUB:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yYqh"),r=n("J4bR"),o=n("+3mh");function a({checkExperiments:e,disableFetch:t,getVariables:n,query:a,fetchKey:s}){const c=Object(r.a)(),{args:l,fetchDisabled:d}=Object(i.a)({checkExperiments:e,disableFetch:t,viewer:c}),u=n?n(l):{};return Object(o.useLazyLoadQuery)(a,u,{fetchPolicy:d?"store-only":"store-or-network",fetchKey:s})}},e0nq:function(e,t,n){function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}))},eBDd:function(e,t,n){var i=n("yaUg"),r=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(r.a)(t[e].toString()):""}),Object(i.a)(e,n)}},eRoX:function(e,t,n){t.a=[{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/83/39/1e/83391e3103e17a46e2733b09bf154a06.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/87/f7/b5/87f7b55bc3de78ef95fd36fa3a237172.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/d3/49/07/d34907c96950574c15719219e0f0dd69.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/49/ad/71/49ad71817c829e8d86ca16fa6508b0c4.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/a8/7f/53/a87f53ea636966bf24cf279ed2fdc4dc.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/36/67/b4/3667b449f3cacaaeef3f68fc9cf609be.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/9d/4f/43/9d4f43222d4fc694a61f7635f2d42892.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/48/d9/f0/48d9f0a63ac5c08b1cf2608ceb4a884f.jpg",width:236,height:419},{url:"https://i.pinimg.com/236x/3e/08/94/3e0894b99543507463864c64c6b3af49.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/4b/a4/97/4ba49798105ddfc0bfd11a980f18590f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b9/e9/8f/b9e98fe7ff81c026b488997900eb25fa.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/96/e0/4a/96e04ac53becd9f522988fc27343ac6e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/5a/f5/9e/5af59e46be8a92abd880031be67ce4cc.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/71/f2/e6/71f2e6a1a13223864dd833bc128f8e2f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/db/b2/09/dbb2099909d25dd45d3df4950429312d.jpg",width:236,height:309},{url:"https://i.pinimg.com/236x/d7/f9/b0/d7f9b0f7dc0536e923026e6af91c61d5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/4b/6e/36/4b6e36884909d421e250050db82d013b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/0b/85/ca/0b85ca13cbf16fa3017164b9c4b65923.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/28/d9/35/28d935a8f25905a6989709b21241e4d2.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/94/e5/fb/94e5fb084bb73b1237a73fc83eb07b45.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ec/c7/66/ecc766782029713523ae6a5bd8544045.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/1a/c5/72/1ac572b1643cf518ef06139eca46dd1d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d1/8f/f9/d18ff9eaec83c75b878eebb899604b8e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/29/6d/a2/296da26a335fd7079e6355225c051cf3.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cd/53/e3/cd53e3b9ad897d5c5588094f446cbc2a.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/18/54/21/1854212e113994080084b4666b23fcc5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cf/0c/45/cf0c451732bb352b3c96d1951ea632dd.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d0/e9/ee/d0e9ee92a6398e6b31b1515c2ec6ab5e.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8d/8c/86/8d8c86e41d810497a7b60c5a0e58a95f.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/57/0c/d6/570cd6ac36a208808edabf74682cca8d.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/bd/57/32/bd5732c8291d05e8982662a1ee043411.jpg",width:236,height:188},{url:"https://i.pinimg.com/236x/1b/10/5e/1b105ea0da81722178e23c5438fb68d7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/ee/2d/d3/ee2dd31a93246fb72490c012b16eefca.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/81/8a/ca/818aca5d5303c60bff125a5acc322fc0.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/c6/bc/64/c6bc64acbaab2cca4f9166539ff36621.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d7/38/27/d73827a583f46fbeaf282acc001eb733.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/2a/02/05/2a0205019cb0cb1ea0baa9b95eb78ab8.jpg",width:236,height:256},{url:"https://i.pinimg.com/236x/60/81/65/60816514dcfcbcab0df772dc78ca8ed1.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/0d/2f/fb/0d2ffbcdcc414765ef441752b423a6ad.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d0/97/0b/d0970b1c57a50afa4d6951d8b0657715.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/7d/c5/99/7dc599bce4115d38ee5b91dcd8769543.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/70/0e/56/700e56a3bccb989ab88819ade445e86e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ff/73/ab/ff73ab3256bbcf8abce0febb98939e4f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/e7/1b/ba/e71bbaca118e1ae09f01bcc45b58229f.jpg",width:236,height:185},{url:"https://i.pinimg.com/236x/37/af/bf/37afbf3c16baf0f70dc083b6c6ffecec.jpg",width:236,height:298},{url:"https://i.pinimg.com/236x/64/9d/1b/649d1b77d8b28995b2902b89001f912c.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330},{url:"https://i.pinimg.com/236x/21/af/78/21af78021ad083377aa3e36ae6f09fc2.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/06/41/9c/06419c4e4165596f77d721d88665e4e7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/2a/9e/80/2a9e80b4714ac32943ddec01399b5387.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330}]},edEC:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("bEif"),r=n("n6mq"),o=n("nKUr");function a({action:e,auxData:t,avatarUrl:n,followedByMe:a,followersCount:s,fullName:c,identityIsVerified:l,isVerifiedMerchant:d,invertButtonColor:u,onActionClick:h,recentPinImages:p,suppressToasts:b,truncateName:m=!1,userId:f,username:g,userPins:j,viewType:y,viewParameter:O}){return Object(o.jsx)(r.f,{marginTop:3,marginBottom:3,children:Object(o.jsx)(r.j,{children:Object(o.jsx)(i.a,{action:e,auxData:t,avatarUrl:n,followedByMe:a,followersCount:s,fullName:c,identityIsVerified:l,isVerifiedMerchant:d,invertButtonColor:u,onActionClick:h,recentPinImages:p,suppressToasts:b,truncateName:m,userId:f,username:g,userPins:j,viewType:y,viewParameter:O})})})}},eqXv:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("eOdZ");const r=()=>{};const o={complaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){i.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){i.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){i.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){i.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){i.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){i.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){i.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){i.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=r){const i=o[e];return i?i(t,n):n()}},exCO:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("gTC0"),r=n("nKUr");function o({accessibilityLabel:e,handleClick:t,icon:n,iconColor:o,isSVG:a,iconOnly:s}){return Object(r.jsx)(i.a,{accessibilityLabel:e,color:o,onClick:t,icon:n,isSVG:a,iconOnly:s})}},f1Dd:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("q1tI"),r=n("oqCl"),o=n("2If1"),a=n("ihsa"),s=n("rXev"),c=n("n6mq"),l=n("yjg8"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"masonryRef",Object(i.createRef)()),u(this,"renderItem",e=>{const{comp:t}=this.props,{gutterWidth:n,paddingBottom:i}=this.getGutters();return Object(d.jsx)("div",{style:{paddingBottom:i,paddingLeft:n/2,paddingRight:n/2},children:Object(d.jsx)(t,{...e})})})}componentDidUpdate(e){const{widthOffset:t,useMasonry9:n}=this.props;t!==e.widthOffset&&(n||this.masonryRef.current&&this.masonryRef.current.handleResize())}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t;return{gutterWidth:n?l.e:e,paddingBottom:n?16:6}}render(){const{columnWidth:e,flexible:t,items:n,layout:i,loadItems:u,masonryRef:h,measurementStore:p,scrollContainer:b,serverRender:m,useMasonry9:f,virtualize:g,isGridCentered:j,minCols:y}=this.props,{gutterWidth:O}=this.getGutters();let x,v=null;return v=f?Object(d.jsx)(s.a,{columnWidth:e+O,gutterWidth:0,comp:this.renderItem,minCols:y,ref:e=>{this.masonryRef.current=e,h&&(h.current=e)},items:n,flexible:t,loadItems:u,measurementStore:p,scrollContainer:b,virtualize:g}):Object(d.jsx)(c.E,{columnWidth:e+O,gutterWidth:0,comp:this.renderItem,minCols:y,ref:e=>{this.masonryRef.current=e,h&&(h.current=e)},items:n,flexible:t,layout:i||"basic",loadItems:u,measurementStore:p,scrollContainer:b,virtualize:g}),j&&(x="gridCentered"),Object(d.jsxs)("div",{className:x,children:[m&&Object(d.jsx)(a.a,{unsafeCSS:t?Object(o.a)((e||l.f)+O,n.length||l.m,y||l.k):Object(r.a)((e||l.f)+O,n.length||l.m,y||l.k)}),Object(d.jsx)("div",{children:v})]})}}u(h,"defaultProps",{gutterWidth:14,isGridCentered:!0,minCols:l.k,paddingStyle:"simplified",useMasonry9:!1})},fJfT:function(e,t,n){n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j}));var i=n("TPPM"),r=n("ajUs"),o=n("tVBo"),a=n("gxu6"),s=n("T0g9");var c={open(e,t,n,r,o){const c=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";a.b("offsite_"+c,l);const d={token:c+"-"+l,url:e,csr:void 0,pin:void 0,client_tracking_params:r,aux_data:o?JSON.stringify(o):void 0};t?d.pin=t:n&&(d.csr=n),Object(i.a)("/offsite/?"+Object(s.a)(d),!0)}};var l=n("zwad"),d=n("a9a9"),u=n("Y8Sn"),h=n("078/");const p=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},b=({isExternalLink:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),m=({location:e,pin:t,surface:n})=>!Object(u.f)(t)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),r=h.a.includes(n),o=e.pathname.includes(t);return i&&!r||o})({location:e,pinId:t.id,surface:n}),f=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:a})=>{const s=await Object(o.a)({check_only:!0,client_tracking_params:Object(r.a)(t,n),pin_id:null==t?void 0:t.id,url:a}).callGet({showError:!1});if(!s.resource_response.error&&e){const e=s.resource_response.data||{},{message:t,redirect_status:n,url:r}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:r})}},g=({event:e,onHistoryChange:t,href:n,history:r,target:o})=>{const a=l.a.getUrlClass(n);a===l.a.UrlClass.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?Object(i.a)(n,"blank"===o):r&&a===l.a.UrlClass.SAME_ORIGIN&&(r.push(l.a.normalizeUrl(n)),t&&t({event:e}))},j=({href:e,pinId:t,pin:n,location:i,auxData:a,spamCheck:s})=>{"undefined"!=typeof window&&window.Windows?function({url:e,pinId:t,pin:n,location:i,auxData:a}){const s={check_only:!0,client_tracking_params:n?Object(r.a)(n,i):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(a)};Object(o.a)(s).callGet().then(o=>{if(o&&o.resource_response&&!o.resource_response.error){const{resource_response:e}=o,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const o=Object(r.a)(n,i);c.open(e,t,null,o,a)}else c.open(e,t)})}({url:e,pinId:t,pin:n,location:i,auxData:a}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:o,href:a})=>{null!=e&&e.blocked?Object(d.b)(e):c.open(a,o,null,Object(r.a)(i,n),t)})({spamCheck:s,auxData:a,location:i,pin:n,pinId:t,href:e}):c.open(e,t)}},fOIk:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("yweb"),r=n("n6mq"),o=n("nKUr");const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c({isDisabled:e,isFavorited:t,size:n,onTap:c}){const l=Object(i.c)();return Object(o.jsx)(r.ab,{disabled:e,onTap:c,children:Object(o.jsx)(r.w,{accessibilityLabel:l._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:t?s:a,size:n})})}},fZ0m:function(e,t,n){const i={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=i},fZG9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var i=n("K8G+"),r=n("bNC6"),o=n("HMdf"),a=n("+lzj"),s=n("SyXB"),c=n("nEAA");const l=(e,t)=>(e||[]).reduce((e,n)=>({...e,["experiment."+n]:Object(c.d)(t(n))}),{}),d=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce((e,t)=>e+t,0),h=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),p=e=>{if(!e.length)return{};const t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const r=t||e;return{startTime:e,requestStart:r,responseStart:n||r,responseEnd:i}}),n=u(t.map(e=>e.requestStart-e.startTime)),i=u(t.map(e=>e.responseStart-e.requestStart)),r=u(t.map(e=>e.responseEnd-e.responseStart)),o=n+i+r,a=u(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:Object(c.b)((s=a,Number(Number(s/1024).toFixed(3)))),"duration.all":Object(c.b)(o),"duration.requestStartToResponseStart":Object(c.b)(i),"duration.responseStartToResponseEnd":Object(c.b)(r),"duration.startToRequestStart":Object(c.b)(n)};var s},b=e=>{const t=e.filter(e=>!!e.responseEnd);return{...e.length?{...p(t),"count.completed":Object(c.b)(t.length)}:{},"count.all":Object(c.b)(e.length)}},m=e=>{const t=e.reduce((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e),{}),n={script:t.script,script_deferred:e.filter(e=>e.isDeferred),external:e.filter(e=>e.isExternal),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter(e=>e.isVisuallyCompleteRequired)};return Object.keys(n).reduce((e,t)=>({...e,...h(`resource.${t}.`,b((n[t]||[]).map(e=>e.timing)))}),{})},f=(e,t)=>{const{devicePixelRatio:n,navigator:o,innerWidth:a,innerHeight:s}=window,{deviceMemory:l,hardwareConcurrency:d,platform:u,userAgent:h}=o,{appType:p,appVersion:b,browserName:m,browserVersion:f,deviceType:g,isAppShell:j,isAuthenticated:y,isBot:O,isSocialBot:x,locale:v,osName:_,stageName:w}=t,S="desktop"===g?p||5:p||6;let C;const{navigationType:T}=e;let I=null;if("initial_app_load"===T){var E;C=1;const e=null===(E=Object(i.a)("navigation")[0])||void 0===E?void 0:E.transferSize;I=e?parseFloat((.001*e).toFixed(1)):null}else C=4;return{"app.type":Object(c.c)(S),"app.version":Object(c.d)(b),"browser.name":Object(c.d)(m),"browser.version":Object(c.d)(f),"cpu.speed":Object(c.c)(d),"device.memory":Object(c.c)(l),"device.type":Object(c.c)(0),"device.typeName":Object(c.d)(g),"device.version":Object(c.d)("unknown"),"pwt.cause":Object(c.c)(C),"pwt.result":Object(c.c)(1),"view.type":Object(c.b)(0),"viewport.height":Object(c.b)(s||0),"viewport.width":Object(c.b)(a||0),devicePixelRatio:Object(c.b)(n||0),isAppShell:Object(c.a)(j),isAuthenticated:Object(c.a)(y),isBot:Object(c.a)(O),isSocialBot:Object(c.a)(x),locale:Object(c.d)(v),osName:Object(c.d)(_),...null!==I&&{htmlResponseSize:Object(c.b)(I)},platform:Object(c.d)(u||null),profilerVersion:Object(c.d)("3"),pwtActionName:Object(c.c)(Object(r.a)(e)),stageName:Object(c.d)(w),userAgent:Object(c.d)(h)}},g=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:r=[]})=>{let a={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;a={"net.effectiveType":Object(c.d)((null==e?void 0:e.effectiveType)||null),"net.rtt":Object(c.b)(d(e=>10*Math.round(e/10),null==e?void 0:e.rtt)),"net.speed":Object(c.b)(Object(o.b)(r,!1)),"cpu.threads":Object(c.c)(t),"memory.size":Object(c.b)(n)}}return{...l(e,n.getExperimentGroup),...f(t,n),...i,...a,stopwatchVersion:Object(c.c)(1)}},j=(e,t,n)=>{var i;const{navigator:r}=window,{connection:l,serviceWorker:h}=r,{surface:p,navigationType:b,isAuthenticated:m}=e,{cumulativeLayoutShiftScore:f,longTaskDurations:g}=Object(a.e)();return{...g.length?{"longTask.count":Object(c.b)(g.length),"longTask.maxDuration":Object(c.b)(Math.max(...g)),"longTask.totalDuration":Object(c.b)(u(g))}:{},cumulativeLayoutShiftScore:Object(c.b)(100*f),"masonry.paginationMarkCount":Object(c.b)(Object(s.e)(s.a,t)),"metricId.isAuthenticated":Object(c.a)(m),"metricId.navigationType":Object(c.d)(b),"metricId.surface":Object(c.d)(p),"net.effectiveType":Object(c.d)((null==l?void 0:l.effectiveType)||null),"net.rtt":Object(c.b)(d(e=>10*Math.round(e/10),null==l?void 0:l.rtt)),"net.speed":Object(c.b)(Object(o.b)(n)),resourceBufferClearedCount:Object(c.c)(Object(s.e)("resourceBufferCleared",t)),scrollDuringLayout:Object(c.a)(Object(s.f)("scrollDuringLayout",t)),serviceWorker:Object(c.a)(h?!!h.controller:null),serviceWorkerState:Object(c.d)((null==h||null===(i=h.controller)||void 0===i?void 0:i.state)||null)}},y=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:r,pwtEndTime:o,pwtStaticContext:a})=>({...t,...m(r),...l(e,a.getExperimentGroup),...f(i,a),...j(i,o,n)})},fZbY:function(e,t,n){const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>i.test(e)},fc1g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),r=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},fepT:function(e,t,n){n.r(t),n.d(t,"SendButton",(function(){return u}));var i=n("exCO"),r=n("7pfs"),o=n("n6mq"),a=n("nKUr");const s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function c({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:c}){return Object(a.jsx)(r.a,{children:({active:r,focused:l,hovered:d,onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:m,onMouseUp:f})=>{let g={borderRadius:24};if(d){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";g={...g,backgroundColor:e}}if(r){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";g={...g,backgroundColor:e}}return l&&(g={...g,...s}),Object(a.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:m,onMouseUp:f,onClick:i,children:Object(a.jsx)(o.f,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:g},children:Object(a.jsxs)(o.f,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===c&&Object(a.jsxs)(o.f,{children:[Object(a.jsx)(o.w,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),Object(a.jsx)(o.f,{paddingX:3})]}),Object(a.jsx)(o.bb,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var l=n("yweb"),d=n("CgR/");const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,svgPath:r,isSVG:o,iconOnly:s})=>{const d=Object(l.c)(),u="icon"===e,h=o&&r?r:"share",p={accessibilityLabel:d._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:n,icon:h};return u?Object(a.jsx)(i.a,{...p,isSVG:o,iconOnly:s,iconColor:t}):Object(a.jsx)(c,{...p,buttonColor:"lightGray",buttonText:d._("Send","Text for button to send this pin","Text for button to send this pin")})};t.default=d.a.makeSendShareButton(u)},fhk9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));const i={type:"OPEN_CONVERSATIONS_DROPDOWN"},r={type:"CLOSE_CONVERSATIONS_DROPDOWN"},o=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),a=e=>({openConversationsDropdown:()=>e(i),closeConversationsDropdown:()=>e(r)})},flQA:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},foga:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("yweb"),r=n("qpbZ"),o=n("nKUr");function a({dot:e}){const t=Object(i.c)();return Object(r.b)(t._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function s({dot:e,freeShippingPrice:t}){const n=Object(i.c)();return Object(r.b)(n._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:t}).join("")}function c({freeShippingPrice:e,freeShippingValue:t,dot:n}){return 0===t?Object(o.jsx)(a,{dot:n||""}):e?Object(o.jsx)(s,{dot:n||"",freeShippingPrice:e}):null}},g5OB:function(e,t,n){n.d(t,"a",(function(){return Xt}));var i=n("q1tI"),r=n("1unC"),o=n("clxp"),a=n("rYoy"),s=n("gD/Z"),c=n("sztL"),l=n("zwad");function d(e,t){const{carousel_data:n,domain:i}=e;let r=i||"";return n&&n.id&&(r=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],r=i[n]&&i[n].link||"";return r&&l.a.parse(r).hostname||""}(n,t)),r.replace("www.","")}var u=n("yweb"),h=n("gqRH"),p=n("kVqD"),b=n("0nTG"),m=n("n6mq"),f=n("nKUr");const g={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function j({pin:e,sourceLinkStyle:t,surface:n,url:r}){const o=Object(u.c)(),[a,l]=Object(i.useState)(!1),{id:j}=e,y=d(e),O=Object(b.f)(e)||{},{slotIndex:x}=Object(s.b)(),v=Object(p.a)(12,{grid_index:x,objectId:j,...Object(b.f)(e)||{}}),_=Object(p.a)(101,{element:162,objectId:j,...Object(b.f)(e)||{}}),w=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:x,objectId:j,...Object(b.f)(e)||{}}),S=()=>{v(),_(),w()},C=Object(h.b)({href:r,target:"blank",externalData:{auxData:O,pin:e,surface:n}});return"icon-only"===t?Object(f.jsx)(m.x,{accessibilityLabel:o._("link","Website url link","Website url link"),bgColor:"white",href:r,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,disableOnNavigation:t})=>{t(),S(),C({event:e})},role:"link",rel:"nofollow",size:"sm"}):Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{...g.container,...a?g.containerHovered:Object.freeze({}),..."truncated-text"===t?g.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),position:"relative",children:Object(f.jsx)(c.a,{hovered:a,pin:e,slotIndex:x,viewType:1,children:Object(f.jsx)(m.ab,{fullWidth:!1,href:r,onTap:({event:e,disableOnNavigation:t})=>{t(),S(),C({event:e})},rel:"nofollow",role:"link",rounding:4,children:Object(f.jsxs)(m.f,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:g.text},display:"flex",justifyContent:"between",children:[Object(f.jsx)(m.f,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(f.jsx)(m.w,{accessibilityLabel:o._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(f.jsx)(m.f,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(f.jsx)(m.bb,{color:"darkGray",size:"md",weight:"bold",truncate:!0,children:y})})]})})})})}const y=Object(i.lazy)(()=>Promise.all([n.e(107),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),O=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),x=Object(i.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var v=Object(i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:c,onToggleFlyout:l,pin:d,pinTitle:u,setForcePrimary:h,showEditButton:p,showOverflowMenu:b,showShareButton:g,showSourceLinkButton:v,sourceLinkStyle:_,surface:w}){var S;const C=Object(m.kb)(),{viewParameter:T,viewType:I}=Object(s.b)(),{carousel_data:E,id:k,savedInfo:P,tracked_link:R,link:L}=d,A=null!==(S=null!=R?R:L)&&void 0!==S?S:"",[D,B]=Object(i.useState)(p),[N,M]=Object(i.useState)(p),[F,U]=Object(i.useState)(p),z={marginRight:p&&b?-44:0,transition:"margin-right .2s ease-in-out"},H={opacity:F?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},q={marginLeft:N?4:0,transition:"margin-left .2s ease-in-out"};Object(i.useEffect)(()=>{let e;return p&&b?(M(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{B(!0),requestAnimationFrame(()=>{U(!0)})})},800)):(M(p),B(p),requestAnimationFrame(()=>{U(p)})),()=>{clearTimeout(e)}},[p,b]);const G=v&&Object(f.jsx)(r.b,{children:Object(f.jsx)(j,{pin:d,sourceLinkStyle:_,surface:w,url:A})}),W=g&&Object(f.jsx)(o.a,{name:"SafeSuspense_PinRep_SendShareLink",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"send-share-link",children:Object(f.jsx)(r.b,{children:Object(f.jsx)(x,{pin:d,setForcePrimary:h})})})})}),V=Boolean(null==P?void 0:P.localPinId)?null==P?void 0:P.localPinId:k,K=D&&Object(f.jsx)(o.a,{name:"SafeSuspense_PinRep_EditButton",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"edit-button",dangerouslySetInlineStyle:C?void 0:{__style:H},children:Object(f.jsx)(r.b,{children:Object(f.jsx)(y,{carouselSlotCurrentIndex:E&&E.index,component:0,onToggleModal:l,pinId:V,style:{size:"sm"},view:I,viewParameter:T,useLegoStyles:!0})})})})});return"equally-spaced"===c?Object(f.jsxs)(m.f,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(f.jsx)("div",{style:{flexBasis:32},children:G}),e?K:W,e?W:K]}):Object(f.jsxs)(m.f,{alignItems:"center",display:"flex",padding:3,children:[Object(f.jsx)(m.f,{flex:"shrink",children:G}),Object(f.jsx)(m.f,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:C?void 0:{__style:z},children:Object(f.jsxs)(m.u,{alignItems:"center",gap:2,justifyContent:"end",children:[e?K:W,e?W:K,b&&Object(f.jsx)(o.a,{name:"SafeSuspense_PinRep_OverflowMenu",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:C?void 0:{__style:q},children:Object(f.jsx)(r.b,{children:Object(f.jsx)(O,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:h})})})})})]})})]})})),_=n("/MKj"),w=n("XSD5"),S=n("6/Sz"),C=n("U4JR");function T({direction:e,swipeHandler:t}){const n=Object(u.c)(),i={left:n._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:n._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(f.jsx)(m.f,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(f.jsx)(m.ab,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(f.jsx)(m.f,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(f.jsx)(m.w,{accessibilityLabel:i[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var I=Object(_.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(w.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:o}=Object(s.b)(),a=Object(S.a)(e);if(!a)return null;const{id:c=""}=e,{carousel_slots:l=[],index:d=0,id:u}=a;function h(r){return()=>{const a="left"===r?d-1:d+1;t(c,a),((t=0,r)=>{Object(C.b)(108,{objectId:c,component:n,view:o,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:r}},...Object(b.f)(e)||{}})})(d,a)}}return Object(f.jsxs)(m.f,{height:"100%",position:"relative",width:"100%",children:[d>0&&Object(f.jsx)(r.b,{children:Object(f.jsx)(T,{direction:"left",swipeHandler:h("left")})}),d<l.length-1&&Object(f.jsx)(r.b,{children:Object(f.jsx)(T,{direction:"right",swipeHandler:h("right")})})]})}),E=n("h9/w"),k=n("FDmi"),P=n("qD10");function R({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:r}){const o=Object(f.jsx)(m.f,{"data-test-id":"attribution-avatar",height:32,width:32,children:Object(f.jsx)(k.a,{name:n,src:e,accessibilityLabel:r})});return t?Object(f.jsx)(P.a,{className:"underlineLink",to:t,onClick:i,children:o}):o}function L({attributionNameLink:e,name:t,onClick:n,regularWeight:i}){const r=Object(f.jsx)(m.bb,{size:"md",truncate:!0,weight:i?"normal":"bold",children:t});return Object(f.jsx)(m.f,{children:e?Object(f.jsx)(P.a,{className:"underlineLink",onClick:n,to:e,children:r}):r})}function A({link:e,onClick:t,title:n,weight:i}){if(!n)return null;const r=Object(f.jsx)(m.bb,{size:"md",truncate:!0,weight:i,children:n});return e?Object(f.jsx)(P.a,{className:"underlineLink",onClick:t,to:e,children:r}):r}var D=n("b9Z9"),B=n("ynlw"),N=n("Zxas"),M=n("fc1g"),F=n("QAzJ"),U=n("Mulp");var z=Object(_.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(M.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:i,pin:r,name:o,setMostRecentPin:a,sponsorUrl:c,url:l}){const{viewParameter:d,viewType:u}=Object(s.b)(),{id:h,pinner:b,sponsorship:g,story_pin_data_id:j}=r,{isPromoted:y}=Object(B.a)(r),O=b||r.promoter,{creator:x,sponsor:v,status:_}=g||{},{id:w}=v||{},{id:S}=x||{},C=!!j,T=Object(F.b)("mweb_web_android_ios_backend_clbc_display_controls")().anyEnabled,I=Object(p.a)(101,{view:3,element:y?283:27,objectId:h,component:C?230:void 0,...S?{creator_id:S,pin_id:h}:{}}),E=Object(p.a)(101,{view:3,element:27,pin_id:h,objectId:h,component:C?230:void 0,...S&&w?{creator_id:S,sponsor_id:w}:{}}),k=e=>{a(h),e?E():I()},M=l&&!e,z=c||U.a.includes(_)&&T,H=c?Object(f.jsx)(A,{link:c,onClick:()=>k(!0),title:Object(N.a)(t,20),weight:"bold"},r.id+"-attribution_title"):null,q=Object(f.jsxs)(m.f,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(f.jsx)(m.f,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(f.jsx)(D.a,{avatarSize:32,isDarkPromoter:i,pinId:h,user:O,username:O&&O.username,viewParameter:d,viewType:u,children:Object(f.jsx)(R,{attributionNameLink:e,avatarUrl:n,name:o,onClick:()=>k(),accessibilityLabel:""})})}),Object(f.jsxs)(m.f,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(f.jsx)(L,{attributionNameLink:e,name:o,onClick:()=>k(),regularWeight:!t&&!z})}),z?Object(f.jsx)(U.b,{sponsorName:H,sponsorshipStatus:_,textWeight:"bold"}):Object(f.jsx)(A,{title:t})]})]});return M?Object(f.jsx)(P.a,{className:"underlineLink",onClick:()=>k(),to:l,children:q}):q})),H=n("rSLd"),q=n("8A+h"),G=n("YGxj"),W=n("UAdG"),V=n("MhBu"),K=n("v/Q4"),Y=n("tuD4"),X=n("HJ6M"),$=n("KFEb"),Q=n("zq6P");function Z({board:e,favoriteCount:t,favorited:n,pinId:r}){const o=Object(_.useDispatch)(),{slotIndex:a}=Object(s.b)(),{currentFilter:c,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:h}=Object(Q.b)(),p=Object(i.useRef)(null),b=Object(K.a)(),g=Object(q.a)(b,e),j=c===X.b&&(!t||1===t),y=Object(Y.a)(l,X.b),O=e=>{Object(C.b)(101,{component:0,element:e?12225:12226,objectId:r,view:5,viewParameter:g?3069:3070})};return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(m.f,{ref:p,children:Object(f.jsx)(W.a,{favorited:n,favoriteCount:t,onFavorite:()=>{O(!0),y&&d(),h&&h(!0)},onUnfavorite:()=>{O(!1),e&&j&&o(Object(V.a)({feedId:u||e.id,feedType:u?$.a.SECTION_PINS:$.a.BOARD_PINS,itemIds:[r],itemType:"pin"}))},pinId:r,size:20})}),p&&!n&&!u&&0===a&&Object(f.jsx)(m.A,{children:Object(f.jsx)(G.a,{anchor:p.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var J=n("Ye/N");var ee=n("oRao"),te=n("T5j3"),ne=n("obIb"),ie=n.n(ne),re=n("X/CP"),oe=n.n(re),ae=n("x/xQ"),se=n.n(ae),ce=n("jOPH"),le=n.n(ce),de=n("U5D8"),ue=n.n(de);const he={goodIdea:ie.a,love:se.a,thanks:le.a,wow:ue.a,haha:oe.a},pe={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},be=["CreatorProfileStoryPinGrid"];var me=function({pinId:e,pinner:t,reactionCounts:n,surface:i}){const r=Object(K.a)(),o=n?Object(te.a)(n):null,a=n?Object(te.b)(n):0,s=Boolean(r.isAuth&&(null==t?void 0:t.id)===r.id),c=!!o&&o.length>0&&o.map((e,t)=>{const n=he[pe[e]];return Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(f.jsx)(m.f,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)}),l=!!c&&Object(f.jsx)(P.a,{to:`/pin/${e}/`,children:Object(f.jsxs)(m.f,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(f.jsx)(m.f,{display:"flex",direction:"row",children:c}),Object(f.jsx)(m.f,{paddingX:1,children:Object(f.jsx)(m.bb,{size:"md",children:Object(f.jsx)(ee.a,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),d=s&&be.includes(i)&&Object(f.jsx)(m.f,{height:24});return l||d},fe=n("4Utz"),ge=n("EC51"),je=n("Rfw2");function ye({feedbackType:e,pin:t}){const n=Object(u.c)(),{pinner:i,source_interest:r}=t,{full_name:o,username:a}=i||{},{name:s}=r||{},c="topic"===e,l=!c&&"followed"===e,d=`/${a}/`,h=Object(je.e)(s),p=`/search/pins/?q=${encodeURIComponent(h)}&rs=image_only_attribution`,b=c?p:d,g={topic:n._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:n._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:n._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:n._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!g)return null;if(l||c){const e=0===g.indexOf("{"),t=c?s:o,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?Object(f.jsxs)(m.f,{children:[Object(f.jsx)(ge.a,{inline:!0,href:b,children:Object(f.jsx)(m.bb,{weight:"bold",inline:!0,size:"md",truncate:!0,children:t})}),Object(f.jsx)(m.bb,{inline:!0,size:"md",children:n})]}):Object(f.jsxs)(m.f,{children:[Object(f.jsx)(m.bb,{inline:!0,size:"md",children:n}),Object(f.jsx)(ge.a,{inline:!0,href:b,children:Object(f.jsx)(m.bb,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0,children:t})})]})}return Object(f.jsx)(m.f,{children:Object(f.jsx)(fe.a,{pin:t,children:Object(f.jsx)(m.bb,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var Oe=n("Te6n"),xe=n("ANjH"),ve=n("fJfT"),_e=n("EC67");function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Se extends i.Component{constructor(...e){super(...e),we(this,"state",{spamCheck:null}),we(this,"spamCheckExperimentGroup",null),we(this,"mounted",!1),we(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pin:n,surface:i,to:r}=this.props;r&&(e||l.a.isOffsiteUrl(r))&&n&&Object(ve.f)({location:t,pin:n,surface:i})&&Object(ve.a)({isMounted:this.mounted,pin:n,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:r})}),we(this,"handleClick",e=>{const{auxData:t,external:n,history:i,location:r,onClick:o,pin:a,pinId:s,to:c}=this.props,d=n||l.a.isOffsiteUrl(c);Object(ve.b)({isExternalLink:d,event:e})||(e.nativeEvent.preventDefault(),o&&o(e),c&&(d?Object(ve.c)({href:c,pinId:s,pin:a,location:r,auxData:t,spamCheck:this.state.spamCheck}):Object(ve.d)({event:e,onHistoryChange:void 0,href:c,history:i,target:null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,external:i,setAnchorRef:r,style:o,target:a,to:s}=this.props;return Object(f.jsx)("a",{"aria-label":e,className:n,href:s,onClick:this.handleClick,ref:r,rel:i?"nofollow":"",style:o,target:a?"_blank":null,children:t})}}var Ce=Object(xe.compose)(Object(_.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),()=>({})),_e.l)(Se),Te=n("h4v/"),Ie=n("kmwA"),Ee=n("pLLR"),ke=n("rkcQ");function Pe({children:e=null,pinId:t,onClick:n,style:i,url:r}){var o,a;const s=Object(_.useSelector)(({pins:e})=>e[t]),{userAgent:c}=Object(Ee.d)(),{browserName:l}=null!=c?c:{},d="Chrome"===l?{[ke.g.ATTRIBUTION_SOURCE_EVENT_ID]:null!==(o=null==s?void 0:s.pin_promotion_id)&&void 0!==o?o:-1,[ke.g.ATTRIBUTION_DESTINATION]:r,[ke.g.ATTRIBUTION_EXPIRY]:ke.f,[ke.g.ATTRIBUTION_REPORT_TO]:Ie.a.settings.CANONICAL_MAIN_URL}:{[ke.j.ATTRIBUTION_SOURCE_ID]:(null!==(a=null==s?void 0:s.campaign_id)&&void 0!==a?a:0)%256,[ke.j.ATTRIBUTE_DESTINATION]:r,[ke.j.ATTRIBUTE_ON]:r};return Object(f.jsx)("a",{...d,href:r,onClick:n,style:i,target:"_blank",rel:"noopener nofollow noreferrer",children:e})}function Re(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Le=n("4cpq");function Ae({children:e,componentType:t,contextLogData:n,pin:i,surface:r,viewParameter:o,viewType:a}){const c=Object(s.b)(),{ad_destination_url:l,carousel_data:d,id:u,is_promoted:h,link:p,tracked_link:b}=i,g=Object(F.b)("m10n_event_conversion_measurement");let j,y=l||b||p,O="one-tap-desktop";if(d){const{carousel_slots:e=[],id:t,index:n=0}=d;e[n]&&e[n].link&&(y=e[n].link),j={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},O+="-carousel"}const x=()=>{const e=Te.a.getInstance(),i=e.getViewFromContext();Object(C.b)(12,{...n,view:a||c.viewType,viewParameter:o||c.viewParameter,component:t||c.componentType,objectId:u,grid_index:c.slotIndex,pin_id:u,prefetch_percentage_complete:Re(p||"")}),Object(C.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:a||c.viewType,viewParameter:o||c.viewParameter,...n,component:t||c.componentType,objectId:u,grid_index:c.slotIndex,pin_id:u,prefetch_percentage_complete:Re(p||"")}),Object(C.b)(13,{closeup_navigation_type:"web_closeup",objectId:u,component:t||c.componentType,view:3,...c.contextLogData,...n}),e.addViewToContext(i)};return Object(f.jsx)(m.f,{"data-test-id":"otpp",children:Object(f.jsx)(Le.a,{id:O,children:h&&g().anyEnabled?Object(f.jsx)(Pe,{onClick:x,pinId:u,style:{cursor:"pointer",display:"block"},url:y||"",children:e}):Object(f.jsx)(Ce,{auxData:j,external:!0,onClick:x,pinId:u,style:{cursor:"pointer",display:"block"},surface:r,to:y||"",children:e})})})}var De=n("gC5q");function Be(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:r,isPromoted:o}=Object(B.a)(t),a=Object(F.b)("web_no_tap_tap"),s=i||r&&o&&a().anyEnabled?Ae:fe.a;return Object(f.jsx)(s,{surface:i?n:void 0,...Object(De.b)(e,["surface"])})}function Ne({pin:e,pinNoteText:t}){return Object(f.jsx)(Be,{pin:e,children:Object(f.jsx)(m.bb,{lineClamp:1,overflow:"normal",size:"md",children:t})})}var Me=n("EPem"),Fe=n("US8k");function Ue({value:e,valueFormat:t}){const n=Object(u.c)();return e||0===e?"TIME"===t?Object(Fe.a)(e):Object(f.jsx)(ee.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(f.jsx)(m.fb,{idealDirection:"up",text:n._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function ze({pin:e}){const{isStoryPin:t,isVideo:n}=Object(B.a)(e),i=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:r}=Object(B.a)(e);return!n||!r&&i?i:n}(e),r=Object(Me.a)(n,t),o=n||t?null==i?void 0:i.all_time_realtime:null==i?void 0:i["30d_realtime"];return Object(f.jsx)(m.f,{display:"flex",children:r.map(({align:e,displayText:t,field:n,iconType:i,iconSize:r=12,valueFormat:a})=>Object(f.jsxs)(m.f,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(f.jsx)(m.f,{display:"inlineBlock",marginEnd:1,children:Object(f.jsx)(m.w,{accessibilityLabel:t,color:"darkGray",icon:i,size:r})}),Object(f.jsx)(m.bb,{inline:!0,size:"md",children:Object(f.jsx)(Ue,{value:null==o?void 0:o[n],valueFormat:a})})]},n))})}function He({currentPrice:e,originalPrice:t,pin:n,surface:i}){const r=t&&t!==e;return Object(f.jsx)(Be,{pin:n,surface:i,children:Object(f.jsxs)(m.f,{display:"flex",direction:"row",children:[e&&Object(f.jsx)(m.bb,{color:r?"blue":"darkGray",size:"md",weight:"bold",children:e}),r&&Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(f.jsx)(m.bb,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var qe=n("N89m");function Ge({pin:e,surface:t}){return Object(f.jsx)(Be,{pin:e,surface:t,children:Object(f.jsx)(m.u,{alignItems:"stretch",justifyContent:"start",children:Object(f.jsx)(m.bb,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:Object(qe.a)(e,t)})})})}function We({numberOfLines:e=2,pin:t,pinTitle:n,surface:i}){return Object(f.jsx)(Be,{pin:t,surface:i,children:Object(f.jsx)(m.bb,{color:"darkGray",lineClamp:e,size:"md",weight:"bold",children:n})})}var Ve=n("XLg/");const Ke={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Ve.a}ms ease`},visible:{opacity:1}}};function Ye({attributionType:e,board:t,feedbackData:n,feedbackType:r,hasTextContent:o,hasTitleOrSource:a,hoverTransitionState:s,isDarkPromoter:c,pin:l,pinNoteText:d,pinTitle:h,productCurrentPrice:p,productOriginalPrice:b,setForcePrimary:g,showCarouselEllipsis:j,showFavoriteButton:y,showGroupBoardAvatar:O,showNativeReactions:x,showOverflowMenu:v,showPinStats:_,showSource:w,showTextContent:S,surface:C,titleLines:T}){const I=Object(u.c)(),{favorited_by_me:E,favorite_user_count:k,id:P,pinner:L,reaction_counts:A,sponsorship:D,story_pin_data:N}=l,{has_affiliate_products:M}=N||{},U=Object(F.b)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled,q=function(e,t){var n,i,r,o;const{board:a,link_domain:s={},promoter:c,sponsorship:l,native_creator:d}=e,{creator:u,sponsor:h}=l||{},{isPromoted:p}=Object(B.a)(e),{official_user:b}=s||{},m=e.pinner||{};let f="",g="",j="",y="",O="",x="";if(p&&c)f=c.image_medium_url||c.image_small_url,j=c.full_name,y=J.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),x=`/${c.username}/`;else if(l&&null!=u&&u.username&&null!=h&&h.username){var v,_;f=null!==(v=null!==(_=u.image_medium_url)&&void 0!==_?_:u.image_small_url)&&void 0!==v?v:"",g=`/${u.username}/`,j=h.full_name,y=u.full_name,x=`/${u.username}/`,O=`/${h.username}/`}else if(d){var w,S,C;f=null!==(w=null!==(S=d.image_medium_url)&&void 0!==S?S:d.image_small_url)&&void 0!==w?w:"",y=d.full_name,x=`/${null!==(C=d.username)&&void 0!==C?C:""}/`}else if("show-for-claimed-content"===t){var T,I;null!=b&&b.is_primary_website_verified&&b.username&&(f=null!==(T=null!==(I=b.image_medium_url)&&void 0!==I?I:b.image_small_url)&&void 0!==T?T:"",y=b.full_name,x=`/${b.username}/`)}else{var E,k;f=null!==(E=null!==(k=m.image_medium_url)&&void 0!==k?k:m.image_small_url)&&void 0!==E?E:"",g=`/${m.username}/`,y=m.full_name,x=a?a.url:""}return{avatarUrl:null!==(n=f)&&void 0!==n?n:"",attributionNameLink:g,attributionTitle:null!==(i=j)&&void 0!==i?i:"",name:null!==(r=y)&&void 0!==r?r:"",sponsorUrl:O,url:null!==(o=x)&&void 0!==o?o:""}}(l,e),{avatarUrl:G,attributionNameLink:W,attributionTitle:V,name:K,sponsorUrl:Y,url:X}=q;return Object(f.jsxs)(m.f,{dangerouslySetInlineStyle:{__style:Ke.container},children:[j&&Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:a||O||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(f.jsx)(H.default,{pinId:P})}),_&&Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(f.jsx)(ze,{pin:l})}),Object(f.jsx)(m.f,{display:"flex",children:Object(f.jsxs)(m.f,{flex:"grow",children:[(S&&o||y)&&Object(f.jsxs)(m.f,{dangerouslySetInlineStyle:{__style:"none"!==e||O?{marginBottom:"6px"}:{}},children:[(b||p)&&Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(He,{currentPrice:p,originalPrice:b,pin:l,surface:C})}),y?Object(f.jsxs)(m.u,{alignItems:"start",children:[Object(f.jsx)(m.u,{flex:"grow",children:Object(f.jsx)(We,{numberOfLines:T,pin:l,pinTitle:h,surface:C})}),Object(f.jsx)(m.f,{marginStart:3,children:Object(f.jsx)(Z,{board:t,favorited:!!E,favoriteCount:null!=t&&t.should_show_board_activity?null!=k?k:0:void 0,pinId:P})})]}):Object(f.jsx)(We,{numberOfLines:T,pin:l,pinTitle:h,surface:C}),w&&Object(f.jsx)(Ge,{pin:l,surface:C})]}),M&&!D&&Object(f.jsx)(m.f,{marginBottom:2,children:Object(f.jsxs)(m.bb,{size:"md",children:[U&&"Ad • ",I._("Includes sponsored products","pinrep.footer.sponsoredProducts","Footer text to indicate the story pin has affiliate products tagged.")]})}),Object(f.jsxs)(m.f,{alignItems:"center",display:"flex",children:[Object(f.jsx)(m.f,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:Ke.imageOnlyAttribution["active"===s?"visible":"hidden"]},children:Object(f.jsx)(ye,{pin:l,feedbackType:r})});default:return Object.values(q).some(e=>Boolean(e))?Object(f.jsx)(z,{attributionNameLink:W,attributionTitle:V,avatarUrl:G,isDarkPromoter:c||!1,name:K,pin:l,sponsorUrl:Y,url:X}):null}})()}),v&&Object(f.jsx)(m.f,{flex:"none",children:Object(f.jsx)(Oe.default,{feedbackData:n,feedbackType:r,pin:l,pinTitle:h,setForcePrimary:g,transparentBackground:!0})})]}),x&&!!A&&Object(f.jsx)(m.f,{children:Object(f.jsx)(me,{pinId:P,pinner:L,reactionCounts:A,surface:C})}),d&&Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(Ne,{pin:l,pinNoteText:d})}),O&&!y&&Object(f.jsx)(m.f,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!y&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(R,{attributionNameLink:W,avatarUrl:G,name:K}),Object(f.jsx)(m.f,{marginStart:2,flex:"grow",children:Object(f.jsx)(m.bb,{size:"md",children:K})})]})})]})})]})}var Xe=n("gLeT"),$e=n("C2V2");const Qe=Object(i.lazy)(()=>n.e("OutOfStockCommon").then(n.bind(null,"XzTK"))),Ze=Object(i.lazy)(()=>n.e("StaleProductCommon").then(n.bind(null,"CG52")));function Je({contentType:e,hasTextContent:t,pin:n,pinTitle:r,productCurrentPrice:s,productOriginalPrice:c,productRating:l,productShipping:d,showSource:h,showVisitSiteButton:p,surface:g,titleLines:j}){var y;const O=Object(u.c)(),x=Object(F.b)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:v,group:_}=x({dangerouslySkipActivation:!0}),w=null===(y=n.rich_summary)||void 0===y?void 0:y.url;return"shopping"!==e||_.includes("pwt")||x(),Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:Ke.productContainer},height:"100%",children:Object(f.jsx)(m.u,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsxs)(m.f,{children:[(c||s)&&Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(He,{currentPrice:s,originalPrice:c,pin:n,surface:g})}),Object(b.j)(n)&&Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(Qe,{})})})}),Object(b.l)(n)&&Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(Ze,{})})})}),Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(We,{numberOfLines:j,pin:n,pinTitle:r,surface:g})}),h&&Object(f.jsx)(Ge,{pin:n,surface:g}),"shopping"===e&&v&&(l||Number.isFinite(null==d?void 0:d.free_shipping_value))&&Object(f.jsx)($e.b,{count:null==l?void 0:l.count,countFormat:"number",ratingValue:null==l?void 0:l.rating,shippingInfo:d})]}),p&&w?Object(f.jsx)(m.f,{marginTop:2,children:Object(f.jsx)(Xe.a,{fullWidth:!0,href:w,onClick:()=>{Object(C.b)(12,{view:1,viewParameter:3563})},target:"blank",text:O._("Visit site","Wishlist.Pin.CTA.Button.VisitSite.Text","Text on CTA button on Wishlist Pin to Visit Site")})}):null]})})})}var et=Object(i.memo)((function({attributionType:e,blockClickEvents:t,board:n,contentType:i,feedbackData:o,feedbackType:a,hoverTransitionState:s,isDarkPromoter:c,pin:l,pinNoteText:d,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:b,productShipping:g,setForcePrimary:j,showCarouselEllipsis:y,showFavoriteButton:O,showGroupBoardAvatar:x,showNativeReactions:v,showOverflowMenu:_,showPinStats:w,showSource:S,showTextContent:C,showVisitSiteButton:T,surface:I,titleLines:E}){const k=u||S,P="shopping"===i?Object(f.jsx)(Je,{contentType:i,hasTextContent:!!k,pin:l,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:b,productShipping:g,showSource:S,showVisitSiteButton:T,surface:I,titleLines:E}):Object(f.jsx)(Ye,{attributionType:e,board:n,feedbackData:o,feedbackType:a,hasTextContent:!!k,hasTitleOrSource:!!k,hoverTransitionState:s,isDarkPromoter:c,pin:l,pinNoteText:d,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,setForcePrimary:j,showCarouselEllipsis:y,showFavoriteButton:O,showGroupBoardAvatar:x,showNativeReactions:v,showOverflowMenu:_,showPinStats:w,showSource:S,showTextContent:C,surface:I,titleLines:E});return t?Object(f.jsx)("div",{style:{pointerEvents:"none"},children:P}):Object(f.jsx)(m.u,{flex:"grow",children:Object(f.jsx)(r.b,{fullWidth:!0,children:P})})})),tt=n("4+TC"),nt=n("wm0H");const it=Object(i.lazy)(()=>n.e("PinPersistentOneClickSaveCommon").then(n.bind(null,"f6y4"))),rt=Object(i.lazy)(()=>Promise.all([n.e(32),n.e(71),n.e(107),n.e(211),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),ot=Object(i.lazy)(()=>Promise.all([n.e(107),n.e(156),n.e(211),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),at=Object(i.lazy)(()=>Promise.all([n.e(340),n.e("QuickSaveButtonCommon")]).then(n.bind(null,"iTUf"))),st=Object(i.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function ct({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:c,onToggleModal:l,pin:d}){const{id:u,savedInfo:h}=d,b=Object(i.useRef)(!!h),g=Object(_.useSelector)(({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null}),{saveBehaviorType:j}=Object(nt.b)(n);void 0!==j&&["classic","controlled","inline"].includes(e.type)&&(e=j);const{viewParameter:y,viewType:O}=Object(s.b)(),x=Object(p.a)(101,{element:0,objectId:u});let v=null;const w={onToggleModal:c,view:O,viewParameter:y,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(g||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;v=Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(r.b,{children:Object(f.jsx)(at,{experience:g||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:y})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;v=Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(f.jsx)(r.b,{children:Object(f.jsx)(rt,{onClickCallback:x,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!h&&Object(f.jsx)(r.b,{children:Object(f.jsx)(tt.a,{isNewlySaved:!b.current,name:h.title,type:h.type,url:h.url})}),variant:"lego",viewParameter:y})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:s,hidePinBetterSaveDropdown:u}=e;v=Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"better-save",children:Object(f.jsx)(r.b,{children:Object(f.jsx)(ot,{initialSelection:n,onSave:i,onToggleFlyout:c,onToggleModal:l,pin:t,renderPinSaveTooltip:s,renderSavedStatus:({savedInfo:e})=>e&&Object(f.jsx)(r.b,{children:Object(f.jsx)(tt.a,{isNewlySaved:!b.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:y,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?v=Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"persistent-one-click-save",children:Object(f.jsx)(r.b,{children:Object(f.jsx)(it,{...w,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(v=Object(f.jsx)(m.f,{display:"flex",justifyContent:"end",children:Object(f.jsx)(o.a,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:Object(f.jsx)(a.a,{children:Object(f.jsx)(m.f,{"data-test-id":"pin-promote-button",children:Object(f.jsx)(r.b,{children:Object(f.jsx)(st,{pin:d})})})})})}));return Object(f.jsx)(o.a,{name:"PinRepPrimaryContent",children:Object(f.jsx)(m.f,{display:"flex",margin:3,children:v&&Object(f.jsx)(m.f,{marginStart:"auto",flex:"grow",children:v})})})}var lt=n("7wXf"),dt=n("VJm5"),ut=n("3qdF"),ht=n("qhFy"),pt=n("HOY+");const bt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function mt({isSelected:e}){const t=Object(u.c)();return Object(f.jsx)(m.f,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?bt:{},children:Object(f.jsx)(m.f,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(f.jsx)(m.f,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(f.jsx)(m.w,{accessibilityLabel:t._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var ft=n("9pre"),gt=n("BUdX"),jt=n("y7hk"),yt=n("JRj3"),Ot=n("7w6Q"),xt=n("jZDM");const vt="video",_t={},wt={},St=(e,t)=>{if(Ot.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void Ot.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void Ot.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void Ot.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(xt.a)(e),i=document.createElement("link");var r;(i.rel="prefetch",i.href=e,i.as=t,"fetch"===t&&(i.crossOrigin="anonymous"),Ot.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{_t[e]&&(_t[e].loaded=!0),Ot.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{Ot.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},_t[e])||(null===(r=document.head)||void 0===r||r.appendChild(i),_t[e]={added:!0})},Ct=e=>{Ot.a.increment("web_prefetch_via_xhr.attempt",1);const t=Object(xt.a)(e);return new Promise((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(Ot.a.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(Ot.a.increment("web_prefetch_via_xhr.poorConnection",1),n())}const r=new XMLHttpRequest;r.open("GET",e),r.onload=()=>{200===r.status?(wt[e]&&(wt[e].loaded=!0),Ot.a.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(r.response)):(Ot.a.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},wt[e]||(r.send(),wt[e]={added:!0},Ot.a.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))})};var Tt=n("7jH2");function It(e){return`https://v.pinimg.com/videos/mc/hls/${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Et({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:r,isHovering:o,isSocialSeasonalBoard:a=!1,onError:l,onLoad:d,pin:u,pinImageCrop:h,resolution:p="default",rootMargin:b,selectionState:g,showCarousel:j,showPromotedVideos:y,surface:O}){const{contextLogData:x,slotIndex:v,viewParameter:_,viewType:w}=Object(s.b)(),{group:S}=Object(F.c)("web_prefetch_video_in_feed"),{id:C="",aggregated_pin_data:T,image_signature:I,story_pin_data:E}=u,{pin_tags_chips:k}=T||{},{isOneTap:P,isVideo:R,isPromoted:L,isGif:A}=Object(B.a)(u),{cropHeight:D,cropWidth:N}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let M=null;if(e||!R||!y&&L)if(j)M=Object(f.jsx)(m.f,{"data-test-id":"pinrep-carousel",children:Object(f.jsx)(dt.a,{cropHeight:D,cropWidth:N,onError:l,onLoad:d,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,pinId:C,showCarouselBadge:!1,pin:u})});else{const e="backend"===h?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:(n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0)+"px"}}return{}}(u):{};M=Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(f.jsx)(ht.b,{animateGif:A&&a,cropHeight:D,cropWidth:N,fallbackColor:n,imageFit:r,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,mediumResOnly:"medium-res"===p,onLoad:d,onError:l,pin:u})})}else M=Object(f.jsx)(m.f,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:D||void 0,justifyContent:"center",children:Object(f.jsx)(pt.a,{cropHeight:D,rootMargin:b,inAdsDesktopVideoExperiment:R&&y,pin:u,surface:O,onLoad:d,viewType:w,viewParameter:_,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,onError:l,isExperimentalPinRep:!0})});const U=Object(f.jsx)(m.D,{wash:!0,children:Object(f.jsx)(c.a,{hovered:o,pin:u,slotIndex:v,viewType:1,children:M})}),z=["selected-image-only","deselected-image-only"].includes(g),H="selected-image-only"===g,q=Object(i.useRef)(!0);if(Object(i.useEffect)(()=>{q.current||!o||P||t||(E?function(e){var t;const{pages:n,pages_preview:i}=e;if(!i&&!n)return;const r=i?i[0]:null==n?void 0:n[0],o=null==r||null===(t=r.blocks)||void 0===t?void 0:t.find(e=>3===e.block_type);if(o&&o.video){const{hlsv3:e,mp4:t}=Object(yt.a)(o.video)||{},n=t||e;var a;n&&St(null!==(a=n.url)&&void 0!==a?a:"",vt)}}(E):S.startsWith("enabled_mp4_and_hls_manifest")?function(e){const{videos:t}=e,{video_list:n}=t||{},i=Object(Tt.r)({pin:e}),{video:r}=Object(Tt.z)(i)||{},{hls:o,hlsv3:a,mp4:s}=r||{};if(n){const e=Object(yt.b)(n)||{},t=a||o||{},i=gt.a.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",r=t.duration||(null==s?void 0:s.duration)||null;var c;if(r&&Object(jt.b)(i,r)&&i.startsWith("enabled")&&e.url)Ct(null!==(c=e.url)&&void 0!==c?c:"");else if(t.url){var l;Ct(null!==(l=t.url)&&void 0!==l?l:"")}}}(u):S.startsWith("enabled_mp4_and_hls")&&function(e){const{videos:t}=e,{video_list:n}=t||{},i=Object(Tt.r)({pin:e}),{video:r}=Object(Tt.z)(i)||{},{hls:o,hlsv3:a,mp4:s}=r||{};if(n){const e=Object(yt.b)(n)||{},t=a||o||{},i=gt.a.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",r=t.duration||(null==s?void 0:s.duration)||null;var c;if(r&&Object(jt.b)(i,r)&&i.startsWith("enabled")&&e.url)Ct(null!==(c=e.url)&&void 0!==c?c:"");else if(t.url){var l;Ct(null!==(l=t.url)&&void 0!==l?l:"").then(e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter(e=>e.endsWith(".m3u8"))),t&&t[ft.a]){const e=It(t[ft.a]);return Ct(null!=e?e:"")}return null}).then(e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter(e=>e.endsWith(".ts"))),t&&t[0]){const e=It(t[0]);return Ct(null!=e?e:"")}return null})}}}(u)),q.current=!1},[t,o,P,E,u,S]),t)return Object(f.jsxs)(i.Fragment,{children:[U,z&&Object(f.jsx)(mt,{isSelected:H}),k&&Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(f.jsx)(ut.a,{pin:u,enableCloseupLink:!0})})]});const{commerce_data:G}=x||{},W=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(O);return Object(f.jsxs)(Be,{contextLogData:{grid_index:v,image_signature:I,commerce_data:W?G:void 0},elementType:35,pin:u,surface:O,children:[U,k&&Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(f.jsx)(ut.a,{pin:u,enableCloseupLink:!1})})]})}var kt=n("nuuT"),Pt=n("CgR/"),Rt=n("Sp3T");var Lt=Pt.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e})=>{const t=Object(u.c)(),n=Object(Rt.a)();return Object(f.jsx)(m.g,{fullWidth:!0,onClick:n(({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()}),text:t._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function At(e){return e<160?"header-only":"none"}function Dt(e){const[t,n]=Object(i.useState)(e.current?At(e.current.clientHeight||0):"none");return function(e,t){const n=Object(i.useRef)();Object(i.useEffect)(()=>{const i=e.current;if(!i)return;const r=n.current;r&&r.width===i.offsetWidth&&r.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=At(e);i!==t&&n(i)}),t}var Bt=n("W5T3"),Nt=n("dfU2"),Mt=n("I7CA"),Ft=n("vcEN"),Ut=n("DBaX");const zt="#000000",Ht="#ffffff";function qt({selected:e=!1}){const t=Object(u.c)(),{isRTL:n}=Object(Ee.d)();return Object(f.jsx)(m.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?zt:Ht,borderRadius:Ut.b,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(f.jsx)(m.f,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(f.jsx)(m.w,{accessibilityLabel:t._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(f.jsx)(m.f,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:Object(f.jsx)(m.w,{accessibilityLabel:t._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Gt={wrapper:{borderRadius:Ut.b,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Ut.a.VISUAL},savedOverlay:{backgroundColor:Ut.a.SAVED},legoWashOverlay:{backgroundColor:Ut.a.LEGO_WASH}};function Wt({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:i,primaryContentVisibility:r="none",secondaryContent:o,secondaryContentVisibility:a="none",accessoryContent:s,accessoryContentVisibility:c="none",actionBar:l,actionBarVisibility:d="none",seeStatsButton:u,footer:h,selectionState:p="no-selection",debugContent:b,signalDebuggerContent:g,signalDebuggerV2Content:j,signalDebuggerV2ContentVisibility:y="none",obscuredPinOverlay:O,showNoPinBorderRadius:x,showPromotedPinBorderTreatment:v,shouldUseLegoWash:_}){return Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:v?Gt.promotedPinBorderTreatment:{}},height:"100%",children:Object(f.jsxs)(m.f,{dangerouslySetInlineStyle:{__style:x?{}:Gt.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(p)&&Object(f.jsx)(qt,{selected:"selected"===p}),Object(f.jsxs)(m.f,{dangerouslySetInlineStyle:{__style:x?{}:Gt.wrapper},overflow:"hidden",position:"relative",children:[e,Object(f.jsx)(Ft.a,{visibility:n,children:Object(f.jsx)(Mt.a,{additionalStyles:_?Gt.legoWashOverlay:Gt.visualOverlay})}),Object(f.jsx)(Ft.a,{visibility:t,children:Object(f.jsx)(Mt.a,{additionalStyles:_?Gt.legoWashOverlay:Gt.savedOverlay})}),s&&Object(f.jsx)(Ft.a,{visibility:c,children:Object(f.jsx)(Mt.a,{children:s})}),o&&Object(f.jsx)(Ft.a,{visibility:a,children:Object(f.jsx)(Mt.a,{children:o})}),i&&Object(f.jsx)(Ft.a,{visibility:r,children:Object(f.jsx)(Mt.a,{children:i})}),j&&Object(f.jsx)(Ft.a,{visibility:y,children:Object(f.jsx)(Mt.a,{children:Object(f.jsx)(m.f,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:j})})}),l&&Object(f.jsx)(Ft.a,{visibility:d,children:Object(f.jsx)(Mt.a,{children:Object(f.jsx)(m.f,{position:"absolute",left:!0,right:!0,bottom:!0,children:l})})}),u&&Object(f.jsx)(Mt.a,{children:Object(f.jsx)(m.f,{position:"absolute",left:!0,bottom:!0,children:u})}),b&&Object(f.jsx)(Mt.a,{children:b}),g]}),h,O&&Object(f.jsx)(m.f,{children:O})]})})}var Vt=n("078/");function Kt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Yt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Xt=228;t.b=Object(i.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:a=!1,footerProps:c,forcePrimaryContentVisibility:l,impressionsDebuggerProps:d,onError:u,onLoad:h,obscuredPinOverlayProps:p,pin:b,pinVisualProps:g,presentationProps:j,primaryContentProps:y,selectionState:O,secondaryContentProps:x,showAccessoryContent:_,showActionBar:w,showFooter:S,showImpressionsDebugger:C,showSeeStatsButton:T,showSignalDebugger:k,showObscuredPinOverlay:P,showPrimaryAndSecondaryContent:R,surface:L}){const{savedInfo:A}=b,{viewType:D}=Object(s.b)(),{showEnabledSaveBehavior:B}=Object(nt.c)(Vt.a.includes(L)||Vt.c.includes(L)),[N,M]=Object(i.useState)(!1),F=Object(Ve.b)(N);let{isHovering:U,hoverTransitionState:z,handleMouseOver:H,handleMouseLeave:q}=function(){const[e,t]=Object(i.useState)(!1);return{isHovering:e,hoverTransitionState:Object(Ve.b)(e,0,Ve.a),handleMouseOver:Object(i.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(i.useCallback)(()=>t(!1),[t])}}();a&&(U=!1,z="inactive");const G=Object(Ve.b)(!!A),W=Kt(G),V=Kt(z),K=Kt(z),Y=Kt(F),X=Kt(G),$=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(L),Q="visible"!==W||$?W:"none",Z={primaryContentVisibility:Yt(K,Y,"visible"===X?"none":X),secondaryContentVisibility:(J=Yt(K,Y,X),"none"===J?"visible":"visible"===J?"none":"hidden"),actionBarVisibility:Yt(K,Y),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var J;const ee=e=>M(e),te=e=>M(e),ne=e=>{M(e),e||q()};let ie=null;l&&(Z.primaryContentVisibility="visible"),"none"!==Z.primaryContentVisibility&&R&&(ie=Object(f.jsx)(ct,{forcePrimaryContent:ee,showEnabledSaveBehavior:B,onToggleFlyout:te,onToggleModal:ne,pin:b,...y}));let re=null;const oe=Object(i.useRef)(!0),ae=oe.current;oe.current=!1;const se=function(e,t){const{carousel_data:n}=e,{index:r}=n||{},[o,a]=Object(i.useState)(!n||t),s=Object(i.useRef)(r),c=Object(i.useRef)(null);if(n){const e=s.current;s.current=r,(r!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(i.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),o}(b,ae),ce=Kt(Object(Ve.b)(se));Z.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Z.secondaryContentVisibility,ce),re=(x.allowShoppingPriceIndicator||x.shoppingLabelColor||"none"!==Z.secondaryContentVisibility)&&R&&!n&&Object(f.jsx)(m.f,{margin:2,children:Object(f.jsx)(lt.a,{pin:b,...x})});let le=null;_&&(le=Object(f.jsx)(I,{pin:b}),Z.accessoryContentVisibility=Kt(z)),g.isSocialSeasonalBoard&&(e.showShareButton=!1);let de=null;T&&(e.showSourceLinkButton=!1,de=Object(f.jsx)(r.b,{children:Object(f.jsx)(kt.b,{pinId:b.id,surface:L})}));const ue=w?Object(f.jsx)(v,{onToggleFlyout:te,pin:b,setForcePrimary:M,surface:L,...e}):null;let he=null;S&&(he=Object(f.jsx)(et,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===c.attributionType?z:null,pin:b,setForcePrimary:M,surface:L,...c})),g.isSocialSeasonalBoard&&(he=Object(f.jsx)(m.f,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(f.jsx)(m.f,{margin:"auto",width:Xt,children:Object(f.jsx)(Lt,{isFlyoutOpen:N,onFlyoutDismiss:()=>te(!N),onToggleFlyout:()=>te(!N),pinId:b.id,sendType:"pin",shownWithinMasonry:!0,viewType:D})})}));const pe=C&&Object(f.jsx)(Bt.b,{...d}),be=k&&b.debug_info_html&&Object(f.jsx)(m.f,{paddingY:1,children:Object(f.jsx)("pre",{children:b.debug_info_html})}),me=Object(f.jsx)(E.a,{pin:b}),fe=Object(i.useRef)();"header-only"===Dt(fe)&&(Z.actionBarVisibility="none",Z.accessoryContentVisibility="none");const ge=P?Object(f.jsx)(Nt.a,{pin:b,...p}):null,je="ShoppingWishlist"===L?{height:"100%"}:{};return Object(f.jsx)(o.a,{name:"PinRepContainer",children:Object(f.jsx)("div",{"data-test-id":"pin","data-test-pin-id":b.id,onFocus:H,onBlur:q,onMouseEnter:H,onMouseLeave:q,style:je,children:Object(f.jsx)(Wt,{visualOverlayVisibility:V,savedOverlayVisibility:Q,primaryContent:ie,primaryContentVisibility:Z.primaryContentVisibility,secondaryContent:re,secondaryContentVisibility:Z.secondaryContentVisibility,accessoryContent:le,accessoryContentVisibility:Z.accessoryContentVisibility,actionBar:ue,actionBarVisibility:Z.actionBarVisibility,seeStatsButton:de,footer:he,selectionState:O,debugContent:pe,signalDebuggerV2Content:me,signalDebuggerV2ContentVisibility:Z.signalDebuggerV2ContentVisibility,signalDebuggerContent:be,obscuredPinOverlay:ge,...j,children:Object(f.jsx)(m.f,{height:"100%",ref:fe,children:Object(f.jsx)(Et,{blockClickEvents:t,isHovering:U,onError:u,onLoad:h,pin:b,surface:L,selectionState:O,...g})})})})})}))},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),r=n.n(i);function o(e,t=!1){return n=>{if(!r()(n))return t&&Array.isArray(n)?n.map(o(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);r()(n[a])||t&&Array.isArray(n[a])?i[s]=o(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>o(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("trackingParametersContext")},gDIX:function(e,t,n){n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},r=(e,t,n)=>"#"+i(e)+i(t)+i(n),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,s=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},gJny:function(e,t){e.exports="https://s.pinimg.com/webapp/protective-cb7c2847.svg"},gLeT:function(e,t,n){var i=n("q1tI"),r=n("zwad"),o=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)(({accessibilityLabel:e,color:t,disabled:n,fullWidth:i,href:c,iconEnd:l,onClick:d,size:u,tabIndex:h,target:p,text:b},m)=>{const f=r.a.isOffsiteUrl(c);return Object(s.jsx)(o.a,{href:c,target:f?null:p,children:({handleClick:r})=>Object(s.jsx)(a.g,{accessibilityLabel:e,color:t,disabled:n,href:c,iconEnd:l,fullWidth:i,onClick:({event:e,disableOnNavigation:t})=>{t(),null==d||d({event:e}),r({event:e})},ref:m,rel:f?"nofollow":void 0,role:"link",size:u,tabIndex:h,text:b})})});c.displayName="ButtonLink",t.a=c},gSZa:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("iYS+"),r=n("4cpq"),o=n("yweb"),a=n("eqXv"),s=n("vvax"),c=n("5+ob"),l=n("U4JR"),d=n("1Fta"),u=n("n6mq"),h=n("nKUr");function p({feedbackData:e,feedbackType:t,pinId:n,onHide:p,recommendationReason:b,viewParameter:m,viewType:f}){const g=Object(o.c)(),j=Object(d.a)({i18n:g,interpolateNamedTemplate:s.b}),y=(i,r)=>{const o=b&&b.reason&&c.ReasonToChoose[b.reason],s=b&&Object(d.d)(b),u=b&&Object(d.e)(b),{action:h,actionOptions:g}=j.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:o,throughId:s,throughProperties:u,complaintReason:i});(e=>{Object(l.b)(101,{view:f,viewParameter:m,element:e,component:Object(d.c)(t)})})(r),Object(a.a)(h,g),p()},O="promoted"===t?[{text:g._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:g._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:g._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:g._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:g._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:g._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:g._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:g._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return Object(h.jsxs)(u.f,{overflow:"hidden",rounding:2,width:"100%",children:[Object(h.jsx)(u.f,{paddingX:4,paddingY:4,children:Object(h.jsx)(u.bb,{color:"darkGray",size:"md",children:g._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback")})}),Object(h.jsx)(u.q,{}),Object(h.jsx)(u.f,{paddingY:2,children:O.map(({text:e,reason:t,elementType:n})=>Object(h.jsx)(r.a,{id:"hide-reason-"+e.split(" ").join("-"),children:Object(h.jsx)(u.ab,{fullWidth:!1,onTap:()=>y(t,n),children:Object(h.jsx)(i.a,{compact:!0,text:e})})},e))})]})}},gTC0:function(e,t,n){var i=n("1Vso"),r=n("n6mq"),o=n("nKUr");const a="rgb(255,255,255)",s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},c=({accessibilityLabel:e,active:t,color:n="darkGray",focused:i,hovered:c,icon:l,isSVG:d,iconOnly:u})=>{const h="darkGray"===n?{hovered:{backgroundColor:"rgb(226, 226, 226)"},active:{backgroundColor:"rgb(218, 218, 218)"},focused:s,iconOnly:{backgroundColor:a}}:{hovered:{backgroundColor:"rgba(255,255,255,0.4)"},active:{backgroundColor:a},focused:s,iconOnly:{backgroundColor:"rgba(255,255,255,0.0)"}},p=u?{...h.iconOnly}:{...c?h.hovered:Object.freeze({}),...t?h.active:Object.freeze({}),...i?h.focused:Object.freeze({})},b="white"===n&&t?"darkGray":n;return Object(o.jsx)(r.f,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:"circle",dangerouslySetInlineStyle:{__style:p},children:Object(o.jsx)(r.f,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:u?30:48,minWidth:u?30:48}},children:d?Object(o.jsx)(r.w,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:l},color:b,inline:!0,size:u?16:20}):Object(o.jsx)(r.w,{accessibilityLabel:e,icon:l,color:b,inline:!0,size:u?16:20})})})};t.a=e=>{const{accessibilityLabel:t,color:n="darkGray",onClick:r,icon:a,isSVG:s,shadowType:l,iconOnly:d}=e;return Object(o.jsx)(i.a,{accessibilityLabel:t,className:l||"",dataTestId:"lego-button",onClick:r,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:({active:e,hovered:i,focused:r})=>Object(o.jsx)(c,{active:e,accessibilityLabel:t,color:n,hovered:i,focused:r,icon:a,isSVG:s,iconOnly:d})})}},gYog:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("/MKj"),o=(n("T+9/"),n("6/Sz")),a=n("D2p8"),s=n("U4JR");n("QAzJ"),n("nKUr");const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};function l({closeupImpressionType:e,closeupNavigationType:t,componentType:n,contextLogData:l,elementType:d,impressionAuxFields:u,inImpressionExp:h,impressionType:p,impressionsFramework:b,isPaused:m,loggingId:f,objectIdStr:g,slotIndex:j,trackCarousel:y,viewData:O,viewParameter:x,viewType:v}){const _=Object(r.useSelector)(({pins:e})=>e),w=Object(o.a)(_[f||""]||{}),S=b||a.c,C=Object(i.useRef)(null),T=i=>{const r=c[p],o=r.idType,a={endTime:i.endTime,[o]:f,slotIndex:j,time:i.startTime,renderDuration:i.endTime-i.startTime,type:e,...u,forcedExit:"removed"===i.forcedExit?0:void 0},h={component:n,objectIdStr:g,view:v,viewData:O||{},viewParameter:x,...l};if(y){if(w){var b,m,_;Object(s.b)(7352,{eventData:{pinCarouselSlotImpressions:[{...a,carouselDataId:Number(w.id),carouselSlotId:(null===(b=w.carousel_slots)||void 0===b?void 0:b[null!==(m=w.index)&&void 0!==m?m:0])&&Number(w.carousel_slots[null!==(_=w.index)&&void 0!==_?_:0].id),slotIndex:w.index}]},...h})}}else Object(s.b)(r.eventType,{closeup_navigation_type:t,element:d,eventData:{[r.impressionType]:[a]},...h})},I=Object(i.useCallback)(()=>{try{C.current instanceof HTMLElement&&S.start(C.current).onExitViewport(T).setDebugId(f||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[C.current]);Object(i.useEffect)(()=>(h&&!S.inExperiment&&S.setExperimentStatus(!0),m||I(),()=>{C.current instanceof HTMLElement&&S.stop(C.current)}),[I]);const E=Object(i.useRef)(m);return Object(i.useEffect)(()=>{E.current&&!m&&I(),E.current=m},[m,I]),C}const d=({children:e,...t})=>e({impressionTrackerRef:l(t)})},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return we}));var i=n("q1tI"),r=n("/MKj"),o=n("Ye/N"),a=n("FDmi"),s=n("hFfv"),c=n("v/Q4"),l=n("oVol"),d=n("yweb"),u=n("n6mq"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),p(this,"state",{textValue:this.props.initialTextValue||""}),p(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),p(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},r="conversation_share_suggestion"===i.type,o=r?(i.users||[]).filter(e=>e.id!==n):[];return Object(h.jsxs)(u.f,{paddingX:4,width:360,children:[Object(h.jsxs)(u.f,{alignItems:"center",display:"flex",paddingY:4,children:[Object(h.jsx)(u.f,{height:48,paddingX:1,width:56,children:r?Object(h.jsx)(s.a,{collaborators:o.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):Object(h.jsx)(a.a,{name:i.full_name||i.email||" ",src:i.image_large_url})}),Object(h.jsxs)(u.f,{flex:"grow",marginStart:1,children:[Object(h.jsx)(u.bb,{weight:"bold",children:r?o.map(e=>e.first_name||e.full_name).join(", "):i.full_name||i.email}),Object(h.jsx)(u.bb,{color:"gray",size:"sm",children:r||i.username?i.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?Object(h.jsx)(u.x,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.f,{paddingX:1,children:Object(h.jsx)(u.cb,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),Object(h.jsx)(u.f,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:Object(h.jsx)(u.g,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function m(e){const t=Object(d.c)(),n=Object(c.a)();return Object(h.jsx)(b,{...e,viewerId:n.isAuth?n.id:"",i18n:t})}var f=n("fZbY");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),g(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),g(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),g(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),g(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return Object(h.jsxs)(u.f,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[Object(h.jsxs)(u.f,{display:"flex",alignItems:"center",paddingY:4,children:[Object(h.jsx)(u.f,{flex:"grow",children:Object(h.jsx)(u.bb,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?Object(h.jsx)(u.x,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),Object(h.jsxs)(u.f,{display:"flex",direction:"column",children:[Object(h.jsx)(u.f,{paddingY:1,marginBottom:4,children:Object(h.jsx)(u.cb,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),Object(h.jsx)(u.cb,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),Object(h.jsx)(u.f,{paddingY:4,display:"flex",justifyContent:"center",children:Object(h.jsx)(u.g,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(f.a)(this.state.emailValue)})})]})]})}}function y(e){const t=Object(d.c)();return Object(h.jsx)(j,{...e,i18n:t})}var O=n("vvax");function x({email:e,isValid:t,onClick:n,showSendEmailText:i}){const r=Object(d.c)(),o=t?r._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):r._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=i?Object(O.b)(r._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(O.b)(r._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return Object(h.jsx)(u.f,{marginBottom:4,children:Object(h.jsx)(u.ab,{onTap:()=>{t&&n()},children:Object(h.jsxs)(u.f,{display:"flex",children:[Object(h.jsx)(u.f,{height:48,width:48,children:Object(h.jsx)(a.a,{name:e})}),Object(h.jsxs)(u.f,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[Object(h.jsx)(u.bb,{weight:"bold",size:"lg",children:s}),Object(h.jsx)(u.bb,{size:"sm",color:"gray",children:o})]})]})})})}var v=n("iS6d"),_=n("w1Xl"),w=n("8vQR"),S=n("4cpq");function C(e){const t=Object(d.c)(),{shouldShowViewChat:n,isSent:i,onClickSend:r,onViewConversation:o}=e;return Object(h.jsx)(u.f,{display:"flex",children:n?Object(h.jsx)(u.ab,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),o()},children:Object(h.jsxs)(u.f,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[Object(h.jsx)(u.bb,{color:"darkGray",size:"md",truncate:!0,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),Object(h.jsx)(u.f,{marginStart:1,children:Object(h.jsx)(u.w,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):Object(h.jsx)(S.a,{id:i?"sharesheet-viewchat-link":"sharesheet-send-button",children:Object(h.jsx)(u.g,{color:i?"gray":"red",disabled:i,onClick:r,size:"lg",text:i?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var T=n("U4JR");function I(e){var t,n,r;const{item:o,textFieldValue:l,onSendMessage:d,onShowSendDraft:p,onViewConversation:b,sentHistory:m}=e,[f,g]=Object(i.useState)(!1),[j,y]=Object(i.useState)(!1),[O,x]=Object(i.useState)(!1),S=o.id||"string"==typeof o.email&&o.email||"",I=S in m,E=""!==l,k=null!==(t=m[S])&&void 0!==t?t:"",P=Object(c.a)().id||"",R="conversation_share_suggestion"===o.type,L=R?(o.users||[]).filter(e=>e.id!==P):[],A=o.debug_reason&&o.debug_reason.readable_reason;let D="";"string"!=typeof o.full_name||o.full_name.match(/^\s*$/)?"string"!=typeof o.email||o.email.match(/^\s*$/)||(D=o.email):D=o.full_name;return f?Object(h.jsx)(u.f,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:Object(h.jsx)(_.a,{identifier:null!==(n=o.id)&&void 0!==n?n:o.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:L.length>1})}):Object(h.jsxs)(u.f,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[Object(h.jsx)(u.ab,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),p(o)},children:Object(h.jsx)(u.j,{onMouseEnter:()=>{y(!(E||O&&I))},onMouseLeave:()=>y(!1),children:Object(h.jsxs)(u.f,{alignItems:"center",display:"flex",children:[Object(h.jsx)(u.f,{height:48,width:48,children:R?Object(h.jsx)(s.a,{collaborators:L.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):Object(h.jsx)(a.a,{accessibilityLabel:"",name:D,src:o.image_medium_url})}),Object(h.jsxs)(u.f,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%",children:[Object(h.jsxs)(u.f,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[Object(h.jsx)(u.f,{marginBottom:1,children:Object(h.jsx)(u.bb,{color:"darkGray",truncate:!0,weight:"bold",children:R?L.map(e=>e.first_name||e.full_name).join(", "):D})}),E&&A?Object(h.jsx)(u.bb,{color:"gray",size:"sm",children:A}):"string"==typeof o.username&&Object(h.jsx)(u.bb,{color:"gray",size:"sm",children:o.username})]}),Object(h.jsxs)(u.f,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:[j&&Object(h.jsx)(u.f,{display:"flex",marginEnd:2,children:Object(h.jsx)(w.a,{identifier:null!==(r=o.id)&&void 0!==r?r:o.email,onHide:()=>g(!0),component:13029,element:11917})}),Object(h.jsx)(C,{shouldShowViewChat:I,isSent:O,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=l?1044:1039;Object(T.b)(101,{component:13029,element:i,entered_query:l,result_index:n+1,rs:null===(t=o.debug_reason)||void 0===t?void 0:t.reason})})(),x(!0),d(o),y(!1)},onViewConversation:()=>b(k)})]})]})]})})}),Object(h.jsx)(v.a.Consumer,{children:e=>{var t;return e?Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:Object(h.jsx)(u.v,{color:"blue",size:"sm",children:null===(t=o.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var E=n("ANjH"),k=n("ZdHo"),P=n("fhk9"),R=n("w70y");var L=Object(E.compose)(Object(R.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(R.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const t=Object(d.c)(),{onChange:n,onSendMessage:o,onShowSendDraft:a,onShowImportContacts:s,sentHistory:c,value:l,shareSuggestionsResource:{isLoaded:p},shareSuggestionsTypeaheadResource:{isLoaded:b},paddingX:m}=e,g=Object(r.useSelector)(e=>e.social.shareSuggestions[l]||[]);Object(i.useEffect)(()=>{if(!l&&p){const e=g.length>0?7511:7512;Object(T.b)(e,{component:56,view:70,viewParameter:256})}},[p]);const j=Object(r.useDispatch)(),y=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),(e=>{j(Object(k.e)(e))})(t),j(P.a)},O=g.map((e,t)=>{const n=`${t}-${l?"search":"suggestion"}`,i={item:e,idx:t,onSendMessage:o,onShowSendDraft:a,onViewConversation:y,sentHistory:c,textFieldValue:l};return Object(h.jsx)(I,{...i},n)}),v=0===g.length&&(""===l&&!p||""!==l&&!b);return Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.f,{display:"flex",paddingX:m,position:"relative",children:Object(h.jsx)(u.f,{"data-test-id":"sharesheet-search-user",width:"100%",children:Object(h.jsx)(u.Q,{accessibilityLabel:t._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:n,placeholder:t._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:l})})}),Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2,children:Object(h.jsxs)(u.f,{paddingX:m,children:[Object(h.jsx)(u.f,{paddingY:v?2:0,children:Object(h.jsx)(u.U,{accessibilityLabel:t._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:v})}),Object(h.jsxs)(u.f,{children:[O,l&&Object(h.jsxs)(u.f,{children:[Object(h.jsx)(u.j,{children:Object(h.jsx)(x,{email:l,isSend:!0,isValid:Object(f.a)(l),onClick:()=>a({email:l,full_name:l}),showSendEmailText:!1})}),!v&&Object(h.jsx)(u.f,{width:"100%",children:Object(h.jsx)(u.j,{children:Object(h.jsx)(u.ab,{onTap:s,children:Object(h.jsxs)(u.f,{alignItems:"center",direction:"row",display:"flex",children:[Object(h.jsx)(u.f,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:Object(h.jsx)(u.w,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),Object(h.jsx)(u.f,{paddingX:3,children:Object(h.jsx)(u.bb,{weight:"bold",children:t._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})})),A=n("d7ng"),D=n("ZtJp"),B=n("WM6B");var N=({text:e})=>Object(h.jsx)(u.bb,{align:"center",size:"sm",children:Object(h.jsx)(B.a,{maxWidthPx:128,maxHeightPx:50,children:e})});var M=({iconSize:e,marginEnd:t,children:n})=>Object(h.jsx)(u.f,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n});const F=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var U=({onClick:e,iconColor:t,iconSize:n,backgroundColor:r,invitePath:o,marginEnd:a})=>{const s=Object(d.c)(),[c,l]=Object(i.useState)(!1),p=Object(i.useRef)(null);return Object(i.useEffect)(()=>{F().then(({default:e})=>{e.isSupported()&&(e=>{if(!p.current||!F)return;new e(p.current,{text:()=>o}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[o]),Object(h.jsx)(M,{iconSize:n,marginEnd:a||!1,children:Object(h.jsxs)(u.f,{ref:p,children:[Object(h.jsx)(u.ab,{onTap:()=>{e(),l(!0),setTimeout(()=>{l(!1)},3e3)},children:Object(h.jsx)(u.f,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:Object(h.jsx)(D.a,{backgroundColor:r,iconColor:t,size:n})})}),Object(h.jsx)(N,{text:c?s._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):s._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})})},z=n("SNfw"),H=n("K316"),q=n("TvzZ");function G({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const r=t||(i?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return Object(h.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[Object(h.jsx)("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),Object(h.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:r,children:[Object(h.jsx)("circle",{cx:"10",cy:"10",r:"6"}),Object(h.jsx)("circle",{cx:"17",cy:"3",r:"2"}),Object(h.jsx)("circle",{cx:"17",cy:"17",r:"2"}),Object(h.jsx)("circle",{cx:"19",cy:"10",r:"1"}),Object(h.jsx)("circle",{cx:"10",cy:"19",r:"1"}),Object(h.jsx)("circle",{cx:"1",cy:"10",r:"1"}),Object(h.jsx)("circle",{cx:"10",cy:"1",r:"1"}),Object(h.jsx)("circle",{cx:"3",cy:"17",r:"2"}),Object(h.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}function W({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:r}){const o=Object(d.c)(),a=Object(c.a)();return t&&[l.a.BOARD,l.a.PINNER,l.a.USER].includes(e.type)&&a.isAuth&&(e.id===a.id||a.isEmployee)?Object(h.jsxs)(M,{iconSize:i,marginEnd:!0,children:[Object(h.jsx)(u.ab,{fullWidth:!1,onTap:t,children:Object(h.jsx)(G,{backgroundColor:r,iconColor:n,size:i})}),Object(h.jsx)(N,{text:o._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var V=n("mBfy"),K=n("udob");const Y="#EFEFEF",X="#333333";function $({size:e=48,grayscale:t=!1}){const n=t?X:"#FFFFFF",i=t?Y:"#1877f2";return Object(h.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[Object(h.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),Object(h.jsxs)("g",{id:"surface1",children:[Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),Object(h.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function Q({size:e=48,grayscale:t=!1}){const n=t?X:"#FFFFFF",i=t?Y:"#0DC2FF";return Object(h.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsxs)("g",{id:"surface1",children:[Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(h.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function Z({size:e=48,grayscale:t=!1}){const n=t?X:"#FFFFFF",i=t?Y:"#25d366";return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:Object(h.jsxs)("g",{id:"surface1",children:[Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(h.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function J({size:e=48,grayscale:t=!1}){const n=t?X:"#fff",i=t?Y:"#00b900";return Object(h.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),Object(h.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[Object(h.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),Object(h.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}var ee=n("nGHF");function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=48,ie="#111111",re="#EFEFEF",oe={backgroundColor:"#ffffff",border:"none",padding:0},ae=new Set(["JP","TW","TH"]),se=e=>{Object(q.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},H.a)};class ce extends i.Component{constructor(...e){super(...e),te(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),te(this,"mounted",!1),te(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(K.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),te(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||K.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),te(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===l.a.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case l.a.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case l.a.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case l.a.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);K.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(A.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!V.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e&&(this.openLineDialog(),t=952),this.props.onExternalSend&&this.props.onExternalSend(),Object(T.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){se(()=>{K.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){se(()=>{K.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(K.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){K.a.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){K.a.shareLineInvite(this.getShareOptions(8))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n}=this.props;return Object(h.jsxs)(i.Fragment,{children:[Object(h.jsxs)(u.f,{display:"flex",justifyContent:"around",children:[n&&Object(h.jsxs)(M,{iconSize:ne,marginEnd:!0,children:[Object(h.jsx)("button",{"aria-label":this.props.i18n._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:oe,children:Object(h.jsx)(J,{size:48})}),Object(h.jsx)(N,{text:this.props.i18n._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),Object(h.jsxs)(M,{iconSize:ne,marginEnd:!0,children:[Object(h.jsx)("button",{"aria-label":this.props.i18n._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:oe,tabIndex:"-1",children:Object(h.jsx)("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank",children:Object(h.jsx)(Z,{size:ne})})}),Object(h.jsx)(N,{text:this.props.i18n._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),Object(h.jsxs)(M,{iconSize:ne,marginEnd:!0,children:[Object(h.jsx)("button",{"aria-label":this.props.i18n._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:oe,children:Object(h.jsx)($,{size:ne})}),Object(h.jsx)(N,{text:this.props.i18n._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),Object(h.jsxs)(M,{iconSize:ne,marginEnd:!n,children:[Object(h.jsx)("button",{"aria-label":this.props.i18n._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:oe,children:Object(h.jsx)(Q,{size:ne})}),Object(h.jsx)(N,{text:this.props.i18n._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&Object(h.jsx)(M,{iconSize:ne,marginEnd:!1,children:this.renderEmail()})]}),Object(h.jsxs)(u.f,{display:"flex",paddingY:4,children:[Object(h.jsx)(W,{backgroundColor:re,iconColor:ie,iconSize:ne,onCreatePincodeClick:t,sharedObject:e}),Object(h.jsx)(U,{backgroundColor:re,iconColor:ie,iconSize:ne,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink"),marginEnd:n},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return Object(h.jsxs)(M,{iconSize:ne,marginEnd:!0,children:[Object(h.jsx)(u.f,{display:"inlineBlock",children:Object(h.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:oe,children:Object(h.jsx)(z.a,{backgroundColor:re,iconColor:ie,size:ne})})}),Object(h.jsx)(N,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return Object(h.jsxs)(u.f,{paddingX:t,children:[Object(h.jsx)(u.f,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center",children:Object(h.jsx)(u.bb,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),Object(h.jsx)(u.f,{paddingX:2,children:this.renderShareOptions()})]})}}function le(e){const t=Object(d.c)(),n=Object(c.a)(),i=n.isAuth&&ae.has(n.country);return Object(h.jsx)(ce,{...e,toastManagerContext:Object(ee.b)(),viewer:Object(c.a)(),showLineShare:i,i18n:t})}var de=n("7w6Q"),ue=n("eOdZ"),he=n("M1Uz");function pe(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var be=n("ENhS");const me=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var fe=Object(r.connect)(null,e=>({createConversation:t=>e(Object(k.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(null),[s,d]=Object(i.useState)({}),[p,b]=Object(i.useState)(""),[f]=Object(i.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:g}=Object(ee.b)(),{surface:j}=Object(be.b)(),O=Object(c.a)(),x=(t,i)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,r=i.id;de.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(T.b)(180,{element:276,objectId:r,conversation_id:t,pin_id:n})})(t,i)},v=e=>{de.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&g(({onHide:e})=>Object(h.jsx)(he.a,{color:"red",duration:5e3,onHide:e,text:t}))},_=async(t,n,i)=>{const{createConversation:r,sharedObject:o,sendType:a}=e,c=o.id,l={emails:n,user_ids:t,text:i,source:pe(j)};l[a]=c;const u=ue.a.create("ConversationsResource",l);try{const e=await u.callCreate(),i=e&&e.resource_response.data;r(i),x(i.id,"pin"===a?c:null),t.length>0?d({...s,...me(t,i.id)}):d({...s,...me(n,i.id)})}catch(h){v(h)}},w=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sendMessage:r,sharedObject:o,sendType:a}=e;let c;switch(a){case"pin":c="pinId";break;case"board":c="boardId";break;case"did_it":c="didItId";break;case"user":case"pinner":c="userId"}const l=c?Object(k.g)(t,{text:n,[c]:o.id,source:pe(j)},void 0,O):void 0;l&&(r(l),l.getPromise().then(()=>{x(t,"pin"===a?o.id:null),d({...s,[t]:t})}).catch(e=>{v(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?_([],[t.email],n):_([t.id],[],n),Object(T.b)(101,{component:56,element:276})},S=(t,n)=>{e.sendType!==l.a.SEARCH||n?w(t,n):ue.a.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e)).then(e=>{const n=e.message;w(t,n)})},C=()=>{n(!1),a(null)},{onCreatePincodeClick:I,onShowImport:E,sendType:P,sharedObject:R,isFlyout:A,onHide:D,onExternalSend:B}=e,N="email"===r?Object(h.jsx)(y,{initialTextValue:f,isFlyout:A,objectId:R.id,objectType:P,onCancelDraft:C,onHide:D,onSendMessage:S}):Object(h.jsx)(m,{initialTextValue:f,isFlyout:A,objectId:R.id,objectType:P,onCancelDraft:C,onHide:D,onSendMessage:S,recipient:"object"==typeof r?r:void 0});return t?N:Object(h.jsxs)(u.f,{color:"white",children:[Object(h.jsx)(le,{onCreatePincodeClick:I,onEmailIconClick:()=>{n(!0),a("email")},onExternalSend:B,onHide:D,paddingX:4,sharedObject:R}),Object(h.jsx)(u.f,{children:Object(h.jsx)(L,{isFlyout:A,onChange:({value:e})=>{b(e),Object(T.b)(4113,{component:13029,element:1043})},onHide:D,onSendMessage:S,onShowImportContacts:E,onShowSendDraft:e=>{n(!0),a(e),b("")},paddingX:4,sentHistory:s,value:p})})]})})),ge=n("TSYQ"),je=n.n(ge),ye=n("+zF7");const Oe=["facebook","google"];function xe(e,t){return"facebook"===e?t._("Facebook"):"twitter"===e?t._("Twitter"):"google"===e?t._("Google"):t._("Other")}function ve(e){const t=Object(d.c)(),n=je()("sendShare",e.network),i=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return Object(h.jsx)("a",{onClick:e.onClick,role:"button",children:Object(h.jsxs)("div",{className:n,children:[Object(h.jsx)("em",{className:"icon"}),Object(h.jsxs)("div",{className:"networkInfo",children:[Object(h.jsx)("h4",{className:"title",children:xe(e.network,t)}),i?Object(h.jsx)("div",{className:"subtitle",children:i}):null]})]})})}function _e({onBack:e}){const t=Object(d.c)(),n=Object(c.a)(),i=n.isAuth?n.email:null,r=Oe.filter(e=>!n.isAuth||!1===n.socialNetwork[e].connected);return Object(h.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("div",{className:"backNav",children:Object(h.jsxs)("a",{onClick:e,role:"button",children:[Object(h.jsx)("span",{className:"icon"}),Object(h.jsx)("span",{className:"label",children:t._("Back")})]})}),Object(h.jsx)("div",{className:"prompt",children:t._("Upload contacts from...")})]}),Object(h.jsx)("ul",{className:"socialConnectOptions",children:r.map(e=>Object(h.jsx)("li",{style:{borderLeft:"none"},children:Object(h.jsx)(ve,{email:i,network:e,onClick:()=>function(e){ye.a.instance().handleConnect(e,!0,{})}(e)})},e))})]})}function we({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:r,onHide:o,sendType:a,sharedObject:s,viewType:c,viewParameter:l}){const[d,p]=Object(i.useState)(!1),[b,m]=Object(i.useState)(!1);Object(i.useEffect)(()=>(Object(T.b)(7120,{objectId:s.id,view:c,viewParameter:l}),()=>{Object(T.b)(7121,{objectId:s.id,view:c,viewParameter:l});const e=b?7493:7492;Object(T.b)(e,{view:c,viewParameter:l})}),[]);const f=()=>{p(!0)},g=()=>{p(!1)},j=()=>{m(!0)};return d?(()=>{const e=t?"Module SendObjectBase sendShare":"";return Object(h.jsx)("div",{className:e,children:Object(h.jsx)(_e,{onBack:g})})})():Object(h.jsx)(u.f,{overflow:"hidden",children:Object(h.jsx)(fe,{isFlyout:t,onCreatePincodeClick:n,onHide:o,onShowImport:f,onMessageSent:j,onExternalSend:r,sendType:a,sharedObject:s})})}},gqRH:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("zwad"),o=n("fJfT"),a=n("EC67");function s(e){const{externalData:t,href:n,onHistoryChange:s,target:c}=e,[l,d]=Object(i.useState)(null),[u,h]=Object(i.useState)(!1),p=Object(a.h)(),b=Object(a.i)(),m=r.a.isOffsiteUrl(n);return Object(i.useEffect)(()=>(h(!0),()=>{h(!1)}),[]),Object(i.useEffect)(()=>{m&&null!=t&&t.pin&&null===l&&Object(o.f)({location:b,pin:t.pin,surface:t.surface})&&Object(o.a)({isMounted:u,pin:t.pin,location:b,spamCheckCallback:e=>d(e),href:n})},[t,n,m,u,b,l]),({event:e})=>{var i;Object(o.b)({isExternalLink:m,event:e})||(e.nativeEvent.preventDefault(),n&&(m?Object(o.c)({auxData:null==t?void 0:t.auxData,href:n,pinId:null==t||null===(i=t.pin)||void 0===i?void 0:i.id,pin:null==t?void 0:t.pin,location:b,spamCheck:l}):Object(o.d)({event:e,href:n,history:p,onHistoryChange:s,target:"blank"===c?"blank":null})))}}const c=({children:e,...t})=>e({handleClick:s(t)})},"gz6+":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("pody"),r=n("+lzj");const o=e=>({...Object(i.a)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=Object(r.e)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),c=(e,t)=>Object.keys(e).reduce((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n,Object.freeze({}))},"h9/w":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),r=n("M1Uz"),o=n("yweb"),a=n("n6mq"),s=n("nKUr");function c(e){const t=Object(o.c)(),{onHide:n}=e,i=Object(s.jsx)(a.bb,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(s.jsx)(r.a,{onHide:n,text:i})}var l=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var h=function({anchor:e,onDismiss:t,pinId:n,signals:r}){const h=Object(o.c)(),[p,b]=Object(i.useState)(0),m=Object(d.a)(),{showOneToast:f}=Object(u.b)();if(!m.isEmployee)return null;const g=r.map(({signal_message:e})=>({href:"#",text:null!=e?e:""})),{background_color:j,icon_url:y,signal_id:O,signal_message:x}=r[p];return Object(s.jsx)(a.A,{children:Object(s.jsx)(a.L,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(s.jsxs)(a.f,{padding:4,width:"100%",children:[r.length>1&&Object(s.jsx)(a.f,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(s.jsx)(a.Y,{activeTabIndex:p,onChange:({event:e,activeTabIndex:t,disableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),b(e)})({activeTabIndex:t,event:e})},tabs:g})}),Object(s.jsx)(a.f,{display:"flex",alignItems:"center",children:Object(s.jsx)(a.v,{size:"sm",children:h._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(s.jsx)(a.f,{paddingY:3,children:Object(s.jsxs)(a.u,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(s.jsx)(a.f,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?Object(s.jsx)(a.y,{alt:h._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:j}},height:40,width:40})}),Object(s.jsx)(a.bb,{size:"md",children:x})]})}),Object(s.jsx)(a.f,{marginBottom:3,children:Object(s.jsx)(a.bb,{size:"md",children:h._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(s.jsxs)(a.u,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(s.jsx)(a.g,{fullWidth:!0,color:"red",size:"md",text:h._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:O,user:m.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),f(({onHide:e})=>Object(s.jsx)(c,{onHide:e}))}}),Object(s.jsx)(a.g,{fullWidth:!0,color:"gray",size:"md",text:h._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},p=n("7pfs"),b=n("1unC"),m=n("clxp"),f=n("rYoy");function g({signals:e,pinId:t}){const{background_color:n,icon_url:r,signal_message:o}=e[0],[c,l]=Object(i.useState)(!1),d=Object(i.useRef)();return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(m.a,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:Object(s.jsx)(f.a,{children:Object(s.jsx)(a.f,{"data-test-id":"debug-signals-feedback-button",children:Object(s.jsx)(b.b,{children:Object(s.jsx)(p.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>Object(s.jsx)(a.ab,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:Object(s.jsxs)(a.f,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(s.jsx)(a.f,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.f,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(s.jsx)(a.y,{alt:"",color:n,src:null!=r?r:"",naturalHeight:1,naturalWidth:1})})}),Object(s.jsx)(a.bb,{color:"white",size:"md",weight:"bold",children:o})]})})})})})})}),c&&d&&d.current&&Object(s.jsx)(h,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function j({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:r,deb_shopping:o,deb_trust_and_safety:a}=e;return n?Object(s.jsx)(g,{pinId:t,signals:n}):i?Object(s.jsx)(g,{pinId:t,signals:i}):r?Object(s.jsx)(g,{pinId:t,signals:r}):o?Object(s.jsx)(g,{pinId:t,signals:o}):a?Object(s.jsx)(g,{pinId:t,signals:a}):null}},hFfv:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),r=n("nKUr");const o=e=>{const{size:t,name:n,textLayout:o}=e,a=`calc(${Math.sin((s=45,s*(Math.PI/180)))} * (${t}) / 2)`;var s;const c=Object(r.jsx)(i.b,{name:n?[...n][0].toUpperCase():""});switch(o){case"bottomLeft":return Object(r.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:a,paddingRight:a}},children:c});case"topLeft":return Object(r.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:a,paddingRight:a}},children:c});default:return Object(r.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:c})}};function a(e){const{collaborators:t,outline:n=!1,size:a="fit"}=e,{colorGray0:s,colorGray100:c}=Object(i.jb)(),l="fit"===a?"100%":32,d="fit"===a?"":32,u=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,l).map((e,n)=>[e,t[n]]);return Object(r.jsxs)(i.f,{color:"white",overflow:"hidden",rounding:"circle",width:l,height:d,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:"0 0 0 2px "+s}:{},willChange:"transform"}},children:[Object(r.jsx)(i.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),u.map(([e,t={name:"",src:void 0}],n)=>{const{width:a,height:s,top:l,left:d,textLayout:u}=e,{name:h,src:p}=t;return Object(r.jsxs)(i.f,{position:"absolute",width:a,height:s,dangerouslySetInlineStyle:{__style:{top:l,left:d}},children:[null!=p?Object(r.jsx)(i.y,{alt:h,color:c,src:p,naturalWidth:1,naturalHeight:1,fit:"cover"}):Object(r.jsx)(o,{name:h,textLayout:u,size:s}),Object(r.jsx)(i.f,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)})]})}},hZxF:function(e,t,n){var i=n("q1tI");t.a=e=>{Object(i.useEffect)(e,[])}},hgQt:function(e,t,n){var i=n("Juji"),r=n("4sDh");e.exports=function(e,t){return null!=e&&r(e,t,i)}},hlDC:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("ExperimentContext")},"iIk/":function(e,t){e.exports="https://s.pinimg.com/webapp/baldShaved-4ad60e86.svg"},iMUD:function(e,t,n){n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S}));var i=n("o9su"),r=n("+lzj");var o=()=>Object(r.c)().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e[t+"_loadTime"]?e[t+"_dupe_loadTime"]?{...e,[t+"_dupe_loadTime"]:n,[t+"_dupe_renderTime"]:i}:e:{...e,[t+"_loadTime"]:n,[t+"_renderTime"]:i},Object.freeze({})),a=n("pody"),s=n("gz6+"),c=n("HMdf"),l=n("Og0o");var d=e=>{switch(e){case"pin_closeup":{const e=Object(l.b)();return(e=>{const t=Object(c.d)();return e.reduce((e,{name:n,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...Object(s.a)(`${n}${i?"_dupe1":""}_`,Object(a.a)(t))}),e),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}},u=n("vzKb"),h=n("FylZ"),p=n("mRg4"),b=n("LvPn"),m=n("LrH5"),f=n("SyXB"),g=n("B/lV"),j=n("fZG9"),y=n("3/Bf");const O=Object(m.a)("Vitals"),x={},v=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:r,pwtStaticContext:a})=>{const c=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=Object(u.a)({entryTypes:["resource"]},t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))})}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let l=!0,m={};Object(y.c)("TIMING."+r,{tags:{isAuth:a.isAuthenticated}});const v={stop:u=>{if(!l)return;l=!1,c.disconnect();const y={type:"stopwatch",name:r,navigationType:"initial_app_load"},O=Object(h.a)(),x=Object(i.a)(),v=c.get(),_={type:"COMPLETE",traceId:Object(h.a)(),startTime:0,endTime:u,spans:[{name:"network_resources",id:O,startTime:0,endTime:u,annotationMap:{},binaryAnnotationMap:{},parentId:null},...v.map(e=>Object(b.a)(Object(g.a)(e,[]),O)).filter(Boolean)],annotationMap:{...Object(s.a)("resource_",n?d(n):{}),...Object(s.a)("element_",o()),...Object(s.a)("mark_",t&&t.length?Object(s.d)(Object(f.d)(),t):{}),...Object(s.a)("browser_",x?Object(s.b)(x):{})},binaryAnnotationMap:Object(j.a)({annotateExperiments:e,metricId:y,pwtStaticContext:a,performanceResourceTimings:v,binaryAnnotations:m})};Object(p.a)({metricId:y,pwtStaticContext:a,result:_,isAuth:a.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{O(`adding binary annotation {${e}: ${String(t)}}`),m={...m,[e]:{value:t,type:n}}}};return x[r]=v,v},_=e=>x[e],w=e=>!!_(e),S=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const r=_(e);r&&r.addBinaryAnnotation(t,n,i)}},iS6d:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(!1)},"iYS+":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(o.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(o.jsxs)(r.f,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(o.jsx)(r.f,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(o.jsx)(r.w,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(o.jsx)(r.w,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(o.jsxs)(r.f,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(o.jsx)(r.bb,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(o.jsx)(r.f,{alignItems:"center",display:"flex",children:!c&&i&&Object(o.jsx)(r.f,{marginBottom:2,marginTop:1,children:Object(o.jsx)(r.bb,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(c,"defaultProps",{bold:!0})},idmN:function(e,t,n){var i=n("ZWtO"),r=n("FZoo"),o=n("4uTw");e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],d=i(e,l);n(d,l)&&r(c,o(l,e),d)}return c}},ihsa:function(e,t,n){n.d(t,"a",(function(){return o}));n("QLaP");var i=n("nKUr");class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,a=String(t||"")||n||"";return!!a?Object(i.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(r.factory(a))}}):null}},iilV:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s}));const i={zIndex:0},r={padding:"2px 0",fontSize:"18px",fontWeight:"bold",color:"#555555"},o={overflow:"hidden",textOverflow:"ellipsis",width:"100%"},a={border:"2px solid #fff",borderRadius:"50%",position:"absolute",bottom:50,left:8,width:40,height:40},s={fontSize:"14px",color:"#555555",lineHeight:"1.14"};t.c={display:"inline-block",float:"none",verticalAlign:"top"}},ioDk:function(e,t,n){n.d(t,"a",(function(){return s}));n("40R+");var i=n("n6mq"),r=n("nKUr");function o({buttonColor:e,buttonText:t,buttonTextColor:n}){return Object(r.jsx)(i.f,{dangerouslySetInlineStyle:{__style:{background:e}},rounding:6,minHeight:40,paddingX:3,paddingY:2,display:"flex",alignItems:"center",children:Object(r.jsx)(i.f,{dangerouslySetInlineStyle:{__style:{color:n,fontSize:"16px",fontWeight:"bold",textAlign:"center"}},children:t})})}var a=n("qxKp");function s({buttonText:e,key:t,onClick:n,style:{buttonColor:i,buttonTextColor:s,...c},url:l,external:d}){return l?Object(r.jsx)(a.a,{accessibilityLabel:e,rounding:6,url:l,onClick:n,external:d,children:Object(r.jsx)(o,{buttonColor:i,buttonText:e,buttonTextColor:s})},t):Object(r.jsx)("button",{className:"GestaltTouchableFocus LegoNagButtonStyles",style:{...null!=c?c:{}},onClick:n,children:Object(r.jsx)(o,{buttonColor:i,buttonText:e,buttonTextColor:s})})}},isp9:function(e,t,n){n.d(t,"f",(function(){return o})),n.d(t,"E",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"F",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"I",(function(){return p})),n.d(t,"K",(function(){return b})),n.d(t,"r",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return y})),n.d(t,"B",(function(){return O})),n.d(t,"ab",(function(){return x})),n.d(t,"G",(function(){return v})),n.d(t,"T",(function(){return _})),n.d(t,"v",(function(){return w})),n.d(t,"C",(function(){return S})),n.d(t,"q",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"p",(function(){return I})),n.d(t,"R",(function(){return E})),n.d(t,"J",(function(){return k})),n.d(t,"y",(function(){return P})),n.d(t,"cb",(function(){return R})),n.d(t,"bb",(function(){return L})),n.d(t,"z",(function(){return A})),n.d(t,"Z",(function(){return D})),n.d(t,"Y",(function(){return B})),n.d(t,"b",(function(){return N})),n.d(t,"u",(function(){return M})),n.d(t,"s",(function(){return F})),n.d(t,"P",(function(){return U})),n.d(t,"db",(function(){return z})),n.d(t,"M",(function(){return H})),n.d(t,"O",(function(){return q})),n.d(t,"U",(function(){return G})),n.d(t,"N",(function(){return W})),n.d(t,"X",(function(){return V})),n.d(t,"D",(function(){return K})),n.d(t,"Q",(function(){return Y})),n.d(t,"j",(function(){return X})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return Q})),n.d(t,"n",(function(){return Z})),n.d(t,"t",(function(){return J})),n.d(t,"H",(function(){return ee})),n.d(t,"V",(function(){return te})),n.d(t,"eb",(function(){return ne})),n.d(t,"L",(function(){return ie})),n.d(t,"S",(function(){return re})),n.d(t,"W",(function(){return oe})),n.d(t,"i",(function(){return ae})),n.d(t,"A",(function(){return se}));var i=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),r=n("EC67");const o=e=>i.test(e.pathname),a=(e,t)=>{const{pathname:n}=e;return o(e)&&n.match(t||"?")},s=e=>{const{pathname:t}=e;return!!Object(r.g)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:n}=e;return s(e)&&n.match(t||"?")},l=e=>!!Object(r.g)(e.pathname,{path:"/board/:id/edit",exact:!0}),d=e=>!!Object(r.g)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),u=e=>!!Object(r.g)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!Object(r.g)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),p=e=>!!Object(r.g)(e.pathname,{path:"/pin/:id/comments",exact:!0}),b=e=>!!Object(r.g)(e.pathname,{path:"/pin/:id/edit",exact:!0}),m=e=>!!Object(r.g)(e.pathname,{path:"/conversation/:id",exact:!0}),f=e=>e.pathname.startsWith("/business/"),g=e=>e.pathname.startsWith("/business/invite/"),j=e=>!!Object(r.g)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),y=e=>"/"===e.pathname,O=e=>e.pathname.startsWith("/login"),x=e=>"/today"===e.pathname,v=e=>e.pathname.startsWith("/password/reset")||!!Object(r.g)(e.pathname,{path:"/pw/:username",exact:!0}),_=(e,t)=>t.pathname.startsWith("/signup")||!e&&y(t),w=e=>e.pathname.startsWith("/email/subscription"),S=e=>e.pathname.startsWith("/notifications/"),C=e=>!!Object(r.g)(e.pathname,{path:"/pin/:id",exact:!0}),T=e=>C(e)&&void 0===e.state,I=e=>e.pathname.startsWith("/pin_redirect"),E=e=>e.pathname.startsWith("/search"),k=e=>e.pathname.startsWith("/pin-create-help"),P=e=>e.pathname.startsWith("/ideas"),R=e=>e.pathname.startsWith("/topics"),L=e=>"/today/"===e.pathname,A=e=>"#imgViewer"===e.hash,D=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),B=e=>e.pathname.startsWith("/today/popular/"),N=e=>x(e)||L(e)||D(e)||B(e),M=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),F=e=>e.pathname.startsWith("/pin/create/"),U=e=>!(!Object(r.g)(e.pathname,{path:"/:username/",exact:!0})||L(e)||D(e)||P(e)),z=e=>e.pathname.startsWith("/unauth-profile"),H=e=>e.pathname.startsWith("/pin/"),q=e=>e.pathname.startsWith("/places/recommender"),G=(e,t,n)=>{const i=e.pathname,{search:o}=e,a=new RegExp("invite_code"),s=!!Object(r.g)(i,{path:"/pin/:id",exact:!1})&&(i.indexOf("/sent/")>=0||i.indexOf("/feedback/")>=0),c=t&&!!Object(r.g)(i,{path:"/:username/:boardId",exact:!0})&&!i.match(/^\/(pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup)/)&&!i.match(/^\/.+\/(following|followers)/i)&&a.test(o),l=n&&!!Object(r.g)(i,{path:"/:username/",exact:!0})&&a.test(o);return!!s||!!c||!!l},W=e=>e.pathname.indexOf("/repin/x")>=0,V=e=>e.pathname.startsWith("/_/storyboard"),K=e=>e.pathname.startsWith("/oauth"),Y=e=>e.pathname.indexOf("/scheduled-pin/")>=0,X=e=>e.pathname.startsWith("/business/convert"),$=e=>e.pathname.startsWith("/business/create"),Q=e=>e.pathname.startsWith("/business/hub"),Z=e=>e.pathname.startsWith("/business/login"),J=e=>e.pathname.startsWith("/pin-editor"),ee=e=>e.pathname.startsWith("/pin-builder"),te=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),ne=e=>e.pathname.startsWith("/advertiser/quick-promote"),ie=e=>!!Object(r.g)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.indexOf("/sent/")>=0||e.pathname.indexOf("/feedback/")>=0),re=e=>e.pathname.startsWith("/settings"),oe=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),ae=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.indexOf("/dashboard/")>=0,se=()=>{var e,t;return/instagram/i.test(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},jXQH:function(e,t,n){var i=n("TO8r"),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},juJw:function(e,t,n){t.a=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},k0f5:function(e,t,n){n.r(t),n.d(t,"default",(function(){return N}));var i=n("q1tI"),r=n("yweb"),o=n("n6mq"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=5e3;class l extends i.Component{constructor(...e){super(...e),s(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1}),s(this,"processIFrameMessage",e=>{const{presentationDelay:t=c,onComplete:n,onView:i,surveyLink:r}=this.props,o=e.origin||e.originalEvent.origin;r.startsWith(o)&&("surveyFinished"===e.data?n():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.loadSurveyTimeout=window.setTimeout(()=>{i(),this.setState({surveyLoaded:!0})},t)))}),s(this,"handleShowSurvey",()=>{this.setState({surveyAccepted:!0})})}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))},15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout)}render(){const{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:n}=this.state;if(t)return null;const{acceptButtonText:i,bodyText:r,declineButtonText:s,onDismiss:c,subtitleText:l,surveyLink:d,titleText:u}=this.props,h=Object(a.jsx)("iframe",{style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},src:d,title:this.props.i18n._("Pinterest Survey","Accessible label for survey frame","Accessible label for survey frame")});return n?Object(a.jsx)("div",{style:{zIndex:1e3,position:"absolute"},children:Object(a.jsxs)(o.H,{accessibilityModalLabel:this.props.i18n._("Have a few minutes to take a survey?","User evaluation survey","User evaluation survey"),footer:!e&&Object(a.jsxs)(o.f,{display:"flex",justifyContent:"end",paddingX:1,children:[Object(a.jsx)("div",{style:{padding:"6px 8px"},children:Object(a.jsx)(o.g,{fullWidth:!0,text:s,onClick:c})}),Object(a.jsx)("div",{style:{padding:"6px 8px"},children:Object(a.jsx)(o.g,{fullWidth:!0,color:"red",text:i,onClick:this.handleShowSurvey})})]}),heading:e?"":u,onDismiss:c,role:"alertdialog",size:e?"lg":"md",children:[Object(a.jsx)("div",{children:h}),!e&&Object(a.jsxs)(o.f,{padding:3,children:[Object(a.jsx)(o.bb,{children:l}),Object(a.jsx)(o.bb,{children:r})]})]})}):h}}var d=function(e){const t=Object(r.c)();return Object(a.jsx)(l,{...e,i18n:t})},u=n("c4Fo"),h=n("TgLd"),p=n("qD10");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),b(this,"state",{surveyLoaded:!1}),b(this,"loadSurvey",()=>{this.setState({surveyLoaded:!0}),this.props.view()}),b(this,"handleDismiss",()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})}),b(this,"handleComplete",()=>{this.props.complete(),this.setState({surveyLoaded:!1})})}componentDidMount(){const{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;const{displayData:{buttons:e,detailed_text:t,title_text:n}}=this.props;return Object(a.jsx)(h.b,{heading:n,accessibilityModalLabel:this.props.i18n._("Would you mind taking a survey?","User eval survey","User eval survey"),onDismiss:this.handleDismiss,size:"sm",footer:Object(a.jsx)(o.f,{display:"flex",justifyContent:"end",children:e.map(e=>e.uri?Object(a.jsx)(o.f,{marginStart:1,children:Object(a.jsx)(p.a,{external:!0,to:e.uri,children:Object(a.jsx)(o.g,{fullWidth:!0,color:"red",text:e.text,onClick:this.handleComplete})})},e.text):Object(a.jsx)(o.f,{marginStart:1,children:Object(a.jsx)(o.g,{fullWidth:!0,text:e.text,onClick:this.handleDismiss})},e.text))}),children:Object(a.jsx)(o.f,{padding:3,children:Object(a.jsx)(o.bb,{children:t})})})}}function f(e){const t=Object(r.c)();return Object(a.jsx)(m,{...e,i18n:t})}function g({onComplete:e}){const t=Object(r.c)();return Object(a.jsxs)(o.f,{display:"flex",direction:"column",alignItems:"center",justifyContent:"center",children:[Object(a.jsx)(o.v,{children:t._("Thank you!")}),Object(a.jsx)(o.f,{marginTop:9,children:Object(a.jsx)(o.v,{children:Object(a.jsx)("svg",{width:"132px",height:"132px",viewBox:"0 0 132 132",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(a.jsx)("path",{d:"M132,66 C132,102.4485 102.4485,132 66,132 C29.5515,132 0,102.4485 0,66 C0,29.5515 29.5515,0 66,0 C102.4485,0 132,29.5515 132,66",id:"Fill-3",fill:"#FEDB86"}),Object(a.jsx)("path",{d:"M44,52.25 C44,56.8095 40.3095,60.5 35.75,60.5 C31.1905,60.5 27.5,56.8095 27.5,52.25 C27.5,47.6905 31.1905,44 35.75,44 C40.3095,44 44,47.6905 44,52.25",id:"Fill-5",fill:"#833821"}),Object(a.jsx)("path",{d:"M104.5,52.25 C104.5,56.8095 100.8095,60.5 96.25,60.5 C91.6905,60.5 88,56.8095 88,52.25 C88,47.6905 91.6905,44 96.25,44 C100.8095,44 104.5,47.6905 104.5,52.25",id:"Fill-7",fill:"#833821"}),Object(a.jsx)("path",{d:"M39.2843,85.02175 C41.0168,84.93925 42.6778,85.94025 43.3268,87.61225 C47.1328,97.42425 56.9008,103.68325 67.6423,103.19375 C78.3838,102.69875 87.5413,95.57075 90.4343,85.45625 C91.0503,83.31125 93.3328,82.05175 95.5163,82.64575 C97.7108,83.23975 98.9923,85.45625 98.3818,87.60125 C94.5263,101.08175 82.3218,110.57475 68.0108,111.23475 C53.6998,111.88925 40.6758,103.54575 35.6103,90.47225 C34.8073,88.39325 35.8798,86.06675 38.0138,85.28025 C38.4318,85.12625 38.8608,85.03825 39.2843,85.02175",id:"Fill-9",fill:"#833821"})]})})})}),Object(a.jsx)(o.f,{marginTop:5,minWidth:170,children:Object(a.jsx)(o.g,{fullWidth:!0,onClick:e,color:"red",text:t._("Back to feed","Button caption to close modal","Button caption to close modal"),size:"lg"})})]})}var j=n("T+9/"),y=n("UzcH");const O=Object(a.jsx)("svg",{width:"42px",height:"42px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M10.3500033,0 C8.51600326,0 7.02400326,1.492 7.02400326,3.326 C7.02700326,5.698 6.13700326,7.954 4.51800326,9.684 C2.91600326,11.243 1.99800326,13.417 2,15.653 C2,20.255 5.74500326,24 10.3480033,24 L16.0550033,24 C17.7630033,24 19.1520033,22.61 19.1520033,20.902 C19.1520033,20.814 19.1490033,20.727 19.1420033,20.64 C20.4720033,20.205 21.4350033,18.952 21.4350033,17.478 C21.4350033,16.804 21.2340033,16.177 20.8880033,15.652 C21.2340033,15.127 21.4350033,14.5 21.4350033,13.826 C21.4350033,13.152 21.2340033,12.524 20.8880033,12 C21.2340033,11.476 21.4350033,10.848 21.4350033,10.174 C21.4350033,8.34 19.9430033,6.848 18.1090033,6.848 L13.2750033,6.848 C13.5410033,5.686 13.6760033,4.507 13.6760033,3.326 C13.6760033,1.492 12.1840033,0 10.3500033,0 M10.3500033,1.5 C11.3580033,1.5 12.1760033,2.317 12.1760033,3.326 C12.1760033,5.066 11.8520033,6.757 11.2650033,8.348 L18.1090033,8.348 C19.1180033,8.348 19.9350033,9.166 19.9350033,10.174 C19.9350033,11.183 19.1180033,12 18.1090033,12 C19.1180033,12 19.9350033,12.817 19.9350033,13.826 C19.9350033,14.834 19.1180033,15.652 18.1090033,15.652 C19.1180033,15.652 19.9350033,16.47 19.9350033,17.478 C19.9350033,18.487 19.1180033,19.304 18.1090033,19.304 L16.0550033,19.304 C16.9370033,19.304 17.6520033,20.02 17.6520033,20.902 C17.6520033,21.785 16.9370033,22.5 16.0550033,22.5 L10.3480033,22.5 C6.56600326,22.5 3.50000227,19.434 3.50000227,15.652 C3.49900326,13.798 4.25200326,12.023 5.58700326,10.736 C7.47600326,8.732 8.52700326,6.081 8.52400326,3.326 C8.52400326,2.317 9.34100326,1.5 10.3500033,1.5",fill:"white"})})}),x=Object(a.jsx)("svg",{width:"42px",height:"42px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M20.4360009,10.174 C20.4360009,8.891 19.3920009,7.848 18.1100009,7.848 L11.9650009,7.848 C12.4370009,6.366 12.6760009,4.848 12.6760009,3.326 C12.6760009,2.044 11.6320009,1 10.3500009,1 C9.06800092,1 8.02500092,2.044 8.02500092,3.327 C8.02800092,5.965 7.03300092,8.474 5.24200092,10.377 C3.81600092,11.75 2.99900092,13.673 3,15.653 C3,19.704 6.29700092,23 10.3490009,23 L16.0550009,23 C17.2110009,23 18.1530009,22.059 18.1530009,20.903 C18.1530009,20.5 18.0390009,20.124 17.8420009,19.804 L18.1100009,19.804 C19.3920009,19.804 20.4360009,18.761 20.4360009,17.478 C20.4360009,16.739 20.0890009,16.079 19.5490009,15.653 C20.0890009,15.226 20.4360009,14.566 20.4360009,13.826 C20.4360009,13.087 20.0890009,12.426 19.5490009,12 C20.0890009,11.574 20.4360009,10.914 20.4360009,10.174",fill:"white"})})});function v({pin:e,onSelect:t,slotIndex:n}){const[r,s]=Object(i.useState)(!1),[c,l]=Object(i.useState)(!1),[d,u]=Object(i.useState)(!1),{image_medium_url:h,title:p,description:b}=e,m={backgroundImage:`url(${h})`,backgroundSize:"cover",transformCenter:"50% 50%",transform:`scale(${r?1:.01})`,transition:"all 150ms",zIndex:c?1:0,cursor:"pointer"},f={background:"rgba(0, 0, 0, 0.6)",transition:"all 150ms",opacity:c||d?1:0};return Object(a.jsx)(j.a,{loggingId:e.cacheable_id,impressionType:"Pin",impressionAuxFields:{imageURL:h},slotIndex:n,viewType:370,viewParameter:3321,children:Object(a.jsxs)(y.a,{onClick:()=>{t(),u(!d)},children:[Object(a.jsx)(o.f,{width:1,height:1,position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(o.y,{src:h,onLoad:()=>s(!0),naturalWidth:1,naturalHeight:1,alt:"Preload image"})}),Object(a.jsxs)(o.f,{display:"flex",direction:"column",height:"100%",width:"100%",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(a.jsx)(o.f,{dangerouslySetInlineStyle:{__style:m},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),rounding:2,overflow:"hidden",flex:"grow",position:"relative",children:(c||d)&&Object(a.jsx)(o.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:f},display:"flex",alignItems:"center",justifyContent:"center",children:d?x:O})}),Object(a.jsx)(o.f,{marginTop:2,flex:"none",height:30,overflow:"hidden",children:Object(a.jsx)(o.bb,{size:"sm",truncate:!0,children:p||b})})]})]})})}function _({pins:e,onSelect:t}){const n=e.map((e,n)=>Object(a.jsx)(o.f,{flex:"grow",marginStart:n%5!=0?2:0,position:"relative",marginBottom:2,children:Object(a.jsx)(v,{pin:e,onSelect:()=>t(e),slotIndex:n})},e.id));return Object(a.jsxs)(o.f,{display:"flex",alignItems:"center",position:"relative",color:"white",direction:"column",height:"100%",width:"100%",children:[Object(a.jsx)(o.f,{display:"flex",flex:"grow",width:"100%",children:n.slice(0,5)}),Object(a.jsx)(o.f,{display:"flex",flex:"grow",width:"100%",children:n.slice(5,10)})]})}function w({index:e,count:t}){return Object(a.jsx)(o.f,{width:"100%",height:18,display:"flex",justifyContent:"center",alignItems:"center",children:new Array(t).fill().map((t,n)=>{const i=n===e,r=i?18:10,s=i?3:4,c=i?"red":"gray";return Object(a.jsx)(o.f,{rounding:"circle",width:r,height:r,marginStart:s,marginEnd:s,color:c,flex:"none",dangerouslySetInlineStyle:{__style:{transition:"all 250ms"}}},n)})})}var S=n("U4JR");function C({pins:e,onComplete:t,updateAnswers:n,onDismiss:s}){const c=Object(r.c)(),[l,d]=Object(i.useState)(0),[u,h]=Object(i.useState)({}),p=e&&e.slice(10*l,10*(l+1)),b=e?Math.floor(e.length/10):0;return Object(a.jsxs)(o.f,{display:"flex",direction:"column",height:"100%",width:"100%",children:[Object(a.jsxs)(o.f,{display:"flex",justifyContent:"center",flex:"none",alignItems:"center",position:"relative",children:[Object(a.jsx)(o.v,{size:"md",children:c._("Select Pins that are relevant to you")}),Object(a.jsx)(o.f,{position:"absolute",right:!0,top:!0,bottom:!0,marginTop:-1,marginEnd:-2,children:Object(a.jsx)(o.x,{accessibilityLabel:"close",bgColor:"white",icon:"cancel",iconColor:"gray",onClick:()=>{Object(S.b)(101,{view:370,viewParameter:3321,component:13430,element:75,objectId:""+l}),s()}})})]}),Object(a.jsx)(o.f,{marginTop:8,flex:"grow",children:p&&Object(a.jsx)(_,{pins:p,onSelect:e=>{const t=Object.assign({},u);u[e.cacheable_id]?(delete t[e.cacheable_id],Object(S.b)(107,{view:370,viewParameter:3321,component:13430,objectId:`${l}_${e.cacheable_id}`})):(t[e.cacheable_id]=!0,Object(S.b)(106,{view:370,viewParameter:3321,component:13430,objectId:`${l}_${e.cacheable_id}`})),h(t)}})}),Object(a.jsxs)(o.f,{display:"flex",marginTop:5,position:"relative",flex:"none",children:[Object(a.jsx)(o.f,{position:"absolute",top:!0,right:!0,bottom:!0,left:!0,display:"flex",justifyContent:"center",alignItems:"center",children:b>0&&Object(a.jsx)(w,{index:l,count:b})}),Object(a.jsx)(o.f,{flex:"grow"}),Object(a.jsx)(o.f,{flex:"none",position:"relative",minWidth:100,children:Object(a.jsx)(o.g,{fullWidth:!0,onClick:()=>{p&&n(p,u);const e=Object.keys(u);Object(S.b)(101,{view:370,viewParameter:3321,component:13430,element:96,objectId:`${l}_${e.length}`}),h({}),l+1===b?t():d(l+1)},color:"red",text:c._("Next","Button caption to go to next survey question","Button caption to go to next survey question"),size:"lg"})})]})]})}var T=n("eRoX");function I({image:{url:e,height:t,width:n},idx:r}){const[s,c]=Object(i.useState)(!1),[l,d]=Object(i.useState)(!0);Object(i.useEffect)(()=>()=>{d(!1)},[]);const u={backgroundImage:`url(${e})`,backgroundSize:"cover",transformCenter:"50% 50%",transform:s?"scale(1)":"scale(0.01)",transition:"all 150ms"},h=122*t/n;return Object(a.jsxs)(o.f,{position:"relative",children:[Object(a.jsx)(o.f,{height:1,width:1,position:"absolute",bottom:!0,right:!0,children:Object(a.jsx)(o.y,{src:e,onLoad:()=>{setTimeout(()=>l&&c(!0),1e3*Math.random())},naturalWidth:1,naturalHeight:1,alt:""})}),Object(a.jsx)(o.f,{position:"relative",margin:1,dangerouslySetInlineStyle:{__style:u},height:h,width:122,rounding:2,overflow:"hidden"})]},r)}function E(){const[e,t]=Object(i.useState)(!1),[n,r]=Object(i.useState)(!1);e||(t(!0),setTimeout(()=>r(!0)));const s={transition:"transform 300000ms linear",transform:n?"translateY(-4600px)":"translateY(0px)"},c=T.a,l=Math.floor(c.length/3),d=[0,1].map(e=>c.slice(e*l).concat(c.slice(0,e*l)).map((e,t)=>Object(a.jsx)(I,{image:e,idx:t},t)));return Object(a.jsx)(o.f,{position:"relative",width:"100%",height:"100%",children:Object(a.jsx)(o.f,{dangerouslySetInlineStyle:{__style:s},display:"flex",children:d.map((e,t)=>Object(a.jsx)(o.f,{display:"flex",direction:"column",children:e},t))})})}function k({onComplete:e,onDismiss:t}){const n=Object(r.c)();return Object(a.jsx)(o.f,{width:"100%",height:"100%",children:Object(a.jsxs)(o.f,{display:"flex",height:532,children:[Object(a.jsxs)(o.f,{flex:"grow",height:"100%",marginStart:2,marginEnd:7,direction:"column",justifyContent:"center",display:"flex",children:[Object(a.jsx)(o.v,{children:n._("We'd love for you to rate a few Pins")}),Object(a.jsx)(o.f,{marginTop:5,marginBottom:3,children:Object(a.jsx)(o.bb,{overflow:"normal",children:Object(a.jsx)("span",{className:"deprecatedTextSizeXL",children:n._("Your responses won't impact what you see in your home feed. They'll just be used to make Pinterest better.")})})}),Object(a.jsxs)(o.f,{marginTop:12,display:"flex",children:[Object(a.jsx)(o.f,{flex:"none",minWidth:135,children:Object(a.jsx)(o.g,{fullWidth:!0,onClick:e,color:"red",text:n._("Let's do it!","Button caption to start survey","Button caption to start survey"),size:"lg"})}),Object(a.jsx)(o.f,{marginStart:4,flex:"none",minWidth:118,children:Object(a.jsx)(o.g,{fullWidth:!0,onClick:t,text:n._("Not now","Button caption to start survey","Button caption to start survey"),size:"lg"})}),Object(a.jsx)(o.f,{flex:"grow"})]})]}),Object(a.jsx)(o.f,{flex:"none",width:264,marginTop:-12,marginBottom:-12,marginEnd:-2,children:Object(a.jsx)(E,{})})]})})}var P=n("eOdZ"),R=n("LT60"),L=n("zwad");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D={overlay:{cursor:"zoom-out"}};class B extends i.PureComponent{constructor(...e){super(...e),A(this,"state",{isMounted:!1,pins:null,answers:{},page:"splash",templateData:null}),A(this,"loadSurvey",()=>{const{surveyLink:e}=this.props,{authId:t,sessionId:n,exp_name:i,exp_groups:r,survey_version:o,max_pin_posn:a}=L.a.getQueryStringParamsFromUrl(e),s=e.slice(0,e.indexOf("?")),c=s.slice(s.lastIndexOf("/")+1);this.requestData={auth_id:t,anket_session_id:n,survey_id:c,survey_version:o},P.a.create("AnketVisitsResource",this.requestData).callUpdate().then(({resource_response:{data:e={}}})=>{const{session_internal:t,session_external:n,anket_response:o}=e;Object.assign(this.requestData,{exp_name:i,exp_groups:r,session_internal:t,session_external:n,max_pin_posn:a,visit_id:o&&o.visitId})}).then(this.loadTemplateData)}),A(this,"loadTemplateData",()=>{P.a.create("AnketTemplateDataResource",this.requestData).callGet().then(({resource_response:{data:e={}}})=>{Object.assign(this.requestData,{template_context:e.template_data&&e.template_data.context});const{pins:t,template_data:n}=e;this.state.isMounted&&this.setState({pins:t,templateData:n})})}),A(this,"submitAnswers",()=>{const{answers:e,templateData:t}=this.state,n={};if(!t)return;let i=0;t.variables.pin_ids.forEach(t=>{n["relevance_"+t]=void 0===e[t]?0:e[t],1===e[t]&&(i+=1)}),Object(S.b)(7301,{view:370,viewParameter:3321,objectId:i.toString()}),P.a.create("AnketAnswersResource",{...this.requestData,answers:n}).callUpdate()}),A(this,"handleComplete",()=>{const{page:e}=this.state;"splash"===e?(this.setState({page:"question"}),Object(S.b)(13,{view:370,viewParameter:3321,component:13430})):"question"===e?(this.setState({page:"ending"}),Object(S.b)(13,{view:370,viewParameter:3321,component:13431})):"ending"===e&&this.handleDismiss()}),A(this,"updateAnswers",(e,t)=>{const{answers:n}=this.state,i=Object.assign({},n);0===Object.keys(t).length?e.forEach(e=>i[e.cacheable_id]=-1):e.forEach(e=>{i[e.cacheable_id]=t[e.cacheable_id]?3:0}),this.setState({answers:i})}),A(this,"handleDismiss",()=>{const{onDismiss:e,onComplete:t}=this.props,{page:n}=this.state;"splash"!==n&&this.submitAnswers(),"ending"===n?t():e()})}componentDidMount(){if(this.setState({isMounted:!0}),document.body){(document.body.style||{}).overflow="hidden"}this.loadSurvey(),this.props.onView(),Object(S.b)(13,{view:370,viewParameter:3321,component:13429})}componentWillUnmount(){this.setState({isMounted:!1}),document.body&&document.body.style&&(document.body.style.overflow="auto")}render(){const{pins:e,page:t}=this.state;let n;return"splash"===t?n=Object(a.jsx)(k,{onComplete:()=>{Object(S.b)(101,{view:370,viewParameter:3321,component:13429,element:96}),this.handleComplete()},onDismiss:()=>{Object(S.b)(101,{view:370,viewParameter:3321,component:13429,element:75}),this.handleDismiss()}}):"question"===t?n=Object(a.jsx)(C,{updateAnswers:this.updateAnswers,pins:e,onComplete:this.handleComplete,onDismiss:this.handleDismiss}):"ending"===t&&(n=Object(a.jsx)(g,{onComplete:()=>{Object(S.b)(101,{view:370,viewParameter:3321,component:13431,element:76}),this.handleComplete()}})),Object(a.jsx)(R.a,{children:Object(a.jsx)(o.A,{children:Object(a.jsxs)(o.f,{position:"fixed",top:!0,left:!0,bottom:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:h.a,dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.7)"}},children:[Object(a.jsx)(y.a,{onClick:()=>{Object(S.b)(123,{view:370,viewParameter:3321,component:9,objectId:t}),this.handleDismiss()},children:Object(a.jsx)(o.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:D.overlay}})}),Object(a.jsx)(o.f,{color:"white",width:800,height:640,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",rounding:2,children:Object(a.jsx)(o.f,{paddingX:10,paddingY:12,width:"100%",height:"100%",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",position:"relative",children:n})})]})})})}}function N(e){const{placementId:t,targeting:n}=e;return Object(a.jsx)(u.a,{placementId:t,type:5,disableAutoView:!0,targeting:n,children:({complete:e,dismiss:t,display_data:n,view:i})=>{const{anket:r,buttons:o,delay:s,detailed_text:c,subtitle_text:l,title_text:u}=n,[h,p]=o;return r&&p.uri&&p.uri.includes("survey_version=feed_vs_feed")?Object(a.jsx)(B,{surveyLink:p.uri,onComplete:e,onDismiss:t,onView:i}):r?Object(a.jsx)(d,{acceptButtonText:p.text,bodyText:c,declineButtonText:h.text,onComplete:e,onDismiss:t,onView:i,presentationDelay:s,subtitleText:l,surveyLink:p.uri,titleText:u}):Object(a.jsx)(f,{complete:e,dismiss:t,displayData:n,view:i})}})}},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),r=n("U4JR"),o=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(o.b)();return Object(i.useCallback)(()=>{Object(r.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},koHo:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var i=n("q1tI"),r=n("0kFJ"),o=n("PgW8"),a=n("yweb"),s=n("U4JR"),c=n("n6mq"),l=n("nKUr");const d=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function h({currentlyAppliedFiltersParamTerm:e,filterTones:t=u,onClickApplyFilters:n,query:h,showHeaderText:p=!0}){const b=Object(a.c)(),m=Object(i.useRef)(null),f=Object(i.useRef)(null),g=e?b._("Some ideas in this skin tone range","SkinToneFilters.copy.termSelected","Skin tone filters text"):b._("Pick a skin tone range","SkinToneFilters.copy.noTermSelected","Skin tone filters text");return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsxs)(c.f,{alignItems:p?"center":"start",display:"flex",direction:"column",children:[p&&Object(l.jsx)(c.f,{marginBottom:2,children:Object(l.jsx)(c.bb,{color:"darkGray",overflow:"normal",weight:"bold",children:g})}),Object(l.jsx)(c.f,{display:"flex",flex:"none",paddingX:1,ref:m,children:t.map(({term:t},i)=>Object(l.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:Object(l.jsx)(o.a,{colors:d[i],isSelected:e===t,onClick:()=>(t=>{var i;const r=e===t?"":t;Object(s.b)(101,{component:47,element:10418,view:2,entered_query:h,filter_type:"skin_tone",value:r}),null===(i=f.current)||void 0===i||i.complete(),n(r)})(t)})},t))})]}),m&&Object(l.jsx)(r.a,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(f.current=e)},placementId:29})]})}},l9OW:function(e,t,n){var i=n("SKAX"),r=n("MMmD");e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},lIqH:function(e,t,n){n.r(t),n.d(t,"RoleBasedAccessControlProvider",(function(){return O})),n.d(t,"RoleBasedAccessControlConsumer",(function(){return j})),n.d(t,"useRoleBasedAccessControlContext",(function(){return y}));var i=n("q1tI"),r=n("IWjZ"),o=n("w70y"),a=n("v/Q4"),s=n("QAzJ"),c=n("NdXn");const l=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[Object(c.a)(n)]=e[n]:t[Object(c.a)(n)]=l(e[n]));return t};var d=(e,t)=>{const n=[];for(const o in e)o!==t&&n.push({id:o,...l(e[o])});const i=n.sort(({user:{businessName:e}},{user:{businesName:t}})=>e.localeCompare(t)),r=new Map;for(const o of i)r.set(o.id,o);return r},u=n("vtuW");const h={profiles:new Map,isPublicView:!1,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"TOGGLE_VIEW_AS_PUBLIC":return{...e,isPublicView:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var b=e=>{const[t,n]=Object(i.useReducer)(p,h,e=>{const t=Object(u.a)("orbacActiveProfile",e.activeProfile),n=Object(u.a)("orbacVisibilty",e.orbacVisibility);return{...e,activeProfile:t,orbacVisibility:n}}),r=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:r,disableProfileChanger:o,headerVisible:a,isPublicView:s}=n;return{changeProfile:Object(i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]),toggleORBACVisibility:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!r})},[t,e,r]),toggleDisableProfileChanger:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!o})},[t,e,o]),toggleHeaderVisibility:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!a})},[t,e,a]),toggleViewAsPublic:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_VIEW_AS_PUBLIC",payload:null!=n?n:!s})},[t,e,s])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:a}=t;Object(i.useEffect)(()=>{Object(u.c)("orbacVisibility",a)},[a]),Object(i.useEffect)(()=>{Object(u.c)("orbacActiveProfile",o)},[o]);return{state:t,actions:r,receiveProfiles:Object(i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:d(e,t)})},[n])}},m=n("1dBE"),f=n("nKUr");const{Provider:g,Consumer:j,useHook:y}=Object(m.b)("RoleBasedAccessControlContext"),O=({children:e})=>{const t=Object(s.b)("web_m10n_business_access_orbac_www"),n=Object(a.a)(),c=Boolean(n.isAuth&&n.isPartner&&t().anyEnabled),{state:l,actions:d,receiveProfiles:u}=b(c),{activeProfile:h,headerVisible:p,profiles:m}=l,j=Object(r.a)(m?Array.from(m.values()):[]),y=!(!n.isAuth||!m)&&j,O=n.isAuth?n.id:"",x=n.isAuth?n.username:"",{changeProfile:v,toggleORBACVisibility:_,toggleDisableProfileChanger:w,toggleHeaderVisibility:S,toggleViewAsPublic:C}=d;Object(i.useEffect)(()=>{c&&("string"!=typeof j?h||v(O):v(j))},[j,O,c,v,h]),Object(i.useEffect)(()=>{c&&(y&&!p&&S(!0),!y&&p&&S(!1))},[S,y,c,p,m]);const{data:T}=Object(o.a)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!c}),I=null==T?void 0:T.profiles;let E;n&&n.isAuth&&l.activeProfile===n.id?E={id:n.id,permissions:["OWNER"],user:{username:x,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:h&&l.profiles&&(E=l.profiles.get(h)),Object(i.useEffect)(()=>{I&&u(I,O)},[u,I,O]);const k=l.profiles?Array.from(l.profiles.values()):[];return Object(f.jsx)(g,{value:{profiles:k,headerVisible:l.headerVisible,activeProfile:E,isPublicView:l.isPublicView,changeProfile:v,toggleORBACVisibility:_,toggleDisableProfileChanger:w,toggleHeaderVisibility:S,toggleViewAsPublic:C},children:e})}},lNaY:function(e,t,n){n.d(t,"a",(function(){return a}));const i=["236x","474x","564x","736x"];function r(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function o(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function a(e,t,n,i=!0){const a=[{images:e}],s=t&&t.additional_images,c=(null!=s?s:[]).reduce(o,a);return{carousel_slots:i?r(c):c,index:n||0,id:t.id}}},lddM:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),r=n("/MKj"),o=n("JW66"),a=n("QO9Q"),s=n("v/Q4"),c=n("oN2T"),l=n("mLS1"),d=n("yweb"),u=n("0Xtd"),h=n("n6mq"),p=n("ZE2w"),b=n("nKUr");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),m(this,"state",{selectedCollaborators:[]}),m(this,"handleSubmit",e=>{const{advertiserId:t,dispatch:n,onBoardCreate:i,viewer:r,orbacActingAs:o}=this.props,a=Object(u.b)(r,o),s=Object(u.a)(r,o),{name:l,description:d,privacy:h,collab_board_email:p,collaborator_invites_enabled:b}=e,m={name:l,description:d,privacy:h,collab_board_email:p,collaborator_invites_enabled:b,...t?{advertiser_id:t}:{},...s?{orbac_subject_id:s}:Object.freeze({})};return n(Object(c.g)(m,void 0,a)).then(e=>{this.inviteSelectedColaborators(e.id),i(e)})}),m(this,"handleSelectedCollaboratorsChange",e=>{this.setState({selectedCollaborators:e})}),m(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:Object(u.b)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}inviteSelectedColaborators(e){const t=this.state.selectedCollaborators.filter(({type:e})=>"email"===e);t.length>=1&&Object(p.c)(e,t.map(({type:e})=>e));const n=this.state.selectedCollaborators.filter(({type:e})=>e.startsWith("user"));n.length>=1&&Object(p.d)(e,n.map(({id:e})=>e))}render(){const{advertiserId:e,isAdAccountOwner:t,onClose:n,privacy:i,useModalWithNoLayer:r}=this.props;return Object(b.jsx)(l.a,{board:{...this.emptyBoardData,privacy:t?i:o.a.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,gaCategory:"board_create",isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:n,onSubmit:this.handleSubmit,submitText:this.props.i18n._("Create"),useModalWithNoLayer:r,title:Object(b.jsx)(h.f,{paddingY:8,width:"100%",children:Object(b.jsx)(h.v,{align:"center",size:"md",children:this.props.i18n._("Create board","BoardCreate.BoardCreate","Modal heading")})})})}}function g(e){const t=Object(d.c)(),n=Object(s.a)(),i=Object(r.useSelector)(({advertiser:e})=>e?e.id:void 0),o=Object(a.a)(),c=Object(r.useSelector)(({advertiser:e})=>!e||n.isAuth&&e.owner_user_id===n.id);return Object(b.jsx)(f,{...e,advertiserId:i,dispatch:Object(r.useDispatch)(),isAdAccountOwner:c,viewer:n,i18n:t,orbacActingAs:o})}m(f,"defaultProps",{privacy:o.a.BoardPrivacy.PUBLIC})},"lm/5":function(e,t,n){var i=n("fmRc"),r=n("wF/u");e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var d=(l=n[a])[0],u=e[d],h=l[1];if(c&&l[2]){if(void 0===u&&!(d in e))return!1}else{var p=new i;if(o)var b=o(u,h,d,e,t,p);if(!(void 0===b?r(h,u,3,o,p):b))return!1}}return!0}},lnDX:function(e,t,n){n.d(t,"a",(function(){return V}));var i=n("q1tI"),r=n("o9su"),o=n("SyXB"),a=n("gz6+");var s=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...Object(a.a)("constraint_",e),...Object(a.a)("mark_",Object(o.d)()),...Object(a.a)("browser_",{...t?Object(a.b)(t):{},...Object(a.c)()})}),c=n("FylZ"),l=n("LvPn"),d=n("+lzj");var u=(e,t)=>{const{firstInputDelay:n}=Object(d.e)();return[...e.map(e=>Object(l.a)(e,t)).filter(Boolean),...n?[{name:"fid",id:Object(c.a)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]},h=n("HMdf"),p=n("B/lV"),b=n("fZG9");var m=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:o,imageTimings:a,metricId:c,pwtStaticContext:l,startTime:d,traceId:m,spans:f})=>{const g=Object(h.c)();let j;"initial_app_load"===c.navigationType&&(j=Object(r.a)());const y=a.map(({name:e})=>e),O=g.map(e=>Object(p.a)(e,y)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:d,endTime:o}));return{type:"COMPLETE",traceId:m,startTime:d,endTime:o,spans:u(O,m).concat(f),annotationMap:s({constraintMap:i,initialNavTiming:j,annotations:t}),binaryAnnotationMap:Object(b.b)({annotateExperiments:e,binaryAnnotations:n,entries:g,metricId:c,performanceResources:O,pwtEndTime:o,pwtStaticContext:l})}},f=n("3/Bf");let g=!1;var j=(e,t)=>e&&t?g?(Object(f.b)("duplicated_initial_app_load_surface_pwt"),Object(c.a)()):(g=!0,t):Object(c.a)(),y=n("n6mq"),O=n("bNC6"),x=n("nKUr");function v({children:e,heading:t}){return Object(x.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:Object(x.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:Object(x.jsx)(y.bb,{weight:"bold",align:"center",children:t})})})}),Object(x.jsx)("tbody",{children:e})]})}function _({name:e,children:t}){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)(y.bb,{weight:"bold",children:e})}),Object(x.jsx)("td",{children:"string"==typeof t?Object(x.jsx)(y.bb,{children:t}):t})]})}function w({result:e}){return"ABORT"===e.type?Object(x.jsx)(_,{name:"Abort Reason",children:e.reason}):Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)(_,{name:"PWT (ms)",children:Object(x.jsx)(y.bb,{align:"end",children:Math.round(e.endTime-e.startTime)})}),Object(x.jsx)(_,{name:"PinTrace",children:Object(x.jsx)(y.bb,{italic:!0,children:Object(x.jsx)(y.C,{href:"https://pintrace.pinadmin.com/zipkin/traces/"+e.traceId,target:"blank",inline:!0,onClick:({disableOnNavigation:e})=>e(),children:"Open in a new tab"})})})]})}function S({data:e}){const{metricId:t,constraints:n,constraintMap:i,startTime:r,result:o}=e;return Object(x.jsxs)(y.f,{children:[Object(x.jsxs)(v,{heading:Object(O.b)(t),children:[Object(x.jsx)(_,{name:"Thrift Id",children:String(Object(O.a)(t))}),Object(x.jsx)(_,{name:"Surface",children:t.surface}),Object(x.jsx)(_,{name:"Navigation Type",children:t.navigationType}),Object(x.jsx)(_,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),Object(x.jsx)(v,{heading:"Constraints",children:n.map(e=>Object(x.jsx)(_,{name:e,children:Object(x.jsx)(y.bb,{align:"end",children:i[e]?Math.round(i[e]-r):"pending..."})},"constraint_"+e))}),Object(x.jsx)(v,{heading:"Result",children:o?Object(x.jsx)(w,{result:o}):Object(x.jsx)(_,{name:"result",children:Object(x.jsx)(y.U,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var C=n("LT60");const T=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function I({data:e}){const[t,n]=Object(i.useState)(!1);return Object(x.jsx)(C.a,{children:Object(x.jsxs)(y.A,{children:[Object(x.jsx)(y.f,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:Object(x.jsx)(y.x,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:T(e),icon:"flash",size:"lg",onClick:()=>n(!0)})}),t&&Object(x.jsx)("div",{style:{position:"absolute",zIndex:2e3},children:Object(x.jsx)(y.H,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm",children:Object(x.jsx)(y.f,{padding:6,children:Object(x.jsx)(S,{data:e})})})})]})})}var E=n("mRg4");var k=(e,t)=>{const n=Object(i.useRef)(e);Object(i.useEffect)(()=>{n.current=e},[e]);const r=Object(i.useRef)(t);Object(i.useEffect)(()=>{r.current=t},[t]),Object(i.useEffect)(()=>()=>r.current(n.current),[])};var P=(e,t)=>{const[n,r]=Object(i.useState)(t);return{state:n,dispatch:t=>r(n=>e(n,t))}},R=n("XtwW"),L=n("FZ8N"),A=n("LrH5"),D=n("6lKZ"),B=n("y2Ga"),N=n("xfna");const M=["initial_app_load","client_route_push"],F=Object(A.a)("PwtSurface"),U="NavigationComplete",z="VisuallyComplete",H=(e,t)=>{e.isSampled&&Object(E.a)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},q=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){const t=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:r,annotateExperiments:o},annotations:a,binaryAnnotations:s,constraintMap:c,startTime:l,imageTimings:d,isSampled:u,spans:h}=e,p=j("initial_app_load"===i.navigationType,null===(n=r.serverData)||void 0===n?void 0:n.trace_id),b=m({annotateExperiments:o,annotations:a,binaryAnnotations:s,constraintMap:c,endTime:t,imageTimings:d,metricId:i,pwtStaticContext:r,startTime:l,traceId:p,spans:h});return u&&Object(E.a)({metricId:i,pwtStaticContext:r,result:b}),{...e,result:b,status:"DONE"}})(e,t)}return e},G=(e,t)=>{const{constraint:n,time:i}=t,r=Object(O.b)(e.metricConfig.metricId);return R.a?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(F(`constraint "${n}" is already complete.`),Object(f.b)("duplicated_constraint_complete",{constraint:n,action:r}),e):(F(`marking constraint "${n}" as complete`),q({...e,constraintMap:{...e.constraintMap,[n]:i||R.a.now()}})):(F(`marked constraint "${n}" is not a required constraint.`),e):(Object(f.b)("missing_window_performance",{action:r}),e)},W=(e,t)=>{if(F("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:r}=t;if("TIMING"===e.status&&i!==e.startTime&&H(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const o=Object(O.b)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?(Object(f.b)("duplicated_init_route_action",{action:o}),e):(Object(f.c)("TIMING."+o),G({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:U}))})(e,t.payload);if("TIMING"!==e.status)return F("ignoring action due to invalid state "+e.status,t),e;switch(t.type){case"ABORT":H(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!R.a)return e;const r=R.a.now();return F(`adding annotation {${i}: ${r}}`),{...e,annotations:{...e.annotations,[i]:r}};case"BINARY_ANNOTATE":const{name:o,value:a,annotationType:s}=t.payload;return F(`adding binary annotation {${o}: ${a}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[o]:{value:a,type:s}}};case"MARK_CONSTRAINT_COMPLETE":return G(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!R.a){const t=Object(O.b)(e.metricConfig.metricId);Object(f.b)("missing_window_performance",{action:t})}F(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:i,...r}=e.constraintMap;return q({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!R.a){const t=Object(O.b)(e.metricConfig.metricId);Object(f.b)("missing_window_performance",{action:t})}F(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){H(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map(e=>e.responseEnd||0));return G({...e,imageTimings:n},{constraint:z,time:i})}case"ADD_SUBSPAN":const{startTime:l}=e,{payload:{name:d,startTime:u,endTime:h,annotations:p,binaryAnnotations:b,parentId:m}}=t;return{...e,spans:[...e.spans,{name:d,id:Object(c.a)(),startTime:u||l,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...b},parentId:m}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:Object(c.a)(),startTime:R.a?R.a.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const g=e.spans.findIndex(e=>e.name===t.payload.name);return g>-1?(e.spans[g].endTime=R.a?R.a.now():0,t.payload.annotations&&(e.spans[g].annotationMap={...e.spans[g].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[g].binaryAnnotationMap={...e.spans[g].binaryAnnotationMap,...t.payload.binaryAnnotations})):Object(f.b)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const j=Object(O.b)(e.metricConfig.metricId);return Object(f.b)("invalid_pwt_surface_action",{action:j}),e}};function V({children:e,...t}){const n=Object(N.b)(),r={...t,navigationInfo:{navigationType:(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(n),clientNavigation:n}},{state:o,context:a}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:r,annotateExperiments:o,customEnabledNavigationTypes:a,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:l})=>{const d=Object(i.useRef)("NOT_SET"),u=Object(N.c)(),{state:h,dispatch:p}=P(W,{status:"DISABLED",metricConfig:null});if(d.current!==s&&(d.current=s,u)){const{isAuthenticated:i}=u,d=a||M,h=e&&c&&d.includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:o,constraints:[U,...t||[],...r?[z]:[]],pwtStaticContext:u}:null;p({type:"INIT_ROUTE",payload:{metricConfig:h,startTime:s?s.time:0,isSampled:!l||Math.random()<l}})}if(Object(i.useEffect)(()=>{const e=e=>{p({type:"ABORT",reason:e})};D.a.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),p({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{D.a.removePauseListener(e),window.removeEventListener("resize",t)}},[]),k(h,e=>{F("handling unmount",e),"TIMING"===e.status&&H(e,"unmount")}),"TIMING"!==h.status||!h.constraintMap.NavigationComplete)return{state:h,context:null};const{startTime:b,metricConfig:m}=h;return{state:h,context:{id:b,metricId:m.metricId,abort:e=>p({type:"ABORT",reason:e}),addAnnotation:e=>p({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>p({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:m.constraints.includes(z)?e=>p({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>p({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.a?R.a.now():0}}),removeConstraint:e=>p({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>p({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,i={},r={},o=null)=>p({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o}}),startSubspan:(e,t={},n={},i=null)=>p({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>p({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(r);return(()=>{const e=Object(B.c)(),t=!!e;Object(i.useEffect)(()=>{if(t){const t=null!=e&&e.metricId?Object(O.b)(e.metricId):null;Object(f.b)("nested_pwt_surface",{action:t})}},[t])})(),Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)(B.b,{value:a,children:e}),L.b&&"DISABLED"!==o.status&&Object(x.jsx)(I,{data:{metricId:o.metricConfig.metricId,constraints:o.metricConfig.constraints,constraintMap:o.constraintMap,startTime:o.startTime,result:"DONE"===o.status?o.result:null}})]})}},lnbv:function(e,t,n){function i(e,t){let n="SET_PERSONALIZATION_COOKIES";return"analytic"===e?n="SET_ANALYTICS_COOKIES":"marketing"===e&&(n="SET_MARKETING_COOKIES"),{type:n,payload:{value:t}}}function r(){return{type:"ALLOW_ALL_COOKIES"}}function o(){return{type:"REJECT_ALL_COOKIES"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}))},mEMi:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("DzJC"),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",o()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mLS1:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("82UD"),a=n("DBaX"),s=n("n6mq"),c=n("nKUr");function l({handleTogglePinSelection:e,index:t,isSelected:n,pin:i}){return Object(c.jsx)(s.ab,{onTap:()=>{e(t)},rounding:a.c,children:Object(c.jsx)(o.a,{attributionOption:"hide",blockClickEvents:!0,pin:i,pinId:i.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:n?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var d=n("yweb");var u=({boardPins:e,coverPinIndex:t,fetchMore:n,isLoaded:i,handleTogglePinSelection:r})=>{const o=Object(d.c)();return i?Object(c.jsx)(s.f,{paddingY:4,children:Object(c.jsx)(s.E,{columnWidth:152,comp:({data:e,itemIdx:n})=>Object(c.jsx)(l,{handleTogglePinSelection:r,index:n,isSelected:t===n,pin:e}),gutterWidth:16,items:e||[],loadItems:n})}):Object(c.jsx)(s.f,{padding:6,children:Object(c.jsx)(s.U,{show:!0,accessibilityLabel:o._("Loading","BoardCoverEdit.Accessibility.Label","accessibility label for loading spinner")})})},h=n("TgLd"),p=n("eOdZ"),b=n("Wrea"),m=n("yaUg"),f=n("pLLR");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j={border:0,top:120};class y extends i.Component{constructor(...e){super(...e),g(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),g(this,"handleUpdateImage",()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,n=e.offsetWidth;this.setState({isSpinnerShown:!1,startBgPos:{left:-(n-this.state.holderWidth)/2,top:-(t-this.state.holderHeight)/2}})}),g(this,"handleOnMouseUp",()=>{this.isDragging&&(this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData()))}),g(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:n,holderWidth:i}=this.state;return{left:i/2-t/2,width:t,height:e,top:n/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),r=i.imgHeight*n,o=i.imgWidth*n;let a=0;return r&&o&&(a=this.state.startBgPos.left+this.state.deltaX,a+o-e<t.left&&(a=t.left-o+e),a>t.left&&(a=t.left)),a}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),r=i.imgHeight*n,o=i.imgWidth*n;let a=0;return r&&o&&(a=this.state.startBgPos.top+this.state.deltaY,a+r-e<t.top&&(a=t.top-r+e),a>t.top&&(a=t.top)),a}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:n,imgWidth:i}=this._getImageDimensions(),r=this.getFrameBounds();if(n&&i){let o=n/i;return o=o>=r.height/r.width?t/i:e/n,o}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let n={};if(e&&t){const i=this.getImgScale();n={width:i*t,height:i*e}}return n}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,n=this.getFrameBounds(),i=this.getBgBounds(),r=this.getImgScale();return{cropX:Math.round(-(i.left-n.left)/r),cropY:Math.round(-(i.top-n.top)/r),height:Math.round(e/r),width:Math.round(t/r),scale:r}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){var e,t,n;const{pin:i}=this.props,r=null===(e=i.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==r?void 0:r.height)&&void 0!==t?t:1,imgWidth:null!==(n=null==r?void 0:r.width)&&void 0!==n?n:1}}render(){var e,t;const{boardName:n,frameHeight:i,frameWidth:r,hideCoverNavigation:o,isFirst:a,isLast:l,isRTL:d,pin:u,showNextPin:h,showPrevPin:p}=this.props,{isSpinnerShown:b}=this.state,{imgHeight:f,imgWidth:g}=this._getImageDimensions(),y=this.getFrameBounds(),O=this.getImageBounds(),x=this.getBgBounds();let v="";return f&&g&&(v="in"),Object(c.jsxs)("div",{className:"ImageCrop",children:[Object(c.jsxs)("div",{className:"holder",ref:e=>{this.holder=e},children:[Object(c.jsx)("div",{className:"bg",style:x,children:Object(c.jsx)("img",{alt:Object(m.a)(this.props.i18n._("Board cover for {{ boardName }}"),{boardName:n}),className:v,onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:null===(e=u.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:O})}),Object(c.jsxs)("div",{className:"mask",children:[Object(c.jsx)("span",{style:{top:0,left:0,right:0,height:y.top}}),Object(c.jsx)("span",{style:{top:y.top,left:y.left+r,right:0,height:i}}),Object(c.jsx)("span",{style:{top:i+y.top,left:0,right:0,bottom:0}}),Object(c.jsx)("span",{style:{top:y.top,left:0,width:y.left,height:i}})]}),Object(c.jsx)("div",{className:"frame",style:y}),Object(c.jsx)("div",{className:"drag",onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)},onMouseUp:()=>{this.handleOnMouseUp()},role:"presentation"}),Object(c.jsx)("div",{className:"spinner",style:{display:b?"":"none"}})]}),a||o?null:Object(c.jsx)(s.f,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...j,left:d?void 0:100,right:d?100:void 0}},children:Object(c.jsx)(s.x,{icon:"arrow-back",accessibilityLabel:this.props.i18n._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:p})}),l||o?null:Object(c.jsx)(s.f,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...j,left:d?100:void 0,right:d?void 0:100}},children:Object(c.jsx)(s.x,{icon:"arrow-forward",accessibilityLabel:this.props.i18n._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:h})})]})}}function O(e){const t=Object(d.c)(),{isRTL:n}=Object(f.d)();return Object(c.jsx)(y,{...e,isRTL:!!n,i18n:t})}var x=n("w70y");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return e.reduce((e,t)=>("pin"===t.type&&e.push(t),e),[])}function w({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,_(e||[]).findIndex(e=>e.id===t))}class S extends i.Component{constructor(...e){super(...e),v(this,"state",{coverPinIndex:w(this.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),v(this,"handleSave",()=>{var e,t,n;const{boardId:i,dispatch:r}=this.props,{coverPinIndex:o,imgCropData:a}=this.state,s=(this.pins||[])[o];if(!s)return;const c=null===(e=s.images)||void 0===e?void 0:e["236x"],l=null==c?void 0:c.url,d=a?{crop_x:a.cropX,crop_y:a.cropY,height:a.height,width:a.width,scale:a.scale}:{crop_x:0,crop_y:0,height:null==c?void 0:c.height,width:null==c?void 0:c.width,scale:1},u={board_id:i,url:l,pin_id:s.id,pin_image_url:l,...d},h={height:null!==(t=null==c?void 0:c.height)&&void 0!==t?t:0,width:null!==(n=null==c?void 0:c.width)&&void 0!==n?n:0,x:a?a.cropX:0,y:a?a.cropY:0};p.a.create("BoardResource",u).callUpdate().then(()=>{this.props.onSave(null!=l?l:""),r(Object(b.a)(i,{custom_cover:!0,scale:a?a.scale:1,pin_id:s.id,crop:h,image_url:null!=l?l:""}))})}),v(this,"updateImgCrop",e=>this.setState({imgCropData:e})),v(this,"handleShowNextPin",()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:n}}=this.props,i=(this.pins||[]).length;i&&this.setState(({coverPinIndex:e})=>({coverPinIndex:(e+1)%i}),()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&n()})}),v(this,"handleShowPrevPin",()=>{const e=(this.pins||[]).length;e&&this.setState(({coverPinIndex:t})=>({coverPinIndex:(t||e)-1}))}),v(this,"handleTogglePinSelection",e=>{const t=this.pins||[];this.setState({coverPinIndex:e,selectedCoverPin:t[e]})}),v(this,"handleCoverEditBackButtonClick",()=>{this.setState({selectedCoverPin:null})}),v(this,"renderBoardCoverMasonry",()=>{const{coverPinIndex:e,selectedCoverPin:t}=this.state,{boardName:n,boardFeedResource:i,frameHeight:r,frameWidth:o}=this.props,a=this.pins||[],{data:s,fetchMore:l,isLoaded:d}=i;return t?Object(c.jsx)(O,{boardName:n,frameHeight:null!=r?r:236,frameWidth:null!=o?o:236,isFirst:!e,isLast:e===a.length-1,pin:t,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop,hideCoverNavigation:!0}):Object(c.jsx)(u,{boardPins:s,coverPinIndex:e,fetchMore:l,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:d})}),v(this,"renderCoverEditHeader",()=>Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"center",height:80,children:Object(c.jsx)(s.f,{width:"100%",padding:4,children:Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"between",children:[Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Navigate to cover picker","BoardEdit.back.button","Cover picker navigate back button"),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleCoverEditBackButtonClick}),Object(c.jsx)(s.v,{size:"md",children:this.props.i18n._("Move and scale to crop","BoardEdit.Heading.Experiment.Text","edit board heading")}),Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardCoverEdit.icon.cancel","Cancel board cover edit"),icon:"cancel",iconColor:"darkGray",onClick:this.props.onCancel})]})})}))}static getDerivedStateFromProps(e,t){const n=e.boardFeedResource.data,{previousBoardFeedResourceData:i}=t;return!i&&n?{previousBoardFeedResourceData:n,coverPinIndex:w(e)}:{previousBoardFeedResourceData:n}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach(e=>{if("pin"===e.type){(new Image).src=e.url}})}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?_(e):void 0}render(){const{heading:e,onCancel:t}=this.props,{coverPinIndex:n,selectedCoverPin:i}=this.state,r=(this.pins||[])[n];return Object(c.jsx)(h.b,{accessibilityModalLabel:this.props.i18n._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:i?this.renderCoverEditHeader():e,onDismiss:t,footer:i&&Object(c.jsx)(s.f,{display:"flex",justifyContent:"end",children:Object(c.jsx)(s.f,{padding:2,children:Object(c.jsx)(s.g,{disabled:!r,onClick:this.handleSave,text:this.props.i18n._("Done","BoardCoverEdit.Button.Submit.Exp","Button for saving board cover edit")})})}),children:this.renderBoardCoverMasonry()})}}function C(e){const t=Object(d.c)(),n=Object(r.useDispatch)(),i=Object(x.a)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return Object(c.jsx)(S,{...e,boardFeedResource:i,dispatch:n,i18n:t})}var T=n("0rqM");const I=({label:e,labelId:t})=>t?Object(c.jsx)(s.z,{htmlFor:t,children:Object(c.jsx)(s.bb,{size:"sm",children:e})}):Object(c.jsx)(s.bb,{size:"sm",children:e});function E(e){const{children:t,label:n,labelId:r}=e;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.f,{marginBottom:2,children:Object(c.jsx)(I,{label:n,labelId:r})}),t]})}const k=138;function P({coverPin:e,handleShowBoardCoverEditModal:t}){const n=Object(d.c)(),[r,o]=Object(i.useState)(!1),{isRTL:a}=Object(f.d)();return Object(c.jsx)(E,{label:n._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover"),children:Object(c.jsx)(s.f,{width:k,position:"relative",children:Object(c.jsx)(s.ab,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.D,{height:k,rounding:4,width:k,children:Object(c.jsx)(s.y,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||k,naturalWidth:e.size&&e.size[0]||k,src:e.image_url})}),Object(c.jsx)(s.f,{position:"absolute",left:a,right:!a,bottom:!0,padding:2,children:Object(c.jsx)(s.f,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:r?"white":"rgba(255, 255, 255, 0.8)"}},children:Object(c.jsx)(s.w,{accessibilityLabel:n._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})})})]}):Object(c.jsx)(s.f,{alignItems:"center",color:r?"darkWash":"lightGray",display:"flex",height:k,justifyContent:"center",rounding:4,width:k,children:Object(c.jsx)(s.w,{accessibilityLabel:n._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})})})})})}function R({children:e,label:t,labelId:n,subtext:r}){return Object(c.jsx)(i.Fragment,{children:Object(c.jsxs)(s.f,{alignItems:"start",display:"flex",justifyContent:"start",paddingY:1,children:[e,Object(c.jsx)(s.f,{marginStart:2,children:Object(c.jsxs)(s.z,{htmlFor:n,children:[Object(c.jsx)(s.bb,{size:"lg",weight:"bold",children:t}),r]})})]})})}function L({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:n}){const i=Object(d.c)();return t&&Object(c.jsx)(R,{label:i._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:Object(c.jsx)(s.bb,{color:"gray",size:"lg",children:i._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form")}),children:Object(c.jsx)(s.f,{alignItems:"center",display:"flex",children:Object(c.jsx)(s.f,{marginEnd:1,children:Object(c.jsx)(s.k,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var A=n("xUWj"),D=n("qpbZ");function B({board:e,onCollaboratorInviteClick:t}){const n=Object(d.c)(),i=Object(A.b)({boardId:e.id,ownerName:e.owner.full_name,ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_key||e.owner.image_medium_url||e.owner.image_small_url}),r=i.slice(0,3).map(e=>e.name);let o="";switch(i.length){case 3:o=Object(D.c)(""+n._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:""+r[0],second:""+r[1],last:""+r[2]});break;case 2:o=Object(D.c)(""+n._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:""+r[0],second:""+r[1]});break;default:o=r.join(", ")}const a=i.length>3?Object(D.c)(n.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",i.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:o,leftCount:""+(i.length-3)}):Object(D.c)(""+n._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators"),{userNames:o});return Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"between",children:[Object(c.jsx)(s.c,{accessibilityLabel:a,collaborators:i.map(({name:e,src:t})=>({src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:e})),size:"md"}),Object(c.jsx)(s.x,{accessibilityLabel:n._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}var N=n("KEt0"),M=n("EC51"),F=n("kmwA");function U({board:e,onCollaboratorInviteClick:t}){const n=Object(d.c)(),i=Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"start",children:[Object(c.jsx)(s.bb,{size:"sm",inline:!0,children:n._("Collaborators")}),Object(c.jsx)(N.a,{}),Object(c.jsx)(s.bb,{inline:!0,size:"sm",weight:"bold",children:Object(c.jsx)(M.a,{inline:!0,target:"blank",href:F.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,children:n._("Learn more")})})]});return Object(c.jsx)(E,{alignTop:!0,label:i,labelId:"collaborators",children:Object(c.jsx)(B,{board:e,onCollaboratorInviteClick:t})})}function z({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:n}){const i=Object(d.c)();return t&&Object(c.jsx)(R,{label:i._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox",children:Object(c.jsx)(s.k,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function H({description:e,descriptionValidatorErrors:t,onChange:n}){const i=Object(d.c)(),r="boardEditDescription";return Object(c.jsx)(E,{alignTop:!0,label:i._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:r,children:Object(c.jsx)(s.cb,{errorMessage:t.join(", "),id:r,name:"description",onChange:n,placeholder:i._("What's your board about?"),value:e})})}var q=({children:e})=>Object(c.jsx)(s.f,{paddingX:8,role:"list",children:i.Children.map(e,(t,n)=>t&&Object(c.jsx)(s.f,{role:"listitem",marginBottom:n===i.Children.count(e)-1?1:8,children:t},n))}),G=n("JW66");function W({isProtectedToggler:e,isToggleDisable:t,onChange:n,onCheckboxChange:r,privacy:o}){const a=Object(d.c)();if(!0===e)return Object(c.jsx)(R,{label:a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:Object(c.jsx)(s.f,{paddingY:2,children:Object(c.jsx)(s.W,{onChange:n,switched:o===G.a.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(o!==G.a.BoardPrivacy.PROTECTED){const e=a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),n=Object(c.jsx)(i.Fragment,{children:Object(c.jsxs)(s.bb,{color:"gray",size:"lg",children:[a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",Object(c.jsx)(M.a,{inline:!0,target:"blank",href:F.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return Object(c.jsx)(R,{label:e,labelId:"secret",subtext:n,children:Object(c.jsx)(s.f,{display:"flex",alignItems:"center",children:Object(c.jsx)(s.k,{checked:o===G.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:r,disabled:t})})})}return null}function V({allowHomefeedRecommendations:e,onCheckboxChange:t}){const n=Object(d.c)();return Object(c.jsx)(R,{label:n._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:Object(c.jsx)(s.bb,{color:"gray",size:"lg",children:n._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility")}),children:Object(c.jsx)(s.k,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function K({name:e,nameValidatorErrors:t,onChange:n}){const i=Object(d.c)();return Object(c.jsx)(E,{label:i._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName",children:Object(c.jsx)(s.db,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:i._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:e})})}var Y=n("4dcN"),X=n("eBDd"),$=n("vvax"),Q=n("nGHF"),Z=n("c50B");function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=(e,t)=>Object(Z.j)({max:e,maxErrorString:Object(X.a)(t._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})}),te=e=>[ee(G.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],ne=e=>[Object(Z.p)({message:e._("Don't forget to name your board!")}),ee(G.a.MAX_CHARS_FOR_BOARD_TITLE,e)],ie=({condition:e,children:t})=>e?Object(c.jsx)(s.f,{position:"absolute",zIndex:h.a,children:t}):t;class re extends i.Component{constructor(e){super(e),J(this,"handleChangeName",({value:e})=>{const t=Object(Z.s)(ne(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),J(this,"handleChangeDescription",({value:e})=>{const t=Object(Z.s)(te(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),J(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),J(this,"handleChangePrivateToggle",({value:e})=>{this.setState({privacy:e?"secret":"public"})}),J(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),J(this,"handleShowSecretConfirmation",()=>{this.setState({showSecretConfirmation:!0})}),J(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),J(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),J(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),J(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),J(this,"handleCancel",()=>{Y.a.trackEvent(this.props.gaCategory,"click_cancel"),this.props.onClose()}),J(this,"handleCheckboxChange",e=>({event:t,checked:n})=>e({event:t,value:n})),J(this,"handleSubmit",e=>{const{onSubmit:t}=this.props,{collab_board_email:n,collaboratorInvitesEnabled:i,description:r,name:o,privacy:a,allowHomefeedRecommendations:s}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const c=o.trim(),l=r.trim();this.setState({submitting:!0,submitError:""}),Y.a.trackEvent(this.props.gaCategory,"click_submit"),t({name:c,collab_board_email:n,collaborator_invites_enabled:i,description:l,privacy:a,allow_homefeed_recommendations:s}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),J(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),J(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),J(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)});const{board:{collab_board_email:t,collaborator_invites_enabled:n,description:i,name:r,pin_count:o,privacy:a,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:t,description:i,name:r,pin_count:o,privacy:a,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:n,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:i,previousPrivacy:a}}static getDerivedStateFromProps(e,t){const n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=Object(Z.s)(ne(e.i18n),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=Object(Z.s)(te(e.i18n),e.board.description)),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}getFormFooter(){const{submitText:e}=this.props,{submitError:t}=this.state;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.f,{alignItems:"center",display:"flex",justifyContent:"end",wrap:!0,children:Object(c.jsx)(s.f,{children:Object(c.jsx)(s.f,{display:"flex",children:Object(c.jsx)(s.f,{height:48,children:Object(c.jsx)(s.g,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&Object(c.jsx)(s.f,{paddingX:1,children:Object(c.jsx)(s.bb,{color:"red",children:t})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:n,submitting:i}=this.state;return!t||n.length>0||e.length>0||i}render(){const{board:e,board:{archived_by_me_at:t,cover_pin:n,id:r,is_collaborative:o},coverImageHeight:a,coverImageWidth:l,currentUserIsOwner:d,handleBoardLeave:u,isAdAccount:p,isAdAccountOwner:b,isDeletable:m,isEditable:f,isNameAndSecretView:g,onClose:j,onCollaboratorInviteClick:y,onDeleteButtonClick:O,title:x,useModalWithNoLayer:v}=this.props,{allowHomefeedRecommendations:_,collab_board_email:w,collaboratorInvitesEnabled:S,description:I,descriptionValidatorErrors:E,name:k,nameValidatorErrors:R,pin_count:A,privacy:D,showBoardCoverEdit:B,showSecretConfirmation:N}=this.state,M=f&&A>0;let F=Object(c.jsxs)(q,{children:[M&&Object(c.jsx)(P,{coverPin:n,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),Object(c.jsx)(K,{name:k,nameValidatorErrors:R,onChange:this.handleChangeName}),Object(c.jsx)(H,{description:I,descriptionValidatorErrors:E,onChange:this.handleChangeDescription}),d&&!!u&&!!y&&Object(c.jsx)(U,{board:e,onCollaboratorInviteClick:y}),Object(c.jsx)(s.f,{marginBottom:-7,children:Object(c.jsx)(s.bb,{size:"sm",children:this.props.i18n._("Settings","BoardForm.BoardForm","Section heading in board edit form")})}),Object(c.jsx)(W,{isProtectedToggler:!!p,isToggleDisable:!!p&&!b,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:D}),!t&&Object(c.jsx)(V,{allowHomefeedRecommendations:_,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),Object(c.jsx)(L,{hasCollabBoardEmail:w,isCollaborative:o,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),Object(c.jsx)(z,{collaboratorInvitesEnabled:S,isCollaborative:o,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),m&&Object(c.jsxs)(s.f,{marginTop:-6,paddingY:4,children:[Object(c.jsx)(s.bb,{size:"sm",children:this.props.i18n._("Action","BoardForm.BoardForm.Action","Section heading in board edit form")}),Object(c.jsxs)(s.ab,{onTap:O,children:[Object(c.jsx)(s.f,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:Object(c.jsx)(s.v,{size:"sm",children:this.props.i18n._("Delete board","BoardForm.Delete","Delete board label")})}),Object(c.jsx)(s.bb,{size:"lg",color:"gray",children:this.props.i18n._("Delete this board and all its Pins forever.","BoardForm.BoardForm.Delete.Label","Delete board warning text")}),Object(c.jsx)(s.bb,{size:"lg",color:"gray",children:this.props.i18n._("You can't undo this!","BoardForm.BoardForm.Delete.LabelTwo","Delete board warning text")})]})]})]});d?g&&(F=Object(c.jsxs)(q,{children:[Object(c.jsx)(K,{name:k,nameValidatorErrors:R,onChange:this.handleChangeName}),Object(c.jsx)(W,{isProtectedToggler:!!p,isToggleDisable:!!p&&!b,onChange:this.handleChangePrivacyToggle,privacy:D,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):F=Object(c.jsxs)(q,{children:[!!u&&!!y&&Object(c.jsx)(U,{board:e,onCollaboratorInviteClick:y}),Object(c.jsx)(L,{hasCollabBoardEmail:w,isCollaborative:o,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&Object(c.jsx)(V,{allowHomefeedRecommendations:_,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),Object(c.jsx)(s.bb,{color:"gray",size:"lg",children:Object($.b)(this.props.i18n._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:Object(c.jsx)(s.bb,{color:"gray",inline:!0,size:"lg",weight:"bold",children:e.owner.full_name})})})]});const G=v?s.H:h.b,Y=this.props.i18n._("Change board cover","BoardForm.BoardCoverEdit.heading","Change board cover heading"),X=Object(c.jsx)(s.u,{alignItems:"center",justifyContent:"center",height:80,children:Object(c.jsx)(s.f,{marginStart:"auto",width:"66%",padding:4,children:Object(c.jsxs)(s.u,{alignItems:"center",justifyContent:"between",children:[Object(c.jsx)(s.v,{size:"md",children:Y}),Object(c.jsx)(s.x,{accessibilityLabel:this.props.i18n._("Cancel change board cover","BoardForm.BoardCoverEdit.cancel","Cancel change board cover heading"),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})]})})});return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(ie,{condition:!!v,children:!B&&Object(c.jsx)(G,{accessibilityModalLabel:this.props.i18n._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:j,footer:this.getFormFooter(),heading:x,children:Object(c.jsx)(s.f,{marginEnd:"auto",marginStart:"auto",rounding:2,children:Object(c.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:F})})})}),B&&Object(c.jsx)(C,{boardId:r,boardName:k,coverPinId:null==n?void 0:n.pin_id,frameHeight:a,frameWidth:l,heading:X,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),N&&Object(c.jsx)(T.a,{confirmButtonLabel:this.props.i18n._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:this.props.i18n._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:this.props.i18n._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret})]})}}J(re,"defaultProps",{isNameAndSecretView:!1});t.a=Object(Q.c)((function(e){const t=Object(d.c)();return Object(c.jsx)(re,{...e,i18n:t})}))},mRg4:function(e,t,n){n.d(t,"a",(function(){return j}));let i=null;var r=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i),o=n("FZ8N"),a=n("LrH5"),s=n("bNC6"),c=n("3/Bf"),l=n("o9su"),d=n("FylZ");const u=(e,t)=>Object.keys(e).reduce((n,i)=>{const r=e[i];return r&&(n[i]={timestamp:t+r}),n},{}),h=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:u(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce((e,t)=>{const i=n[t];if(!i)return e;const{value:r,type:o}=i;return null==r?e:e.concat({name:t,value:r,annotation_type:o})},[]))};var n},p=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:r,parentId:o,traceId:a})=>({name:"pwt/"+e,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:r,parentId:o,id:a}),b=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,["server_"+t]:{timestamp:n}}),{}),m=(e,t)=>({...e,annotations:{...b(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),f=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:r})=>{let o=h({span:p(t,n),timeOrigin:i}),a=null;return r&&(o=m(o,r),a=((e,t,n)=>{const i=Object(l.a)();return(null==i?void 0:i.responseEnd)?m(h({span:{name:"html",startTime:0,endTime:(null==i?void 0:i.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{},id:e.server_span_id||Object(d.a)(),parentId:t},timeOrigin:n}),e):null})(r,e,i)),{trace_id:e,spans:[o,...a?[a]:[],...n.spans.map(e=>h({span:e,timeOrigin:i}))]}},g=Object(a.a)("reportResult");function j({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{ajax:a,serverData:l}=t,d=Object(s.b)(e),u=`${n.type}.${d}`,h=void 0!==i&&{tags:{isAuth:i}}||void 0;if(Object(c.c)(n.reason?u.concat("."+n.reason):u,h),"COMPLETE"!==n.type)return void g("Abort metric "+d,n);const p=null!==(b=window.performance)&&void 0!==b&&b.now?Date.now()-window.performance.now():"unknown";var b,m;if("unknown"===p)return g(`Unable to convert to absolute times for ${d} due to missing time origin`),void Object(c.c)("missingTimeOrigin."+d,h);if(o.c&&(window.PWT_LAB_DATA=r(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!o.c){const i=e.navigationType&&"initial_app_load"===e.navigationType,r=n.traceId,s=f({traceId:r,actionName:d,result:n,timeOrigin:p,serverDataToJoin:i&&l||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((m=t,{debugTrace:o.a,locale:m.locale,stageName:m.stageName,userId:m.isAuthenticated?m.userId:null}))}}),g(`PinTrace ${d} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${r}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},"mVz+":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return u}));const i=40,r=4,o=106,a=133,s=.1,c=10,l=246,d=197,u=236},mabI:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("oRao"),r=n("yweb"),o=n("vvax"),a=n("n6mq"),s=n("nKUr");function c({pinCount:e,placesCount:t,sectionCount:n}){const c=Object(r.c)(),l=!!t&&0!==e||!t;return Object(s.jsxs)(a.f,{display:"flex",direction:"column",children:[t?Object(s.jsx)(a.f,{display:"none",smDisplay:"flex",overflow:"hidden",children:Object(s.jsx)(a.bb,{size:"md",inline:!0,truncate:!0,children:Object(o.b)(c.ngettext("{{ count }} place","{{ count }} places",t,"label for n amount of places","label for n amount of places"),{count:Object(s.jsx)(i.a,{value:t},"places-count")})})}):null,n?Object(s.jsx)(a.f,{display:"none",smDisplay:"flex",overflow:"hidden",children:Object(s.jsx)(a.bb,{size:"md",inline:!0,truncate:!0,children:Object(o.b)(c.ngettext("{{ count }} section","{{ count }} sections",n,"label for n amount of sections","label for n amount of sections"),{count:Object(s.jsx)(i.a,{value:n},"section_count")})})}):null,l&&Object(s.jsx)(a.f,{overflow:"hidden",children:Object(s.jsx)(a.bb,{size:"md",truncate:!0,children:Object(o.b)(c.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:Object(s.jsx)(i.a,{value:e},"pin_count")})})})]})}},mvLR:function(e,t,n){function i(e){let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e),e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return i}))},nEAA:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));const i=e=>"number"==typeof e?Math.round(e):e,r=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},nGHF:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a,HOC:s}=Object(i.a)("toastManagerContext")},nRAE:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("EC51"),o=n("kmwA"),a=n("yweb"),s=n("n6mq"),c=n("nKUr");const l={xs:12,sm:16,md:20,lg:24};function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:d,size:u}){const h=Object(a.c)(),p=Object(c.jsxs)(s.f,{alignItems:"center",display:"flex",children:[Object(c.jsx)(s.w,{accessibilityLabel:h._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:l[u]}),d&&Object(c.jsx)(s.f,{marginStart:2,children:Object(c.jsx)(s.bb,{color:"blue",inline:!0,weight:"bold",children:h._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})]});return Object(c.jsxs)(i.Fragment,{children:[n&&!t&&Object(c.jsx)(s.fb,{link:Object(c.jsx)(r.a,{href:o.a.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:Object(c.jsx)(s.bb,{color:"white",size:"sm",weight:"bold",children:h._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines")})}),text:h._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified"),children:p}),n&&t&&p,e&&!n&&Object(c.jsx)(s.w,{accessibilityLabel:h._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:l[u]})]})}},nj6m:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("2xqg"),o=n.n(r),a=n("n6mq"),s=n("nKUr");const c=({fill:e,width:t,color:n})=>{const r="half"===e?Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(a.f,{position:"absolute",children:Object(s.jsx)(a.w,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),Object(s.jsx)(a.w,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):Object(s.jsx)(a.w,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:r})};function l({max_rating:e,rating:t,width:n,color:r}){const a=[],l=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(l))return null;const d=Math.floor(l),u=l-d;return o()(d,e=>a.push(Object(s.jsx)(c,{color:r,fill:"full",width:n},e))),u>=.75?a.push(Object(s.jsx)(c,{color:r,fill:"full",width:n},a.length)):u>=.25&&a.push(Object(s.jsx)(c,{color:r,fill:"half",width:n},a.length)),o()(5-a.length,()=>a.push(Object(s.jsx)(c,{color:r,fill:"empty",width:n},a.length))),Object(s.jsx)(i.Fragment,{children:a})}},nrog:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("eOdZ");function r(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function o(e){return t=>i.a.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then(e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(r(i.save_behavior))})}},nuuT:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var i=n("gLeT"),r=n("Cr6c"),o=n("yweb"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");const l=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],d={component:210,view:4,viewParameter:3106},u={view:5,viewParameter:3069},h={component:13668,view:4,viewParameter:3106};function p({pinId:e,surface:t}){const n=Object(o.c)(),p=()=>{const e=l.includes(t)?h:"BaseBoardPinGrid"===t?u:"UserProfilePinGrid"===t?d:{};Object(s.b)(101,{element:10573,...e})},b=n._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return Object(c.jsx)(a.f,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:l.includes(t)?Object(c.jsx)(i.a,{accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:p,size:"sm",text:(m=b,m.length>14?m.substring(0,12).trim()+"...":m)}):Object(c.jsx)(r.a,{accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:p,size:"sm"})});var m}},o9su:function(e,t,n){var i=n("XtwW");t.a=()=>{const[e]=i.a?i.a.getEntriesByType("navigation"):[];return e}},oN2T:function(e,t,n){n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"n",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"m",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"f",(function(){return I})),n.d(t,"i",(function(){return E}));var i=n("4dcN"),r=n("Pqnw"),o=n("7w6Q"),a=n("eOdZ"),s=n("nrog"),c=n("KFEb"),l=n("5FNA"),d=n("NjDU"),u=n("Wer7");const h="board_create",p="board_delete",b="board_edit";function m(e,t){return Object(u.a)("BoardResource",{board_id:e,field_set_key:t})}function f(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function g(e){return t=>{e&&Object(l.b)(e).forEach(e=>{t(e)})}}function j(e,t,n){const r={...e};return o=>(o({type:"BOARD_CREATE",payload:{board:e}}),a.a.create("BoardResource",r).callCreate().then(e=>{i.a.trackEvent(h,"success");const a=e.resource_response.data;return a&&(o(g(n)),null!=t&&t.isFBC||o(f(r,a)),o(Object(s.a)(a.owner.id))),a}).catch(e=>{throw i.a.trackEvent(h,"error"),e}))}function y(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function O(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},r={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:r}}),a.a.create("BoardResource",r).callUpdate().then(n=>{i.a.trackEvent(b,"success");const o=n&&n.resource_response&&n.resource_response.data||e;t(y(r,o))}).catch(e=>{throw i.a.trackEvent(b,"error"),e})}}function x(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function v(e){return(t,n)=>{var r;const o=n().boards.content[e],{pin_count:s}=o,{id:c=""}=null!==(r=o.owner)&&void 0!==r?r:{};return t({type:"BOARD_DELETE",payload:{boardId:e}}),a.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{i.a.trackEvent(p,"error"),t(x(e)),t(Object(d.c)({userId:c,increment:"number"==typeof s?-s:0}))}).catch(e=>{throw i.a.trackEvent(p,"error"),e})}}function _(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function w(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),a.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function S(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),a.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function C(e,t){return n=>a.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(x(e)),n(m(t,"pin_count")),n(Object(r.a)(c.a.BOARD_SECTIONS,t))]))}function T(e,t){return n=>a.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const i=e.resource_response.data||{},r=(i.model||{}).custom_properties||{},{campaign_id:a="unknown"}=r,s=i.display_data||{},c={isSocialSeasonalBoard:!!i.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return o.a.increment(`web.seasonal_board.${a}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function I(){return e=>e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}function E(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},oRM1:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("zQfT");function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:o,resourceOptions:a,value:s}){const c=Object(r.a)({allowSearchOnMount:e,resourceName:o,resourceOptions:a,value:s});return Object(i.useEffect)(()=>{null!=c&&c.length&&n(c)},[c]),t||null}},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},ohE5:function(e,t,n){function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},oqCl:function(e,t,n){function i(e=236,t=16,n=2){let i="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let r=n;r<t+1;r+=1){i+=`\n@media (min-width: ${r===n?0:r*e}px) and (max-width: ${(r+1)*e-1}px) {\n  .gridCentered {\n    width: ${r*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${r}),\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return i}n.d(t,"a",(function(){return i}))},ou9u:function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return i}))},ovj4:function(e,t,n){var i=n("T0g9");t.a=(e,t)=>e+"?"+Object(i.a)(t)},"p+V9":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({customCover:e,height:t,imgUrl:n,imgPos:r,width:o}){const a={height:t,width:o},s=t/o;let c="center center";if(e&&r){let e=1;e=r.height/r.width>s?o/r.width:t/r.height;c=`-${r.x*e}px -${r.y*e}px`}const l={backgroundImage:`url(${n})`,backgroundPosition:c,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF"};return Object(i.jsx)("div",{style:a,children:Object(i.jsx)("div",{className:"relative",style:l,children:Object(i.jsx)("div",{className:"imageWash absolute"})})})}},pIlY:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var i=n("q1tI"),r=n("DzJC"),o=n.n(r),a=n("1dBE"),s=n("nKUr");const{Provider:c,Consumer:l,useHook:d}=Object(a.c)("HeaderShadow");function u({children:e}){const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(!1),[l,d]=Object(i.useState)(0),[u,h]=Object(i.useState)(null),p=o()(()=>{t&&(a(window.scrollY>0),d(window.scrollY))},50);return Object(i.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(i.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),Object(s.jsx)(c,{value:{currentScrollPosition:l,isScrolled:r,setSubheaderShadow:h,subheaderShadow:u},children:e})}},pLLR:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("q1tI"),r=n("nKUr");const o=Object(i.createContext)(),a=o.Provider;function s(e){function t(t){const n=Object(i.useContext)(o);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return Object(r.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const c=({children:e})=>{const t=Object(i.useContext)(o);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},l=({children:e})=>{const t=Object(i.useContext)(o);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function d(){const e=Object(i.useContext)(o);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},pOug:function(e,t,n){t.a=function(e){return function(t){return null!=t?e(t):null}}},pQ8y:function(e,t,n){var i=n("PFNz"),r=n("JwAW"),o=n("RPF1");n("17x9");function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n("q1tI"),c=n.n(s),l=n("i8i4"),d=n.n(l),u=!1,h=n("0PSK"),p="unmounted",b="exited",m="entering",f="entered",g="exiting",j=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=b,i.appearStatus=m):r=f:r=t.unmountOnExit||t.mountOnEnter?p:b,i.state={status:r},i.nextCallback=null,i}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:b}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==f&&(t=m):n!==m&&n!==f||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===b&&this.setState({status:p})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[d.a.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!n||u?this.safeSetState({status:f},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:m},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:d.a.findDOMNode(this);t&&!u?(this.props.onExit(i),this.safeSetState({status:g},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:b},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:b},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:d.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.a.createElement(h.a.Provider,{value:null},"function"==typeof n?n(e,i):c.a.cloneElement(c.a.Children.only(n),i))},t}(c.a.Component);function y(){}j.contextType=h.a,j.propTypes={},j.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},j.UNMOUNTED=p,j.EXITED=b,j.ENTERING=m,j.ENTERED=f,j.EXITING=g;var O=j,x=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=a(n.className,i):n.setAttribute("class",a(n.className&&n.className.baseVal||"",i)));var n,i}))},v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1];t.removeClasses(r,"exit"),t.addClass(r,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1]?"appear":"enter";t.addClass(r,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1]?"appear":"enter";t.removeClasses(r,o),t.addClass(r,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(i+=" "+r),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,o=n.done;this.appliedClasses[t]={},i&&x(e,i),r&&x(e,r),o&&x(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(r.a)(e,["classNames"]));return c.a.createElement(O,Object(i.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.a.Component);v.defaultProps={classNames:""},v.propTypes={};t.a=v},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},pWkb:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("yaUg"),r=n("Ye/N");function o(e,t){const{isAbbreviated:n,skipSeconds:o}=t||{},a=36e5,s=864e5,c=new Date(e),l=(new Date).getTime()-c.getTime(),d=Math.floor(l/1e3),u=Math.floor(l/6e4),h=Math.floor(l/a),p=Math.floor(l/s),b=Math.floor(l/6048e5),m=Math.floor(l/31536e6);return m>0?n?Object(i.a)(r.a._("{{ years }}y","Abbreviation for years","Abbreviation for years"),{years:""+m}):Object(i.a)(r.a.ngettext("{{ years }} year ago","{{ years }} years ago",m,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{years:""+m}):b>1?n?Object(i.a)(r.a._("{{ weeks }}w","Abbreviation for weeks","Abbreviation for weeks"),{weeks:""+b}):Object(i.a)(r.a.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",b,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{weeks:""+b}):p>0?n?Object(i.a)(r.a._("{{ days }}d","Abbreviation for days","Abbreviation for days"),{days:""+p}):Object(i.a)(r.a.ngettext("{{ days }} day ago","{{ days }} days ago",p,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{days:""+p}):h>0?n?Object(i.a)(r.a._("{{ hours }}h","Abbreviation for hours","Abbreviation for hours"),{hours:""+h}):Object(i.a)(r.a.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",h,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{hours:""+h}):u>0?n?Object(i.a)(r.a._("{{ minutes }}m","Abbreviation for minutes","Abbreviation for minutes"),{minutes:""+u}):Object(i.a)(r.a.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",u,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{minutes:""+u}):d>=0&&!o?n?Object(i.a)(r.a._("{{ numSecondsBetween }}s","Abbreviation for seconds","Abbreviation for seconds"),{numSecondsBetween:""+d}):Object(i.a)(r.a.ngettext("{{ numSecondsBetween }} second ago","{{ numSecondsBetween }} seconds ago",d,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{numSecondsBetween:""+d}):r.a._("just now","describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages")}},peh1:function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function o(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every((function(e,i){return t(e,n[i])}))||(i=e.apply(void 0,o)),n=o,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,c=r.pop(),l=a(r),d=e.apply(void 0,[function(){return s++,c.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=l.map((function(n){return n.apply(void 0,[e,t].concat(r))}));return d.apply(void 0,i(a))};return u.resultFunc=c,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var c=t.createSelector=s(o)},pf20:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("F4HH");const{Provider:r,useHook:o}=Object(i.a)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),a=r,s=o},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},ptXI:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=n("7w6Q"),o=n("fepT"),a=n("U4JR"),s=(n("CgR/"),n("yweb")),c=n("n6mq"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={overlay:{__style:{backgroundColor:"#000"}}};class p extends i.PureComponent{constructor(...e){super(...e),d(this,"setSendButton",e=>{this.sendButton=e}),d(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),r.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),d(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&r.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(a.b)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),d(this,"handleExternalSend",()=>{r.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),d(this,"renderReplayButton",()=>Object(l.jsx)(c.ab,{onTap:this.handleRestartVideo,rounding:2,children:Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(c.w,{accessibilityLabel:this.props.i18n._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.v,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})),d(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:r}=this.props;return Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(o.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:r,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.ab,{onTap:this.handleShareVideo,rounding:2,children:Object(l.jsx)(c.v,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})})}componentDidMount(){const{pinId:e}=this.props;r.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(a.b)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.y,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:h.overlay}),Object(l.jsx)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:Object(l.jsxs)(c.f,{position:"absolute",children:[Object(l.jsx)(c.f,{children:this.renderShareButton()}),Object(l.jsx)(c.f,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function b(e){const t=Object(s.c)();return Object(l.jsx)(p,{...e,i18n:t})}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:r})=>{const o=Object(s.c)();return Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.y,{alt:r||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),Object(l.jsx)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:Object(l.jsx)(c.f,{children:Object(l.jsx)(c.ab,{onTap:i,rounding:2,children:Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(c.w,{accessibilityLabel:o._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.v,{color:"white",overflow:"normal",size:"sm",children:o._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})}},q7Wf:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("T0g9"),r=n("Jr++");function o(e){const{query:t,rs:n,scope:r,guideAdded:o,filters:a,termMeta:s,user:c}=e;if(!t)return"/";const l={q:t,rs:n,term_meta:s};if(a&&(l.filters=a),c&&(l.user=c),o&&o.term&&(l.add_refine=`${o.term}|guide|word|${o.index}`),window.location.pathname.startsWith("/explore"))return"/search/pins/?"+Object(i.a)(l);let d=r;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(d)||(d="pins"),d?`/search/${d}/?${Object(i.a)(l)}`:`${window.location.pathname}?${Object(i.a)(l)}`}function a(e,t,n,i){const a=Object(r.a)();a.add_refine&&(a["term_meta[]"]?a["term_meta[]"].push(a.add_refine):a["term_meta[]"]=[a.add_refine]);const s=a["term_meta[]"];return o({query:e,rs:i,termMeta:"string"==typeof s?[s]:s,guideAdded:{term:t,index:n}})}},q8wg:function(e,t,n){var i=n("8wun"),r=n("1u47"),o=n("nKUr");t.a=e=>Object(o.jsx)(r.a,{...e,timeSpentManager:i.a})},qALL:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("n6mq"),r=n("nKUr");const o=({children:e})=>Object(r.jsx)(i.f,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),a=({children:e})=>Object(r.jsx)(i.f,{padding:2,children:e}),s=({children:e})=>Object(r.jsx)(i.f,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),c=({children:e})=>Object(r.jsx)(i.f,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},qD10:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("zwad"),r=n("fJfT"),o=n("EC67"),a=n("nKUr");function s({external:e,onClick:t,to:n,children:s,className:c,style:l,target:d,to:u}){const h=Object(o.h)(),p=Object(o.i)();return Object(a.jsx)("a",{className:c,href:u,onClick:o=>{const a=e||i.a.isOffsiteUrl(n);Object(r.b)({isExternalLink:a,event:o})||(o.nativeEvent.preventDefault(),null==t||t(o),n&&(a?Object(r.c)({href:n,location:p}):Object(r.d)({event:o,href:n,history:h})))},rel:e?"nofollow":"",style:l,target:d?"_blank":null,children:s})}},qLDv:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));const i=36,r=44,o=446,a=["enabled_left_stela","employees","enabled_v2_holdout"],s=["employees","enabled"],c=["employees","enabled_popular_bestseller_colorful","enabled_popular_bestseller_neutral","enabled_popular_colorful","enabled_popular_neutral"]},qUzp:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("8A+h"),r=n("E58E");function o({board:e,viewer:t}){return Object(i.a)(t,e)||Object(r.a)({board:e,viewer:t})}},qYux:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("1dBE"),o=n("nKUr");const{Provider:a,Consumer:s,useHook:c}=Object(r.c)("ContentHeader");function l({children:e}){const[t,n]=Object(i.useState)(!1);return Object(o.jsx)(a,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},qdVQ:function(e,t,n){n.d(t,"a",(function(){return S}));var i=n("q1tI"),r=n("/MKj"),o=n("0rqM"),a=n("4dcN"),s=n("Ye/N"),c=n("eOdZ"),l=n("M1Uz"),d=n("v/Q4"),u=n("vVEi"),h=n("mLS1"),p=n("oN2T"),b=n("pLLR"),m=n("nGHF"),f=n("n6mq"),g=n("ANjH"),j=n("nKUr");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),y(this,"state",{editMode:"main"}),y(this,"handleBoardLeave",()=>{const{board:e,onBoardLeave:t,onClose:n}=this.props;n(),t&&t(e.id)}),y(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),y(this,"handleDelete",()=>{const{board:e,deleteBoard:t,onBoardDelete:n,onClose:i,toastManagerContext:r}=this.props;t().then(()=>{r.showToast(({onHide:e})=>Object(j.jsx)(l.a,{onHide:e,text:s.a._("Board deleted!","User deleted their board","User deleted their board")}))}),this.returnToMainEditMode(),i(),n&&n(e)}),y(this,"handleShowDeleteModal",()=>{a.a.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})}),y(this,"handleSubmit",e=>{var t;const{viewer:n,board:i,updateBoard:r,onBoardPrivacyChange:o,onBoardUpdate:a,onClose:s}=this.props,l=this.props.board.id;if(n.id===(null===(t=i.owner)||void 0===t?void 0:t.id)){const t={id:l,...e};return r(t).then(()=>{i.privacy!==e.privacy&&o?o():a&&a(l,t),s()})}{const{allow_homefeed_recommendations:t,collab_board_email:n}=e;t!==i.allow_homefeed_recommendations&&r({id:l,allow_homefeed_recommendations:t});return c.a.create("BoardSettingsResource",{board_id:l,collab_board_email:n}).callUpdate({showError:!1}).then(()=>s()).catch(e=>{throw e.message})}})}render(){var e;const{board:t,categories:n,viewer:r,onCropChange:a,onClose:c,onCollaboratorInviteClick:l,onToggleFlyout:d}=this.props,{editMode:u}=this.state,p=s.a._("Edit your board","BoardEdit.Heading.Text","edit board heading"),b=r.isAuth&&r.id===(null===(e=t.owner)||void 0===e?void 0:e.id),m=Object(j.jsx)(f.u,{alignItems:"center",justifyContent:"center",height:80,children:Object(j.jsx)(f.f,{marginStart:"auto",marginEnd:4,width:"66%",paddingY:4,children:Object(j.jsxs)(f.u,{alignItems:"center",justifyContent:"between",children:[Object(j.jsx)(f.v,{size:"md",children:p}),Object(j.jsx)(f.x,{accessibilityLabel:s.a._("Close","BoardEdit.icon.cancel","Icon to close board edit modal"),icon:"cancel",iconColor:"darkGray",onClick:c})]})})});return Object(j.jsxs)(i.Fragment,{children:["main"===u&&Object(j.jsx)(h.a,{board:t,categories:n,currentUserIsOwner:b,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:b,isEditable:b,onClose:c,onCropChange:a,onDeleteButtonClick:this.handleShowDeleteModal,onCollaboratorInviteClick:l,onSubmit:this.handleSubmit,onToggleFlyout:d,submitText:s.a._("Done","BoardEdit.BoardEdit","Submit button text"),title:m}),"confirmDelete"===u&&Object(j.jsx)(o.a,{confirmButtonLabel:s.a._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:s.a._("Cancel"),message:s.a._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode})]})}}var x=Object(g.compose)(m.c,u.d,Object(r.connect)(null,(e,t)=>({deleteBoard:()=>e(Object(p.h)(t.board.id)),updateBoard:t=>e(Object(p.n)(t))})))((function(e){return Object(j.jsx)(O,{...e,requestContext:Object(b.d)(),viewer:Object(d.a)()})})),v=n("TgLd"),_=n("yweb"),w=n("w70y");function S({boardId:e,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:o,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:c,onBoardUpdate:l,onClose:d,onCollaboratorInviteClick:u,onCropChange:h}){const p=Object(_.c)(),[b,m]=Object(i.useState)(!1),{data:g}=Object(w.a)({name:"CategoriesResource",allowStale:!1});Object(w.a)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},allowStale:!1});const y=Object(r.useSelector)(({boards:t})=>t.content[e]);if(!!(!y||!g))return Object(j.jsx)(v.b,{accessibilityModalLabel:p._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:d,size:"sm",children:Object(j.jsx)(f.f,{padding:12,children:Object(j.jsx)(f.U,{accessibilityLabel:p._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})})});return Object(j.jsx)(x,{board:y,categories:g,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:o,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:c,onBoardUpdate:l,onClose:()=>{b||d()},onCollaboratorInviteClick:u,onCropChange:h,onToggleFlyout:()=>m(!b)})}},qpbZ:function(e,t,n){function i(e,t,n){return e.split(n).map(e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));const r=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return i(e,t,r)}function a(e,t){return i(e,t,r).join("")}const s=/(\{\s*\w+\s*\})/g;function c(e,t){return i(e,t,s)}},qxKp:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),r=n("rVUJ"),o=n("uXiN"),a=n("gqRH"),s=n("fJfT"),c=n("n6mq"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?Object(l.jsx)(r.a,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t;class h extends i.Component{constructor(...e){super(...e),d(this,"state",{active:!1,focused:!1,hovered:this.props.isInitiallyHovered||!1}),d(this,"anchorElementRef",Object(i.createRef)()),d(this,"handleBlur",()=>this.setState({focused:!1})),d(this,"handleFocus",()=>this.setState({focused:!0})),d(this,"handleMouseDown",()=>this.setState({active:!0})),d(this,"handleMouseEnter",()=>{const{handleMouseEnter:e}=this.props;e&&e(),this.setState({hovered:!0})}),d(this,"handleMouseLeave",()=>{const{handleMouseLeave:e}=this.props;e&&e(),this.setState({active:!1,hovered:!1})}),d(this,"handleMouseUp",()=>this.setState({active:!1}))}render(){const{accessibilityLabel:e,experienceAnchor:t,external:n,children:i,onClick:r,onNavigationHandler:a,rounding:s="pill",tabIndex:d=0,url:h}=this.props,{active:p,focused:b,hovered:m}=this.state,f="pill"===s?2:1,g="circle"===s?48:"";return Object(l.jsx)(u,{anchorElementRef:this.anchorElementRef,experienceAnchor:t,children:Object(l.jsx)(c.ab,{accessibilityLabel:e,href:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTap:({event:e,disableOnNavigation:t})=>{t(),null==r||r(e),a({event:e})},rel:n?"nofollow":"none",ref:this.anchorElementRef,role:"link",rounding:s,tabIndex:d,children:Object(l.jsx)(o.a,{active:p,focused:b,justBgFocused:!0,hovered:m,rounding:s,children:Object(l.jsx)(c.f,{alignItems:"center",display:"flex",direction:"pill"===s?void 0:"column",height:g,justifyContent:"center",padding:f,position:"relative",rounding:s,width:g,children:i})})})})}}function p(e){const t=Object(a.b)({href:e.url,onHistoryChange:s.e});return Object(l.jsx)(h,{...e,onNavigationHandler:t})}},r3nq:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("p+V9"),r=n("n6mq"),o=n("nKUr");function a({cover:e,height:t,image:n,width:a}){var s,c,l,d;return e?Object(o.jsx)(i.a,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(d=e.url)&&void 0!==d?d:"",width:a}):n?Object(o.jsx)(r.D,{height:t,wash:!0,width:a,children:Object(o.jsx)(r.y,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:null!==(s=n.height)&&void 0!==s?s:1,naturalWidth:null!==(c=n.width)&&void 0!==c?c:1,src:null!==(l=n.url)&&void 0!==l?l:""})}):Object(o.jsx)(r.f,{color:"lightGray",height:t,width:a})}var s=n("CRIG"),c=n("He/G"),l=n("yweb"),d=n("pLLR"),u=n("75Er"),h=n("QKYm");function p({boardThumbs:e=[],cover:t,editButton:n,isActive:i,isSecret:p,layout:b,sensitivityScreenAuxData:m,showSensitivityScreen:f=!1}){const g=Object(l.c)();Object(u.b)(f?{component:13861,view_type:215,aux_data:m}:null);const{isRTL:j}=Object(d.d)(),{height:y,width:O}=Object(h.e)(b),x=t?void 0:e[0],v=e.slice(t?0:1);return Object(o.jsxs)(r.D,{height:y,rounding:4,wash:i,width:O,children:[Object(o.jsxs)(r.f,{color:"white",dangerouslySetInlineStyle:{__style:f?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[Object(o.jsx)(a,{cover:t,height:y,image:x,width:Math.floor(O/3*2)}),Object(o.jsxs)(r.f,{direction:"column",display:"flex",flex:"none",height:"100%",justifyContent:"between",children:[Object(o.jsx)(s.a,{height:Math.floor(y/2),image:v[0],width:Math.floor(O/3)}),Object(o.jsx)(s.a,{height:Math.floor(y/2),image:v[1],width:Math.floor(O/3)})]})]}),p&&Object(o.jsx)(r.f,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!j,marginStart:2,marginTop:2,position:"absolute",right:j,rounding:"circle",top:!0,width:32,children:Object(o.jsx)(c.a,{})}),i&&n&&Object(o.jsx)(r.f,{alignItems:"center",bottom:!0,color:"white",display:"flex",height:32,justifyContent:"center",left:j,marginBottom:2,marginEnd:2,position:"absolute",right:!j,rounding:"circle",width:32,children:n}),f&&Object(o.jsx)(r.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:Object(o.jsx)(r.v,{align:"center",color:"white",size:"sm",children:g._("This board may contain sensitive content","profileBoardCard.boardCollage.heading","Warning text on board that may have sensitive content")})})]})}},r8eU:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("QLaP"),r=n.n(i);class o{constructor(e,t){r()(e,"You must pass a requestContext to check an Experiment"),r()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_getGroup(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends o{getGroup(e=!1){return this._getGroup(e)}}class s extends o{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},r9FX:function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("ihsa"),o=n("V08O"),a=n("n6mq"),s=n("nKUr");const c=["imageFadeOut {\n    0% { opacity: 1 }\n    60% { opacity: 1 }\n    100% { opacity: 0 }\n}"],l={imageFadeOut:"imageFadeOut 0.9s both"};function d({backgroundColor:e,cyclingImages:t,imgLabel:n,imageHeight:d,imageWidth:u}){const[h,p]=Object(i.useState)(0);Object(i.useEffect)(()=>{const e=setInterval(()=>{p(e=>e+1)},900);return()=>clearInterval(e)},[]);const b=h%t.length,m=(h+1)%t.length;return((e,t,n,i,d,u,h)=>{var p,b,m,f,g,j;return Object(s.jsxs)(a.f,{position:"relative",width:d,height:i,children:[Object(s.jsx)(a.f,{position:"absolute",top:!0,left:!0,width:d,height:i,children:Object(s.jsx)(a.y,{alt:u,color:h,fit:"cover",naturalHeight:null!==(p=n.height)&&void 0!==p?p:1,naturalWidth:null!==(b=n.width)&&void 0!==b?b:1,src:null!==(m=n.url)&&void 0!==m?m:"",children:Object(s.jsx)(a.f,{color:"darkGray",opacity:.3,height:"100%"})})}),Object(s.jsxs)(a.f,{position:"absolute",top:!0,left:!0,width:d,height:i,dangerouslySetInlineStyle:{__style:{animation:l.imageFadeOut,WebkitAnimation:l.imageFadeOut}},children:[Object(s.jsx)(r.a,{unsafeCSS:Object(o.a)(c)}),Object(s.jsx)(a.y,{alt:u,color:h,fit:"cover",naturalHeight:null!==(f=t.height)&&void 0!==f?f:1,naturalWidth:null!==(g=t.width)&&void 0!==g?g:1,src:null!==(j=t.url)&&void 0!==j?j:"",children:Object(s.jsx)(a.f,{color:"darkGray",opacity:.3,height:"100%"})})]})]},e)})(h,t[b],t[m],d,u,n,e)}var u=n("yaUg"),h=n("yweb"),p=n("pLLR");const b={xl_144:{imageWidth:144,imageHeight:144,fontSize:"lg"},md_120:{imageWidth:120,imageHeight:120,fontSize:"md"}},m=b.xl_144;function f({clickHandler:e,index:t,interest:n,isSelected:r,isTopicEdu:o,size:c,totalInterests:l}){var f,g,j;const y=Object(h.c)(),{isRTL:O}=Object(p.d)(),{fontSize:x,imageWidth:v,imageHeight:_}=b[c]||m,{background_color:w,cycling_images:S,images:C,name:T}=n,I=n.label?String(n.label):T,E=C["400x"],k=S?S.map(e=>e["400x"]):[],[P,R]=Object(i.useState)(!1),[L,A]=Object(i.useState)(!1),D=l&&t?Object(u.a)(y._("{{ interestName }}, list {{ interestsPosition }} of {{ interestsCount }}","nux.interestStep.interestForLists","Label for interest card with description for lists"),{interestName:n.name,interestsPosition:t.toString(),interestsCount:l.toString()}):Object(u.a)(y._("{{ interestName }} interest card","nux.interestStep.interest","Label for interest card"),{interestName:n.name});return((e,t,n,i)=>{const r=e?t-8:t,o=e?n-8:n,c=e?14:16,l=e?-1:0,d=e?{borderColor:"black"}:{borderStyle:"none"};return Object(s.jsx)(a.f,{borderStyle:e?"lg":"none",dangerouslySetInlineStyle:{__style:d},width:t,height:n,rounding:4,color:"white",display:"flex",justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.f,{width:r,height:o,dangerouslySetInlineStyle:{__style:{borderRadius:c}},overflow:"hidden",children:Object(s.jsx)(a.f,{margin:l,children:i})})})})(!o&&(r||P||L),v,_,Object(s.jsx)(a.D,{rounding:4,children:Object(s.jsx)(a.f,{rounding:4,position:"relative",display:"inlineBlock",width:v,height:_,"data-test-id":"nux-picker-topic",children:Object(s.jsxs)(a.ab,{accessibilityLabel:D,fullHeight:!0,onBlur:()=>A(!1),onFocus:()=>A(!0),onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),onTap:e,children:[k.length>0&&(P||L)?Object(s.jsx)(d,{backgroundColor:w,cyclingImages:k,imageHeight:_,imageWidth:v,imgLabel:I}):Object(s.jsx)(a.y,{alt:I,color:w,fit:"cover",naturalHeight:null!==(f=E.height)&&void 0!==f?f:1,naturalWidth:null!==(g=E.width)&&void 0!==g?g:1,src:null!==(j=E.url)&&void 0!==j?j:"",children:Object(s.jsx)(a.f,{color:"darkGray",opacity:.3,height:"100%"})}),r&&Object(s.jsxs)(a.f,{height:"100%",width:"100%",position:"absolute",top:!0,children:[Object(s.jsx)(a.f,{color:"darkGray",opacity:.7,height:"100%"}),Object(s.jsx)(a.f,{position:"absolute",left:O,marginEnd:2,marginStart:2,marginTop:2,right:!O,top:!0,children:Object(s.jsx)(a.k,{checked:!0,id:"selectedTopic",onChange:()=>{}})})]}),Object(s.jsx)(a.f,{position:"absolute",bottom:!0,left:!0,right:!0,margin:2,"data-test-id":"nux-picker-topic-label",children:Object(s.jsx)(a.bb,{align:"start",color:"white",size:x,weight:"bold",overflow:"breakWord",children:T})})]})})}))}},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("/MKj"),r=n("XSD5"),o=n("6/Sz"),a=n("0nTG"),s=n("U4JR"),c=n("4cTg"),l=n("n6mq"),d=n("nKUr");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:h,isCloseup:p,isEditMode:b,pinId:m,viewParameter:f,viewType:g,variant:j}){const y=Object(i.useSelector)(({pins:e})=>e[m],i.shallowEqual),O=e||Object(o.a)(y),x=Object(i.useDispatch)();if(!O)return null;const v=(e,t,i)=>{b||void 0===r.a||(e.preventDefault(),e.stopPropagation(),x(Object(r.a)(String(m),i))),void 0!==h&&h(i),((e,t,n=0,i,r,o,c,l,d,u)=>{if(!u){const{carousel_slots:u,id:h}=r;Object(s.b)(108,{...d,objectId:t,component:l,view:c,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(a.f)(e)||{}})}})(y,m,t,i,O,f,g,n,u,b)},{carousel_slots:_=[],index:w}=O,S=void 0!==t?t:w,C="default"===j,T=C?"white":"#555",I=C?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(d.jsx)(c.b.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(d.jsx)(l.f,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:b?1:0,children:[...Array(_.length).keys()].map(e=>{var t;return Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.ab,{accessibilityLabel:null!==(t=_[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>v(t,S,e),rounding:"circle",children:Object(d.jsx)(l.f,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===S?T:I}},rounding:"circle"})})},m+e)})})})}},rVUJ:function(e,t,n){var i,r,o,a=n("q1tI"),s=n("/MKj"),c=n("BcvT"),l=n("n6mq"),d=n("nKUr");class u extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:i}=this.props;return Object(d.jsx)(c.a,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:i})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:r}=this.props;if(!n)return null;const{cancelButtonText:o,confirmButtonText:a,mainText:s,idealDirection:c="down"}=n,u=o&&i&&a&&r;return Object(d.jsx)(l.L,{anchor:e,color:"blue",idealDirection:c,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(d.jsxs)(l.f,{maxWidth:284,padding:3,width:"max-content",children:[Object(d.jsx)(l.bb,{color:"white",overflow:t,weight:"bold",children:s}),u?Object(d.jsxs)(l.f,{marginTop:2,display:"flex",alignItems:"center",children:[Object(d.jsx)(l.f,{column:6,marginEnd:1,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(o)})}),Object(d.jsx)(l.f,{column:6,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"white",size:"md",text:String(a),onClick:r})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}o={overflow:"breakWord"},(r="defaultProps")in(i=u)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o;var h=n("NdXn"),p=n("AAEI"),b=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:r,isHidden:o,onCompleteClick:c,overflow:m,zIndex:f})=>{var g;const j=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(s.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:r}),y=Object(p.a)(null==j?void 0:j.placement_id),O=(null==j||null===(g=j.display_data)||void 0===g?void 0:g.delay)||0,[x,v]=Object(a.useState)(!!O);if(Object(a.useEffect)(()=>{if(O>0&&x){const e=setTimeout(()=>{v(!1)});return()=>clearTimeout(e)}return()=>{}},[O,x]),Object(a.useEffect)(()=>{!x&&j&&y.viewExperience(j.placement_id,j.experience_id)},[x,j]),!j||x||o)return a.Children.only(n);const _=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(b.a)(h.a,!0)(t)})(j),w=()=>{var e;null!==(e=j.display_data)&&void 0!==e&&e.complete_on_hover&&y.completeExperience(j.placement_id,j.experience_id)};return Object(d.jsxs)(l.f,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[Object(d.jsx)(l.ab,{onMouseEnter:w,onTap:()=>{c&&c(),_.skipComplete||y.completeExperience(j.placement_id,j.experience_id)},children:a.Children.only(n)}),Object(d.jsx)(u,{anchor:t||null,handlePulsarCompleteOnHover:w,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),y.dismissExperience(j.placement_id,j.experience_id)},overflow:m,pulserOnly:!!_.pulserOnly,tooltip:_.tooltip,tooltipOnly:!!_.tooltipOnly,zIndex:f})]})}},rXev:function(e,t,n){n.d(t,"a",(function(){return F}));var i=n("q1tI");class r{constructor(e=[],t=(()=>null)){var n,i,r;r=[],(i="items")in(n=this)?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,this.items=e,this.getItemLayoutInfo=t}}var o=n("6Mki"),a=n("nKUr");function s({children:e,defaultSize:t,disableWidth:n=!1,disableHeight:r=!1,onResize:s}){const[c,l]=Object(i.useState)({width:0,height:0}),d=Object(i.useRef)(),u=Object(i.useRef)(),h=Object(i.useCallback)(()=>{if(u.current){const e=u.current.offsetHeight||0,t=u.current.offsetWidth||0,i=window.getComputedStyle(u.current)||{},o=parseInt(i.paddingLeft,10)||0,a=parseInt(i.paddingRight,10)||0,d=e-(parseInt(i.paddingTop,10)||0)-(parseInt(i.paddingBottom,10)||0),h=t-o-a;(!r&&c.height!==d||!n&&c.width!==h)&&(l({width:h,height:d}),s({width:h,height:d}))}},[c,r,n,s,u.current]);Object(i.useEffect)(()=>{var e,t;null!==(e=d.current)&&void 0!==e&&null!==(t=e.parentNode)&&void 0!==t&&t.ownerDocument.defaultView&&d.current.parentNode instanceof d.current.parentNode.ownerDocument.defaultView.HTMLElement&&(u.current=d.current.parentNode,h())},[]),Object(i.useEffect)(()=>(u.current&&o.a.sharedInstance.addResizeListener(u.current,h),()=>{u.current&&o.a.sharedInstance.removeResizeListener(u.current,h)}),[u.current,h]);const p={overflow:"visible",margin:"auto",display:"flex",justifyContent:"center"};return r||(p.height=0),n||(p.width=0),Object(a.jsx)("div",{className:"AutoSizer",ref:d,style:p,children:e})}var c=n("TSYQ"),l=n.n(c),d=n("Y+p1"),u=n.n(d);class h extends i.Component{constructor(...e){var t,n,i;super(...e),t=this,n="itemSizeCache",i=new WeakMap,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.componentDidRender()}shouldComponentUpdate(e){const{customSize:t,layout:n}=e,{customSize:i,layout:r}=this.props;if(!u()(i,t))return!0;if(n.items.length!==r.items.length)return!0;if(n.items.some((e,t)=>e!==r.items[t]))return!0;const o=n.items.map(n.getItemLayoutInfo),a=r.items.map(r.getItemLayoutInfo);return!(!o.some((e,t)=>e!==a[t])||!o.some((e,t)=>!u()(e,a[t])))}componentDidUpdate(){this.componentDidRender()}componentDidRender(){const{onRenderedItems:e}=this.props;e&&e(this.itemSizeCache),this.itemSizeCache=new WeakMap}getElementHeight(e){return e&&(e.clientHeight||e.scrollHeight)||0}measureItem(e,t){t&&this.itemSizeCache.set(e,{width:t.clientWidth||t.scrollWidth||0,height:this.getElementHeight(t)||this.getElementHeight(t.children&&t.children[0])})}render(){const{renderItem:e,layout:t,customSize:n,itemsToMeasureLimit:i}=this.props,r=[],o=[];t.items.forEach((n,s)=>{const c=t.getItemLayoutInfo(n);if(!c)return;const l="number"==typeof c.customIndex?c.customIndex:s,d="item-"+l;if(!c.size&&r.length<(i||1/0)){const t=e({item:n,index:l,isMeasuring:!0,constraints:c.constraints});r.push(Object(a.jsx)("div",{className:"Collection-Item Collection-Item-Measuring",style:{pointerEvents:"none",position:"absolute",visibility:"hidden",top:-9999,left:-9999,...c.constraints},ref:e=>this.measureItem(n,e),children:t},d))}if(c.position){const t=e({item:n,index:l,isMeasuring:!1,constraints:c.constraints});if(!c.position)return;o.push(Object(a.jsx)("div",{className:"Collection-Item",style:{position:"absolute",top:0,left:0,transform:`translate(${c.position.left}px, ${c.position.top}px)`,...c.size},children:t},d))}});const s=n||t.size;return Object(a.jsxs)("div",{style:{position:"relative",...s},className:"Collection",children:[r,o]})}}var p=function({layout:e,overscan:t=200,scrollContainerSize:n,scrollPosition:i,children:o}){const a=i.top-t,s=i.top+n.height+t,c=i.left-t,l=i.left+n.width+t,d=e.items.filter(t=>{const n=e.getItemLayoutInfo(t);if(!n)return!1;const{size:i,position:r}=n;return!i||!r||r.top+i.height>=a&&r.top<=s&&r.left+i.width>=c&&r.left<=l}),u=new r(d,e.getItemLayoutInfo);return u.size=e.size,u.contentFilledSize=e.contentFilledSize,u.isMeasuring=e.isMeasuring,o(u,e.size?e.size:void 0)};function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),b(this,"state",{layout:this.props.initialLayout||new r,initialItemCount:0,previousItems:[],previousContentContainerSize:this.props.contentContainerSize}),b(this,"contentContainerRef",Object(i.createRef)()),b(this,"handleItemsRendered",e=>{this.handleItemsRenderedAnimationFrame||(this.handleItemsRenderedAnimationFrame=requestAnimationFrame(()=>{this.handleItemsRenderedAnimationFrame=null;const{getItemLayoutOptions:t,layoutEngine:n,onLayoutUpdated:i,items:o,contentContainerSize:a}=this.props,{layout:s}=this.state,c=((e,t)=>{const n=new WeakMap;let i=!1;return e.items.forEach(r=>{const o=e.getItemLayoutInfo(r),a=t.get(r);o&&a&&!u()(o.size,a)&&(n.set(r,{...o,size:a}),i=!0)}),i?new r(e.items,t=>n.get(t)||e.getItemLayoutInfo(t)):e})(s,e);if(s===c)i&&i(s);else{const e=n.buildLayout({containerSize:a,items:o.filter(Boolean),getItemLayoutOptions:t,previousLayout:c});this.setState({layout:e})}}))}),b(this,"renderCollection",(e,t)=>{const{items:n,renderItem:i,layoutEngine:r,scrollContainerSize:o,contentContainerSize:s}=this.props,{initialItemCount:c}=this.state,l="function"==typeof r.itemsToMeasureLimit?r.itemsToMeasureLimit({initialLayout:n.length===c,layout:e,scrollContainerSize:o,contentContainerSize:s}):r.itemsToMeasureLimit||1/0;return Object(a.jsx)(h,{renderItem:i,layout:e,onRenderedItems:this.handleItemsRendered,customSize:t,itemsToMeasureLimit:l})})}static getDerivedStateFromProps(e,t){const{items:n,getItemLayoutOptions:i,layoutEngine:r,contentContainerSize:o}=e,{previousItems:a,previousContentContainerSize:s,layout:c,initialItemCount:l}=t,d={initialItemCount:l||n.length,previousContentContainerSize:o,previousItems:n};if(!(h=a,p=n,(h===p||h.length===p.length&&h.every((e,t)=>e===p[t]))&&u()(o,s))){return{layout:r.buildLayout({containerSize:o,items:n.filter(Boolean),getItemLayoutOptions:i,previousLayout:c}),contentContainerSize:o,...d}}var h,p;return d}componentDidMount(){const{onLayoutUpdated:e}=this.props,{layout:t}=this.state;e&&e(t)}componentWillUnmount(){this.handleItemsRenderedAnimationFrame&&cancelAnimationFrame(this.handleItemsRenderedAnimationFrame)}getLayout(){return this.state.layout}render(){const{virtualize:e,virtualOverscan:t,scrollPosition:n,scrollContainerSize:i,contentContainerSize:r}=this.props,{layout:o}=this.state;let s=null;if(e&&i&&n){const e="function"==typeof t?t({layout:o,scrollContainerSize:i,contentContainerSize:r}):t||0;s=Object(a.jsx)(p,{layout:o,scrollContainerSize:i,scrollPosition:n,overscan:e,children:this.renderCollection})}else s=this.renderCollection(o);return Object(a.jsx)("div",{className:"LayoutRenderer",children:s})}}function f(e){null!==e.id&&(window.cancelAnimationFrame(e.id),e.id=null)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}b(m,"defaultProps",{virtualOverscan:function({scrollContainerSize:e}){return 2*Math.max(e.width,e.height)}});class j{constructor(){g(this,"_mountedInstances",[]),g(this,"_originalBodyPointerEvents",null),g(this,"_disablePointerEventsTimeoutId",null),g(this,"_enablePointerEventsAfterDelayCallback",()=>{this._enablePointerEventsIfDisabled(),this._mountedInstances.forEach(({options:e})=>{e.resetIsScrolling&&e.resetIsScrolling()})}),g(this,"_handleScroll",e=>{e.currentTarget===window&&null==this._originalBodyPointerEvents&&document.body&&(this._originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),this._enablePointerEventsAfterDelay(),this._mountedInstances.forEach(({scrollElement:t,options:n})=>{t===e.currentTarget&&n.handleScroll()})})}_enablePointerEventsIfDisabled(){this._disablePointerEventsTimeoutId&&(this._disablePointerEventsTimeoutId=null,document.body&&null!=this._originalBodyPointerEvents&&(document.body.style.pointerEvents=this._originalBodyPointerEvents),this._originalBodyPointerEvents=null)}_enablePointerEventsAfterDelay(){this._disablePointerEventsTimeoutId&&f(this._disablePointerEventsTimeoutId);let e=0;this._mountedInstances.forEach(({options:t})=>{e=Math.max(e,t.scrollingResetTimeInterval)}),this._disablePointerEventsTimeoutId=function(e,t){let n;Promise.resolve().then(()=>{n=Date.now()});const i={id:null},r=()=>{Date.now()-n>=t?e.call():i.id=window.requestAnimationFrame(r)};return i.id=window.requestAnimationFrame(r),i}(this._enablePointerEventsAfterDelayCallback,e)}registerScrollListener(e,t){this._mountedInstances.some(({scrollElement:t})=>t===e)||e.addEventListener("scroll",this._handleScroll),this._mountedInstances.push({scrollElement:e,options:t})}unregisterScrollListener(e){this._mountedInstances=this._mountedInstances.filter(({scrollElement:t})=>t!==e),this._mountedInstances.length||(e.removeEventListener("scroll",this._handleScroll),this._disablePointerEventsTimeoutId&&(f(this._disablePointerEventsTimeoutId),this._enablePointerEventsIfDisabled()))}}g(j,"sharedInstance",new j);var y=n("DzJC"),O=n.n(y);function x(e,t){const n=Object(i.useRef)(!0);Object(i.useEffect)((...t)=>{if(!n.current)return e(...t);n.current=!1},t)}const v=e=>"undefined"!=typeof window&&e===window;function _(e,t){if(e){if(v(e)){const{innerHeight:e,innerWidth:t}=window;return{height:"number"==typeof e?e:0,width:"number"==typeof t?t:0}}{const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}}return t}function w(e){return v(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}const S=()=>"undefined"!=typeof window?window:void 0;function C(e,t){return e&&t?function(e,t){if(v(t)&&document.documentElement){const t=document.documentElement,n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}{const n=w(t),i=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:i.top+n.top-r.top,left:i.left+n.left-r.left}}}(e,t):{top:0,left:0}}function T(e,t){const n=w(e);return{left:n.left-t.left,top:n.top-t.top}}const I={Masonry:{overflowAnchor:"none"}};function E({items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:r,onLayoutUpdated:c,initialLayout:d,virtualize:u,virtualOverscan:h,scrollContainer:p,scrollTracker:b}){const[f,g]=Object(i.useState)(),y=Object(i.useCallback)(e=>{e&&e!==f&&g(e)},[f]),{scrollContainerSize:v,scrollPosition:w}=function({scrollContainer:e=S(),scrollChild:t,scrollingResetTimeInterval:n=150,serverSize:r={width:0,height:0}}){const[a,s]=Object(i.useState)(()=>C(t,e));x(()=>{const n=C(t,e);s(n)},[t,e]);const[c,l]=Object(i.useState)(!1),[d,u]=Object(i.useState)(()=>_(e,r)),[h,p]=Object(i.useState)(()=>e?T(e,a):{left:0,top:0});x(()=>{if(e){const t=T(e,a);p(t)}},[e,a.top,a.left]),x(()=>{e&&u(_(e,r))},[e,r.width,r.height]);const b=Object(i.useCallback)(()=>{u(_(e,r)),s(C(t,e))},[t,e,r]);Object(i.useEffect)(()=>(o.a.sharedInstance.addResizeListener(e,b),()=>{e&&o.a.sharedInstance.removeResizeListener(e,b)}),[e,b]);const m=Object(i.useCallback)(O()((e,t)=>{const n=C(e,t);a.top===n.top&&a.left===n.left||s(n)},1e3),[C,s,a,1e3]),f=Object(i.useCallback)(()=>{e&&(m(t,e),p(T(e,a)),l(!0))},[t,e,T,p,l,a,m]),g=Object(i.useCallback)(()=>l(!1),[]);return Object(i.useEffect)(()=>(e&&j.sharedInstance.registerScrollListener(e,{scrollingResetTimeInterval:n,handleScroll:f,handleScrollEnded:g}),()=>{e&&j.sharedInstance.unregisterScrollListener(e)}),[e,n,f,g]),{scrollContainerSize:d,scrollPosition:h,isScrolling:c}}({scrollContainer:p,scrollChild:f});Object(i.useEffect)(()=>{b&&p&&v&&b.handleContainerResized(v)},[v.width,v.height]),Object(i.useEffect)(()=>{b&&p&&w&&b.handleContainerScrolled(w)},[w.top,w.left]);const[E,k]=Object(i.useState)({width:0,height:0});return Object(a.jsx)("div",{className:l()("Masonry",{"Masonry-Premount":!f}),style:I.Masonry,ref:y,children:Object(a.jsx)(s,{disableHeight:!0,onResize:k,children:Object(a.jsx)(m,{items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:r,onLayoutUpdated:e=>{c&&c(e),b&&p&&b.handleLayoutUpdated(e)},initialLayout:d,scrollContainerSize:v,scrollPosition:w,contentContainerSize:E,virtualize:u,virtualOverscan:h})})})}class k{constructor({minCols:e=2,colWidth:t=250,gutter:n=20,flexible:i=false}={}){this.minCols=e,this.colWidth=t,this.gutter=n,this.flexible=i}static getColumnIndex(e){let t=0;for(let n=0;n<e.length;n+=1)e[n]<e[t]&&(t=n);return t}getColumnInfo(e){const{gutter:t,minCols:n}=this;let i=0,r=0;if(this.flexible){if(t)throw new Error("Flexible grid layouts do not support gutters.");e.width&&(r=Math.max(Math.ceil(e.width/this.colWidth),n),i=Math.floor(e.width/r))}else i=this.colWidth,e.width&&(r=Math.max(Math.floor((e.width+t)/(i+t)),n));return{width:i,count:r}}buildLayout(e){throw new Error("Subclasses must implement")}itemsToMeasureLimit({initialLayout:e,contentContainerSize:t}){return e?1/0:this.getColumnInfo(t).count||1/0}}class P extends k{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:o}=this.getColumnInfo(e),a=new Array(o).fill(0),s=new WeakMap;let c=!1;const l={width:0,height:0};t.forEach((e,t)=>{const r=n?n.getItemLayoutInfo(e):void 0;if(o>0&&null!=r&&r.size){const n=r.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");const o=P.getColumnIndex(a),c=a[o],d=c+(0===c?0:this.gutter),u=o*(i+this.gutter);s.set(e,{...r,size:{...n,width:i},position:{left:u,top:d},customIndex:t}),a[o]=d+n.height,l.width<u+n.width&&(l.width=u+n.width),l.height<d+n.height&&(l.height=d+n.height)}else s.set(e,{constraints:{width:i||void 0}}),c=!0});const d=new r(t,e=>s.get(e));return d.size=l,d.contentFilledSize={width:l.width,height:Math.min(...a)},d.isMeasuring=c,d}}class R extends k{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:o}=this.getColumnInfo(e),a=new WeakMap;let s=0,c=[],l=0,d=0,u=!1;const h={width:0,height:0};let p=0;for(let r=0;r<t.length;r+=1){const e=t[r],h=n?n.getItemLayoutInfo(e):void 0;if(o>0&&h&&h.size){const n=h.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");if(c[l%o]={item:e,itemLayoutInfo:h},n.height>d&&(d=n.height),c.length===o||r===t.length-1){for(let e=0;e<c.length;e+=1){const t=c[e],{size:n,constraints:o}=t.itemLayoutInfo;if(!n||!o)throw new Error("Row entries must already have sizes and constraints.");a.set(t.item,{size:{width:i,height:n.height},position:{left:e*(i+this.gutter),top:s},constraints:o,customIndex:r})}c.length===o&&(p=s+d),s+=d+this.gutter,c=[],d=0}l+=1}else a.set(e,{constraints:{width:i}}),u=!0}const b=new r(t,e=>a.get(e));return b.size=h,b.contentFilledSize={width:h.width,height:p},b.isMeasuring=u,b}}var L=n("dKiF");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=({containerSize:e})=>2*e.height;class B{constructor(e,t=D){A(this,"isMeasuring",!1),A(this,"isFetching",!1),A(this,"fetchMoreIfReady",O()(()=>{if(this.isMeasuring||this.isFetching)return;if(!this.scrollPosition||!this.containerSize||!this.layoutSize)return;const e="function"==typeof this.fetchOverscan?this.fetchOverscan({layoutSize:this.layoutSize,scrollPosition:this.scrollPosition,containerSize:this.containerSize}):this.fetchOverscan;this.layoutSize.height-this.scrollPosition.top-this.containerSize.height>=e||(this.isFetching=!0,this.fetchMore())},100)),this.fetchMore=e,this.fetchOverscan=t}handleLayoutUpdated(e){(!this.items||this.items&&this.items.length!==e.items.length)&&(this.isFetching=!1),this.layoutSize=e.size,this.isMeasuring=!!e.isMeasuring,this.items=e.items,this.fetchMoreIfReady()}handleContainerResized(e){this.containerSize=e,this.fetchMoreIfReady()}handleContainerScrolled(e){this.scrollPosition=e,this.fetchMoreIfReady()}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=({scrollContainerSize:e})=>.7*e.height;class F extends i.Component{static getDerivedStateFromProps({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:r}){return{layoutEngine:F.layoutOptionsToLayoutEngine({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:r})}}constructor(e){super(e),N(this,"fetchMore",()=>new Promise(e=>{const{items:t,loadItems:n}=this.props;"function"==typeof n?setTimeout(()=>{n({from:t.length}),e(!0)}):e(!1)})),N(this,"handleLayoutUpdated",e=>{const{measurementStore:t}=this.state;t.layout=e}),N(this,"renderItem",({item:e,index:t,isMeasuring:n,constraints:i})=>{const{comp:r}=this.props;return Object(a.jsx)(r,{data:e,itemIdx:t,isMeasuring:n,constraints:i})});const{minCols:t,columnWidth:n,gutterWidth:i,flexible:o,layout:s,measurementStore:c,items:l,loadItems:d,fetchBoundsOffset:u}=e,h=c||F.createMeasurementStore(),p=F.layoutOptionsToLayoutEngine({layout:s,minCols:t,columnWidth:n,gutterWidth:i,flexible:o});h.layout=new r(l,h.layout.getItemLayoutInfo);const b="function"==typeof d?new B(this.fetchMore,({containerSize:e})=>Math.max(0,2*e.height+u)):void 0;this.state={nonce:0,scrollTracker:b,layoutEngine:p,measurementStore:h}}updatePosition(){}reflow(){const{measurementStore:e}=this.state;e.layout=new r,this.setState(({nonce:e})=>({nonce:e+1}))}render(){const{getItemLayoutOptions:e,items:t,scrollContainer:n,virtualize:i}=this.props,{layoutEngine:r,measurementStore:o,nonce:s,scrollTracker:c}=this.state;return Object(a.jsx)(E,{items:t,renderItem:this.renderItem,getItemLayoutOptions:e,layoutEngine:r,scrollContainer:(l=n,l?"function"==typeof l?l():l:"undefined"!=typeof window?window:null),scrollTracker:c,onLayoutUpdated:this.handleLayoutUpdated,initialLayout:o.layout,virtualize:i,virtualOverscan:M},"Masonry-"+s);var l}}N(F,"createMeasurementStore",()=>({layout:new r})),N(F,"defaultProps",{columnWidth:236,fetchBoundsOffset:0,layout:"default",minCols:3,virtualize:!1}),N(F,"layoutOptionsToLayoutEngine",Object(L.c)(({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:r})=>new("uniformRow"===e?R:P)({minCols:t,colWidth:n,gutter:i,flexible:r})))},rYoy:function(e,t,n){var i=n("E8d4");t.a=i.a},rkUH:function(e,t,n){n.d(t,"a",(function(){return i}));const i=(e="",t="")=>{const n=t||window.location.search;e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}},rkcQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return v}));const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",c="WooCommerce",l="Weebly",d="Tealium",u="Magento",h="Squarespace",p="Ecwid",b="Bigcommerce",m={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},f={["Google Tag Manager"]:m.GOOGLE_TAG_MANAGER,[a]:m.SHOPIFY,[c]:m.WOO_COMMERCE,[s]:m.WORDPRESS,[h]:m.SQUARESPACE,[l]:m.WEEBLY,[d]:m.TEALIUM,[u]:m.MAGENTO,[p]:m.ECWID,[b]:m.BIG_COMMERCE},g={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},j={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},O={ATTRIBUTION_DESTINATION:"attributiondestination",ATTRIBUTION_EXPIRY:"attributionexpiry",ATTRIBUTION_REPORT_TO:"attributionreportto",ATTRIBUTION_SOURCE_EVENT_ID:"attributionsourceeventid"},x=2592e6,v={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},s7xj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("xweI"),r=n.n(i),o=n("yweb"),a=n("v/Q4"),s=n("n6mq"),c=n("qpbZ"),l=n("nKUr");function d(e){var t,n;const i=null!==(t=e.imageMediumUrl)&&void 0!==t?t:e.image_medium_url;return{name:null!==(n=e.fullName)&&void 0!==n?n:e.full_name,src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:i}){const u=Object(o.c)(),h=Object(a.a)(),p=i?[d(e.owner)]:function(e,t,n){const{collaborated_by_me:i,collaborating_users:o=[],owner:a}=e,s=[a];if(i||n){const e=o.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){const t=o.splice(e,1)[0];s.push(t)}else s.push(t)}const c=r()(o,"full_name");return[...s,...c]}(e,h,t).map(d),b=p.slice(0,3).map(e=>e.name);let m="";switch(p.length){case 3:m=Object(c.c)(""+u._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:""+b[0],second:""+b[1],last:""+b[2]});break;case 2:m=Object(c.c)(""+u._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:""+b[0],second:""+b[1]});break;default:m=b.join(", ")}const f=p.length>3?Object(c.c)(", "+u.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",p.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:m,leftCount:""+(p.length-3)}):Object(c.c)(", "+u._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators"),{userNames:m});return Object(l.jsx)(s.c,{accessibilityLabel:f,collaborators:p,size:n?"xs":"sm"})}},sEfC:function(e,t,n){var i=n("GoyQ"),r=n("QIyF"),o=n("tLB3"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,d,u,h,p,b=0,m=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(t){var n=c,i=l;return c=l=void 0,b=t,u=e.apply(i,n)}function y(e){return b=e,h=setTimeout(x,t),m?j(e):u}function O(e){var n=e-p;return void 0===p||n>=t||n<0||f&&e-b>=d}function x(){var e=r();if(O(e))return v(e);h=setTimeout(x,function(e){var n=t-(e-p);return f?s(n,d-(e-b)):n}(e))}function v(e){return h=void 0,g&&c?j(e):(c=l=void 0,u)}function _(){var e=r(),n=O(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return y(p);if(f)return clearTimeout(h),h=setTimeout(x,t),j(p)}return void 0===h&&(h=setTimeout(x,t)),u}return t=o(t)||0,i(n)&&(m=!!n.leading,d=(f="maxWait"in n)?a(o(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==h&&clearTimeout(h),b=0,c=p=l=h=void 0},_.flush=function(){return void 0===h?u:v(r())},_}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),r=n("Nle8"),o=n("tVBo"),a=n("0nTG"),s=n("Y8Sn"),c=n("U4JR"),l=n("7jH2"),d=n("nKUr");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:h,viewType:p}){const[b,m]=Object(i.useState)(),[f,g]=Object(i.useState)(),{id:j,tracked_link:y,link:O}=n,x=y||O||"",v=()=>{m(!0)},_=Object(l.d)(Object(l.r)({pin:n})),w=Object(i.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(r.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:j,...u||{},...Object(a.f)(e)||{}})};return Object(o.a)(i)})(n,x,!1).callGet({showError:!1}).then(e=>{e&&(Object(c.b)(12,{clickthrough_type:"rightClick",objectId:j,view:p,viewParameter:_,...u||{},...Object(a.f)(n)||{}}),Object(c.b)(8948,{click_type:"clickthrough",closeup_navigation_type:h&&Object(s.k)(h)?"deeplink":"click",clickthrough_type:"rightClick",view:p,objectId:j,viewParameter:_,...u||{},...Object(a.f)(n)||{}}))})}),S=e=>{var t;b&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(w(),m(!1)),window.removeEventListener(f,S,!1))};return Object(i.useEffect)(()=>{var e,t,n,i,r,o;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?g("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?g("msvisibilitychange"):void 0!==(null===(r=window)||void 0===r||null===(o=r.document)||void 0===o?void 0:o.webkitHidden)&&g("webkitvisibilitychange")},[]),Object(i.useEffect)(()=>(b&&window&&window.addEventListener(f,S,!1),()=>window.removeEventListener(f,S)),[b,f]),Object(i.useEffect)(()=>(t&&window.addEventListener("contextmenu",v),()=>{window.removeEventListener("contextmenu",v)}),[t]),Object(d.jsx)(i.Fragment,{children:e})}},tF4D:function(e,t,n){},tLB3:function(e,t,n){var i=n("jXQH"),r=n("GoyQ"),o=n("/9aa"),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},tTP9:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("Ye/N"),r=n("n6mq");var o=n("pLLR"),a=n("nKUr");const s=()=>{};function c({direction:e,handleNavHoverToggle:t,leftHover:n,onScroll:c,rightHover:l,shouldPadArrows:d,size:u="md"}){const h=Object(o.d)().isRTL,p=function({direction:e,isRTL:t,leftHover:n,rightHover:r,shouldPadArrows:o,verticalSize:a}){const s=o||n?"darkGray":"gray",c=o||r?"darkGray":"gray",l={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},d={color:"darkGray",height:"40px",justifyContent:"center",left:void 0,right:void 0},u={sm:"52px",md:"124px"};return{up:{...d,backgroundImage:"linear-gradient(#fff 0%, rgba(255, 255, 255, 0) 90%)",bottom:void 0,icon:"arrow-up",label:i.a._("Up arrow","product.carousel.arrowUp","Label for up arrow button in closeup image carousel"),top:"0px",width:u[a]},down:{...d,backgroundImage:"linear-gradient(rgba(255, 255, 255, 0) 0%, #fff 90%)",bottom:"0px",icon:"arrow-down",label:i.a._("Down arrow","product.carousel.arrowDown","Label for down arrow button in closeup image carousel"),top:void 0,width:u[a]},left:{...l,color:s,icon:t?"arrow-forward":"arrow-back",justifyContent:"start",label:i.a._("Left arrow","Label for left arrow button in search guides","Label for left arrow button in search guides"),left:"0px",right:void 0,width:t?"22px":"210px"},right:{...l,color:c,icon:t?"arrow-back":"arrow-forward",justifyContent:"end",label:i.a._("Right arrow","Label for right arrow button in search guides","Label for right arrow button in search guides"),left:void 0,right:"0px",width:t?"22px":"210px"}}}({direction:e,isRTL:h,leftHover:n,rightHover:l,shouldPadArrows:d,verticalSize:u});return Object(a.jsx)(r.f,{position:"absolute",height:p[e].height,dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:p[e].top,bottom:p[e].bottom,left:p[e].left,right:p[e].right}},children:Object(a.jsx)(r.f,{display:"flex",alignItems:"center",width:p[e].width,dangerouslySetInlineStyle:{__style:{backgroundImage:p[e].backgroundImage,marginTop:d?"25px":void 0}},justifyContent:p[e].justifyContent,height:"100%",children:Object(a.jsx)("button",{onMouseEnter:t?()=>t(e,!0):s,onMouseLeave:t?()=>t(e,!1):s,onClick:c,className:"SearchImprovementsBar-ArrowButton",children:Object(a.jsx)(r.f,{display:"flex",alignItems:"center",width:"50px",justifyContent:p[e].justifyContent,height:"100%",children:Object(a.jsx)(r.w,{accessibilityLabel:p[e].label,color:p[e].color,icon:p[e].icon})})})})})}},tVBo:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("eOdZ");function r(e){return i.a.create("ApiResource",{url:"/v3/offsite/",data:e})}},tuD4:function(e,t,n){function i(e){const t=e.split("/");return[t[2],t[1]]}function r(e,t){return!e||!e.some(e=>e.pin_type===t)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},uOCL:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("TgLd"),r=n("yweb"),o=n("n6mq"),a=n("nKUr");function s({error:e,onHide:t}){const n=Object(r.c)(),s=n._("Oops!");return Object(a.jsx)(i.b,{accessibilityModalLabel:s,role:"alertdialog",heading:s,onDismiss:t,size:"sm",footer:Object(a.jsx)(o.f,{display:"flex",justifyContent:"center",children:Object(a.jsx)(o.g,{color:"red",onClick:t,size:"lg",text:n._("Okay")})}),children:Object(a.jsx)(o.f,{paddingX:8,children:Object(a.jsx)(o.bb,{align:"center",children:e.message})})})}},uXiN:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),r=n("nKUr");function o(e,t){return e||("transparent"===t?"rgba(0, 0, 0, 0.06)":"red"===t?"rgba(207, 0, 31, 1)":"darkGray"===t?"#333333":"rgb(226, 226, 226)")}function a(e){const{active:t=!1,borderRadius:n,children:a,focused:s=!1,justBgFocused:c=!1,hovered:l=!1,rounding:d,hoverBgColor:u,bgColor:h="transparent",size:p="lg"}=e,b=t?{backgroundColor:"transparent"===h?"rgba(0, 0, 0, 0.1)":"rgb(218, 218, 218)"}:null,m=!l||s||t?null:{backgroundColor:o(u,h)},f=s?{backgroundColor:o(u,h),outline:"0",...c?{}:{boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)"}}:null;let g;if("circle"===d)switch(p){case"xs":g=24;break;case"sm":g=32;break;case"md":g=40;break;case"lg":g=48;break;case"xl":g=56;break;default:g=48}const j=g,y={backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)",red:"#e60023",darkGray:"#111111"}[h],...m,...b,...f,...n?{borderRadius:n}:{}};return Object(r.jsx)(i.f,{rounding:d,dangerouslySetInlineStyle:{__style:y},height:g,width:j,children:a})}},udob:function(e,t,n){var i=n("LqyK"),r=n("d7ng"),o=n("4dcN"),a=n("zwad"),s=n("mBfy");const c={};c.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},c.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),s.default.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};var l=c;const d={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){o.a.trackEvent("share_line","click");const t=d._getWindowUrl(e.share_path,e.share_text);l.open(t,d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>a.a.appendQueryString("https://social-plugins.line.me/lineit/share",{url:e?Object(r.a)(e):void 0,text:t})};var u=d,h=n("eOdZ");const p={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";o.a.trackEvent(t,"click");const n=p._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>a.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(r.a)(e):void 0,text:t||void 0})};var b=p;const m={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,r=null==e.invite_category?3:e.invite_category,o=e.object_id;return h.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:n,invite_channel:i},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:e=>m.createShareInviteData(e).then(t=>(m._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return h.a.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}{const r=e.object_id;return h.a.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}},logShareInvite(e,t){t&&m._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>m.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&m._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then(n=>{const i=n.invite_url,r=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),i&&b.openDialog({tweet_path:i,tweet_text:o}),m._logShareInvite(e,r),Promise.resolve(n)},e=>Promise.reject(e))},shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then(n=>{const i=n.invite_url,r=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),o||(o=n.title),i&&u.openDialog({share_path:i,share_text:o}),m._logShareInvite(e,r),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>m.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&m._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=m},uhAL:function(e,t,n){function i(e,t,n){return Object.keys(e).reduce((n,i)=>n+Math.abs(e[i]-t[i]),0)<=n}function r({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:r,scaledHeight:o}){return{x:e/r,y:t/o,w:n/r,h:i/o}}function o({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:r,scaledHeight:o}){return{h:Math.floor(i*o),w:Math.floor(n*r),x:Math.floor(e*r),y:Math.floor(t*o)}}function a({cropArea:{x:e,y:t,w:n,h:i},cropSource:r,searchQuery:o,entrySource:a,trafficSource:s,imageSignature:c}){const l=[];e>=0&&t>=0&&n>=0&&i>=0&&l.push("x="+e,"y="+t,"w="+n,"h="+i),r&&l.push("cropSource="+r),a&&l.push("entrySource="+a),o&&l.push("q="+o),c&&l.push("imageSignature="+c),s&&"unknown"!==s&&l.push("rs="+s);return l.length?"?"+l.join("&"):""}function s({cropArea:e,cropSource:t,entrySource:n,isUnified:i,imageSignature:r,pinId:o,searchQuery:s,trafficSource:c,view:l}){return`/pin/${o}/${i?"related-products":"visual-search"}/${i||"products"!==l?"":"products/"}${a({cropArea:e,cropSource:t,entrySource:n,trafficSource:c,searchQuery:s,imageSignature:r})}`}function c(e){return e.filter(e=>e.is_stela)}function l(e){return e.filter(e=>!!e.label)}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}))},"ut/Y":function(e,t,n){var i=n("ZCpW"),r=n("GDhZ"),o=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},uza4:function(e,t,n){n.r(t),n.d(t,"default",(function(){return O}));var i=n("q1tI"),r=n("/MKj"),o=n("clxp"),a=n("EC51"),s=n("eOdZ"),c=n("rYoy"),l=n("4cpq"),d=n("M1Uz"),u=n("yweb"),h=n("lnbv"),p=n("vvax"),b=n("U4JR"),m=n("nGHF"),f=n("IzXe"),g=n("n6mq"),j=n("nKUr");const y=Object(i.lazy)(()=>n.e(343).then(n.bind(null,"aV6n")));function O({handleComplete:e,isNag:t}){const n=Object(u.c)(),[O,x]=Object(i.useState)(!1),v=Object(r.useDispatch)(),{showOneToast:_}=Object(m.b)();Object(i.useEffect)(()=>{Object(b.b)(13,{component:13716,view:474})},[]);return Object(j.jsxs)(g.f,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:t?2:0,children:[Object(j.jsxs)(g.f,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:t?0:6,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,children:[Object(j.jsx)(g.f,{display:"flex",marginEnd:0,smMarginEnd:7,children:Object(j.jsxs)(g.bb,{children:[n._("We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.","homeFeed.cookiesConsentBanner.bannerText","Banner description about why we use cookies")," ",Object(p.b)(n._("Read our {{ cookiePolicyLink }} for more information.","homeFeed.cookiesConsentBanner.readCookiePolicyText",'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:Object(j.jsx)(g.bb,{inline:!0,weight:"bold",children:Object(j.jsx)(a.a,{href:f.a,inline:!0,target:"blank",children:n._("cookie policy","homeFeed.cookiesConsentBanner.cookiePolicyLink","Cookie policy link")},"cookie-policy-link")})})]})}),Object(j.jsxs)(g.f,{alignItems:"center",display:"flex",direction:"row",flex:"none",justifyContent:"center",mdDirection:"row",smDirection:"column",marginTop:4,smMarginTop:0,children:[Object(j.jsx)(g.g,{accessibilityLabel:n._("Manage cookies","homeFeed.cookiesConsentBanner.editButtonLabel","Button that let user choose cookies preference"),onClick:()=>{Object(b.b)(101,{component:13716,element:11986}),x(!0)},size:"lg",text:n._("Manage cookies","homeFeed.cookiesConsentBanner.editButton","Button that let user choose cookies preference")}),Object(j.jsx)(g.f,{marginStart:2,mdMarginTop:0,smMarginTop:2,children:Object(j.jsx)(g.g,{accessibilityLabel:n._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButtonLabel","Button that let user to opt-in on all optional cookies"),color:"red",onClick:()=>{Object(b.b)(101,{component:13716,element:11984}),s.a.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}).callUpdate().then(()=>{v(Object(h.a)()),_(({onHide:e})=>Object(j.jsx)(d.a,{duration:f.b,onHide:e,text:n._("We saved your cookie preferences. You can change them in the settings section of your profile at any time.","homeFeed.cookiesConsentBanner.acceptedAllToastText","Success message after accepting all optional cookies")})),e()})},size:"lg",text:n._("Accept all","homeFeed.cookiesConsentBanner.acceptAllButton","Button that let user to opt-in on all optional cookies")})})]})]}),O&&Object(j.jsx)(o.a,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:Object(j.jsx)(c.a,{children:Object(j.jsx)(l.a,{id:"settings-modal",children:Object(j.jsx)(y,{closeModal:()=>x(!1),handleComplete:e})})})})]})}},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("/MKj");function r(){return Object(i.useSelector)(({viewer:e})=>e)}},"v4/M":function(e,t){e.exports="https://s.pinimg.com/webapp/coily-13037c56.svg"},vVEi:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return _}));var i=n("/MKj"),r=n("OWXb"),o=n("nGHF"),a=n("q1tI"),s=n("4jWr"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){const e=Object(c.c)();return Object(d.jsx)(l.f,{display:"flex",justifyContent:"around",overflow:"hidden",children:Object(d.jsx)("div",{className:"boardBlockingActionToastWhiteSpinner",children:Object(d.jsx)(l.w,{accessibilityLabel:e._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})})})}class p extends a.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,s.a)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:n}}=this.props,i="completed"===t;switch(e){case"create_section":return i?this.props.i18n._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):this.props.i18n._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return n?i?this.props.i18n._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):this.props.i18n._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):i?this.props.i18n._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):this.props.i18n._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return n?i?this.props.i18n._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):this.props.i18n._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):i?this.props.i18n._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):this.props.i18n._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return n?i?this.props.i18n._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):this.props.i18n._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):i?this.props.i18n._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):this.props.i18n._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const r="inProgress"===e?t.name+"...":t.name;return Object(d.jsx)("div",{style:Object(s.b)(n,i),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(d.jsx)(l.eb,{text:Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(l.bb,{children:this.firstLine}),Object(d.jsx)(l.bb,{weight:"bold",children:r})]}),thumbnail:"completed"===e?void 0:Object(d.jsx)(h,{})})})}}function b(e){const t=Object(c.c)();return Object(d.jsx)(p,{...e,i18n:t})}const m=2e3,f=5e3;const g=["merge","move_pins","create_section"];function j({blockingActions:e,actionType:t,boardId:n,sectionId:i}){return e.find(e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||g.includes(e.action_type)&&e.is_origin||e.board_id!==n||(i?i!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress))}let y=0;const O={};function x({check:e,checkDelay:t,checkInterval:n,onComplete:i}){const r="timeout"+y;y+=1;const o=()=>{const t=Date.now();e().then(e=>{const a=Date.now()-t;e?(i(),delete O[r]):O[r]=setTimeout(o,Math.max(1e3,n-a))}).catch(()=>{delete O[r]})};O[r]=setTimeout(o,t)}const v=(e,t,n,i)=>({onHide:r})=>{var o;return Object(d.jsx)(b,{actionType:t,actionStatus:e,duration:"inProgress"===e?m:2e3,location:{name:i?i.title:null!==(o=n.name)&&void 0!==o?o:"",isSection:!!i},onHide:r})};function _(e){function t(t){const n=Object(i.useDispatch)(),{showToast:a}=Object(o.b)();return Object(d.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:i})=>{a(v("inProgress",e,t,i)),x({check:()=>n(Object(r.a)(t.id)).then(n=>!j({blockingActions:n,actionType:e,boardId:t.id,sectionId:i&&i.id})),checkDelay:m,checkInterval:f,onComplete:()=>a(v("completed",e,t,i))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("n6mq"),r=n("XLg/"),o=n("nKUr");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=r.a,visibility:s}){return"none"!==s&&e?Object(o.jsx)(i.f,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vpxy:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("9WJf"),a=n("ynlw"),s=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:r,rich_summary:o,title:c}=t,{isOwnPin:l,isPromoted:d}=Object(a.a)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(d){if(s.a.includes(n))return r||"";if(l&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=o&&"mobile application"!==o.type_name&&o.display_name;return c||t||r||""}return r||""}const l=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n("N89m"),u=n("EPem");const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function p({attributionOption:e,board:t,contentType:n,feedbackData:i,feedbackType:r,hasCarouselData:o,isGroupBoard:s,isOwnBoard:l,pin:p,showImageOnly:b,showNativeReactions:m,showPromotedShoppingPrice:f,surface:g,viewer:j}){var y;const{isPromoted:O,isSponsored:x}=Object(a.a)(p),{promoter:v,pin_note:_}=p,w=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:r,surface:o}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(h.includes(o))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||r?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o)&&"hide"===e?d:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:s,pin:p,showImageOnly:b,surface:g}),S=b?"":c({isGroupBoard:s,pin:p,surface:g}),C=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(g)&&!O&&!b&&Boolean(Object(d.a)(p,g)),T="ShoppingWishlist"===g,I="BaseBoardPinGrid"===g&&_?null===(y=_.text)||void 0===y?void 0:y.trim():null,E=O,k="shopping"===n,P=/ShoppingSquareGridRelatedProducts/.test(g);let R=2;O?R=3:(C||"none"!==w)&&(R=k||P?2:1);let L,A,D,B;if(k||(O&&P||f)){var N,M;const e=null===(N=p.rich_summary)||void 0===N||null===(M=N.products)||void 0===M?void 0:M[0],{offer_summary:t}=e||{};L=t?t.standard_price:void 0,A=t?t.price||t.max_price:void 0}if(k&&!O){var F,U,z;const{rating_count:e,rating_value:t,review_count:n}=(null===(F=p.rich_summary)||void 0===F?void 0:F.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(D={count:e||n,rating:t}),B=null===(U=p.rich_metadata)||void 0===U||null===(z=U.products)||void 0===z?void 0:z[0].shipping_info}const H=Object(u.e)(p,j),q="CreatorProfileStoryPinGrid"!==g&&"CreatorProfileActivityPinGrid"!==g,G=s&&!x;return{attributionType:w,board:t,contentType:n,feedbackData:i,feedbackType:r,isDarkPromoter:!O&&!!v,pinNoteText:I,pinTitle:S,productCurrentPrice:A,productOriginalPrice:L,productRating:D,productShipping:B,showCarouselEllipsis:o,showFavoriteButton:"BaseBoardPinGrid"===g&&l||Boolean(null==t?void 0:t.should_show_board_activity),showGroupBoardAvatar:G,showNativeReactions:m,showOverflowMenu:E,showPinStats:H,showSource:C,showTextContent:q,showVisitSiteButton:T,titleLines:R}}var b=n("JW66"),m=n("jgRP"),f=n("QLqj"),g=n("XPo3"),j=n("mVz+");const y=["ShoppingCatalogsProductsMetadata"];var O=n("8A+h"),x=n("clxp");const v={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var _=n("Xuu2"),w=n("PzwE"),S=n("WUYR"),C=n("Zygf");var T=n("rYoy"),I=n("v/Q4"),E=n("nuuT"),k=n("gC5q"),P=n("T5j3"),R=n("Y8Sn"),L=n("ENhS"),A=n("gD/Z"),D=n("g5OB"),B=n("W5T3"),N=n("QAzJ"),M=n("0S8y"),F=n("nKUr");const U=Object(i.lazy)(()=>Promise.all([n.e(340),n.e(156),n.e("ChangeBoardModalCommon")]).then(n.bind(null,"2tul"))),z=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],H=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],q=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"],G=["BaseBoardPinGrid","UserProfilePinGrid",...E.a];t.a=Object(r.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:r}){const o=n[r]||i,a=o.board&&o.board.id,s=(a?t[""+a]:void 0)||o.board;return o.grid_title=o.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:o}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,debugImpressionState:d,feedbackOptions:h,imageOnlyOption:E="default",isSocialSeasonalBoard:W,pinImageCrop:V,pinImageFit:K,reduxPin:Y,resolution:X="default",saveButtonOptions:$,shouldShowFooter:Q=!0,surface:Z,trackingParameters:J,...ee}){var te;const{collaborated_by_me:ne,collaborator_count:ie,is_collaborative:re}=n||{},{pinner:oe,showFeedback:ae,sponsorship:se}=Y,ce=Object(C.a)(Y),le=Object(I.a)(),{slotIndex:de,viewParameter:ue}=J,{anyEnabled:he}=Object(N.c)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(Z)),pe=Object(r.useSelector)(({ui:e})=>e.views),be=Object(r.useSelector)(({ui:e})=>e),me=be.app?be.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},fe=Object(R.j)(Y.id,me),ge=Object(r.useSelector)(({changeBoardFromToast:e})=>e)||{},je=Object(S.a)(Y),ye=Object(w.a)(Y)||je,Oe=le.isAuth&&le.isEmployee,xe=le.isAuth&&(Object(M.c)({user:le})||Object(M.d)({user:le}))&&!le.isPartner;let ve=xe;"TodayArticleFeed"===Z&&(ve=!1),"default"!==E&&(ve="image-only"===E),function(e){return s.c.includes(e)}(Z)&&(ve=!1),"ShoppingSquareGridDomainNoMetadata"===Z&&(ve=!0);let _e=t;xe&&!_e&&(_e="image-only");const we=Object(_.a)({feedbackOptions:h,pin:Y,viewParameter:ue}),{data:Se}=h||{},Ce="number"==typeof ie&&ie>0||re,Te=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=v[t];return!!n&&"dense"===e[n]}(pe,Z),Ie=Boolean(Ce&&"BaseBoardPinGrid"===Z),Ee=Object(O.a)(le,n),ke=Boolean(le.isAuth&&oe&&oe.id===le.id),Pe=Boolean(ne||Ce&&Ee),Re=le.isAuth&&le.isPartner,Le=Y.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==Z,Ae=Object(i.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:r,isQuickPromotable:o,isRemovable:a,saveButtonOptions:c,surface:l,viewer:d,viewerIsCollaborator:u}){const h=d.isAuth?d.boardCount:void 0;let p=c||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(h);return o?p={type:"promote"}:(u||r||["OtherProfilePinGrid","UserProfilePinGrid"].includes(l))&&"BoardlessPins"!==l&&(p={type:"classic"}),i&&(p={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===l}),(a||y.includes(l))&&(p={type:"none"}),{board:e,derivedSaveButtonOptions:p,showLikeButton:u&&n&&s.d.includes(l),supportsReactionBar:!t}}({board:n,isInlineBetterSave:he,isDenseView:Te,isGroupBoard:Ie,isOwnBoard:Ee,isOwnPin:ke,isQuickPromotable:Le,isRemovable:ce,saveButtonOptions:$,surface:Z,viewer:le,viewerIsCollaborator:Pe}),[n,he,Te,Ie,Ee,ke,Le,ce,$,Z,le,Pe]),{isPromoted:De}=Object(a.a)(Y),{group:Be}=Object(N.b)("web_shopping_grid_labels")({dangerouslySkipActivation:!0}),{anyEnabled:Ne}=Object(N.b)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0}),Me=["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"];let Fe;[...Me,"ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(Z)&&!De&&(Ne&&Me.includes(Z)?Fe="white":["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Be)?Fe="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Be)&&(Fe="white"));const Ue=Object(i.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:je,shoppingLabelColor:Fe,surface:Z}),[je,Fe,Z]),ze=ye,He=Object(i.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:r,isOwnBoard:s,pin:d,surface:u}){var h;const{isOwnPin:p,isPromoted:b}=Object(a.a)(d),m=c({isGroupBoard:r,pin:d,surface:u}),f=e&&Object(o.a)({action:4,board:e})||p,g=d.savedInfo&&d.savedInfo.localPinId,j=Boolean(s&&!r||"UserProfilePinGrid"===u&&f||g),y=r&&f||j,O=Boolean((null==e?void 0:e.is_collaborative)||j),x=!(b||s||r||l.includes(u)),v="CloseupRelatedProducts"!==u,{tracked_link:_,link:w}=d,S=!(null===(h=null!=_?_:w)||void 0===h||!h);let C=r&&i?"equally-spaced":"default",T="default";return i&&(T=r?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(T="icon-only",C="equally-spaced"),{actionBarEditBeforeShare:O,feedbackData:t,feedbackType:n,layout:C,pinTitle:m,showEditButton:y,showOverflowMenu:x,showShareButton:v,showSourceLinkButton:S,sourceLinkStyle:T}}({board:n,feedbackData:Se,feedbackType:we,isDenseView:Te,isGroupBoard:Ie,isOwnBoard:Ee,pin:Y,surface:Z}),[n,Se,we,Te,Ie,Ee,Y,Z]),qe=Object(u.e)(Y,le)&&G.includes(Z),Ge=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"].includes(Z),We=!De&&Ge?"shopping":"standard",Ve=Object(P.c)(Y),Ke=Object(i.useMemo)(()=>p({attributionOption:_e,board:n,contentType:We,feedbackData:Se,feedbackType:we,hasCarouselData:ye,isGroupBoard:Ie,isOwnBoard:Ee,pin:Y,showImageOnly:ve,showNativeReactions:Ve,showPromotedShoppingPrice:Ne&&De&&Ge,surface:Z,viewer:le}),[_e,n,We,Se,we,ye,Ie,Ee,De,Ge,Y,Ne,ve,Ve,Z,le]),Ye=Boolean(Ke.pinTitle)||Ke.contentType||Ke.userNote||Ke.showSource||"none"!==Ke.attributionType||Ke.showNativeReactions||Ke.productCurrentPrice||Ke.productOriginalPrice||Ke.showPinStats;let Xe=Q&&(Ye||Ie);"BaseBoardPinGrid"===Z&&Ee&&Re||se?Xe=!0:z.includes(Z)||Te&&(Ee||ne)||W?Xe=!1:ke||"CreatorProfileStoryPinGrid"!==Z&&"CreatorProfileActivityPinGrid"!==Z||(Xe=!1);const $e=Boolean(ae),Qe=Object(N.b)("web_others_board_feed_ads_border"),Ze={showNoPinBorderRadius:"TopicBestPinNarrow"===Z||"TopicBestPinWide"===Z,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===Z&&De&&Qe().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:Je}=Object(N.c)("hfp_homefeed_control_cta_variants"),et={feedbackType:we,isHomefeedTunerVariantExp:Je},{anyEnabled:tt}=Object(N.b)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),nt=Object(i.useMemo)(()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:r,pinImageFit:o,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:j.a,width:j.b}:"TopicBestPinWide"===c?l={height:g.h,width:g.i}:"TopicBestPinNarrow"===c?l={height:g.b,width:g.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"].includes(c)?l={height:j.i,width:j.i}:r&&(l=r);const d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"].includes(c);let u="none";"string"!=typeof l&&(u="cover",(d||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!o||"ShoppingSquareGridDomainNoMetadata"===c)&&(u="contain"));const h=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(c)?"transparent":"dominant",p=Object(m.a)(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===f.c.getItem(b.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:u,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:p,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}({hasCarouselData:ye,isDenseView:Te,isPromoted:De,isSocialSeasonalBoard:W,pinImageCrop:V,pinImageFit:K,resolution:X,showPromotedVideos:tt,surface:Z}),[ye,Te,De,W,V,K,X,tt,Z]),it=Oe&&Object(B.a)(),rt=Object(i.useMemo)(()=>({debugImpressionState:d,slotIndex:de}),[d,de]);return Object(F.jsx)(x.a,{name:"PinRepConfiguration",children:Object(F.jsx)(A.a,{value:J,children:Object(F.jsxs)(L.a,{value:{surface:Z},children:[Object(F.jsx)(D.b,{actionBarProps:He,blockClickEvents:e,currentlyPlayingVideo:fe,footerProps:Ke,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(Z)||"BoardMoreIdeasTabContent"===Z,impressionsDebuggerProps:rt,obscuredPinOverlayProps:et,pin:Y,pinVisualProps:nt,presentationProps:Ze,primaryContentProps:Ae,secondaryContentProps:Ue,showAccessoryContent:ze,showActionBar:!q.includes(Z),showFooter:Xe,showImpressionsDebugger:it,showObscuredPinOverlay:$e,showPrimaryAndSecondaryContent:!H.includes(Z),showSeeStatsButton:qe,showSignalDebugger:Oe,surface:Z,...Object(k.b)(ee,["pinId"])}),ge.shouldOpenModal&&ge.newPin&&(null===(te=ge.originalPin)||void 0===te?void 0:te.id)===Y.id&&Object(F.jsx)(x.a,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:Object(F.jsx)(T.a,{children:Object(F.jsx)(U,{experience:ge.experience,newPin:ge.newPin})})})]})})})}))},vvax:function(e,t,n){var i=n("qpbZ");n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return i.a}))},w1Xl:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("7w6Q"),r=n("eOdZ"),o=n("yweb"),a=n("U4JR"),s=n("n6mq"),c=n("nKUr");function l(e){const t=Object(o.c)(),{identifier:n,onUndoHide:l,isGroupChat:d}=e,u=async()=>{const t=r.a.create("ShareSuggestionsHideResource",{user_identifier:n});await t.callDelete(),l(),(()=>{const{component:t,element:n}=e;Object(a.b)(101,{component:t,element:n}),i.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(c.jsxs)(s.f,{display:"flex",children:[Object(c.jsx)(s.f,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%",children:Object(c.jsx)(s.bb,{inline:!0,color:"gray",children:d?t._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):t._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(c.jsx)(s.f,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:Object(c.jsx)(s.g,{onClick:({event:e})=>{e.stopPropagation(),u()},text:t._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},w70y:function(e,t,n){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var i=n("q1tI"),r=n("/MKj"),o=n("lSCD"),a=n.n(o),s=n("hZxF"),c=n("EC67"),l=n("B9iM"),d=n("Wer7"),u=n("nKUr");const h={};function p({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:o,options:a,name:u,headers:p}){const{dispatch:b,lastOptionsKey:m,optionsKey:f}=Object(l.a)({options:a}),g=Object(i.useRef)(o),j=e=>(e[u]||h)[f]||h,{isPrefetch:y,nextBookmark:O,prefetchHasBeenRead:x}=Object(r.useSelector)(({resources:e})=>j(e.data)),v=Object(r.useSelector)(({resources:e})=>j(e.data).data),_=Object(r.useSelector)(({resources:e})=>j(e.data).auxData),w=Object(r.useSelector)(({resources:e})=>j(e.data).error),S=Object(r.useSelector)(({resources:e})=>Boolean((e.fetching[u]||h)[f])),C=Object(r.useSelector)(({resources:e})=>Boolean((e.data[u]||h)[f])),T=Object(c.h)(),I=T&&"POP"!==T.action,E=Boolean(C&&n&&I&&!o),[k,P]=Object(i.useState)(E);void 0===m.current&&C&&I&&e&&y&&!x&&!o&&b(Object(d.h)(u,a));const R=Object(i.useCallback)(()=>{o||b(Object(d.a)(u,a,p))},[o,b,p,u,f]),L=Object(i.useCallback)(()=>{o||b(Object(d.d)(u,a,p))},[o,p,u,f]),A=Object(i.useCallback)(()=>{o||(R(),P(!0))},[o,R,P]),D=Object(i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:L,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refresh:A});Object(s.a)(()=>{!1!==t&&C&&!E||R()}),Object(i.useEffect)(()=>{void 0!==m.current&&f!==m.current&&R(),m.current=f},[m,R,f]),Object(i.useEffect)(()=>{!0===g.current&&!1===o&&R(),g.current=o},[o,R]);const B={auxData:_,data:v,error:w,fetchMore:L,isAtEnd:C&&!S&&"-end-"===O,isFetching:S,isLoaded:C,isPrefetch:y,isRefreshing:k,nextBookmark:O,prefetchHasBeenRead:x,refresh:A};return Object(r.shallowEqual)(B,D.current)||(!k||!D.current.data&&E||Object(r.shallowEqual)(B.data,D.current.data)||(B.isRefreshing=!1,P(!1)),D.current=B),D.current}function b(e){const t=e.key;return function(n){function i(i){const{dangerouslyDisableFetch:r,options:o,key:s,...c}=e,l=p({...c,options:(a()(o)?o(i):o)||{},dangerouslyDisableFetch:!!r&&r(i)}),d={[t]:l};return Object(u.jsx)(n,{...i,...d})}return i.displayName=`withResource[${e.name}](${n.displayName||n.name||""})`,i.WrappedComponent=n,i}}},wdRm:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("KEt0"),o=n("oRao"),a=n("yweb"),s=n("vvax"),c=n("n6mq"),l=n("nKUr");function d({pinCount:e,sectionCount:t}){const n=Object(a.c)();return Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",children:[Object(l.jsx)(c.f,{overflow:"hidden",children:Object(l.jsx)(c.bb,{size:"sm",truncate:!0,children:Object(s.b)(n.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:Object(l.jsx)(o.a,{value:e},"pin_count")})})}),t?Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(r.a,{}),Object(l.jsx)(c.f,{display:"none",overflow:"hidden",smDisplay:"flex",children:Object(l.jsx)(c.bb,{inline:!0,size:"sm",truncate:!0,children:Object(s.b)(n.ngettext("{{ count }} section","{{ count }} sections",t,"label for n amount of sections","label for n amount of sections"),{count:Object(l.jsx)(o.a,{value:t},"section_count")})})})]}):null]})}},wm0H:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return h}));var i=n("/MKj"),r=n("w70y"),o=n("v/Q4"),a=n("nrog"),s=n("QAzJ");const c=0,l=1;function d(){const e=Object(o.a)(),t=!(!e.isAuth||!e.has_quicksave_board),n=Object(s.b)("web_curation_save_behavior");return{showEnabledSaveBehavior:t&&n().anyEnabled}}function u(e){var t;const n=Object(i.useDispatch)(),c=Object(o.a)(),l=c.isAuth&&!!c.boardCount&&c.boardCount<5,d=Object(s.b)("web_curation_save_behavior"),u=l&&e&&d().anyEnabled,h=Object(r.a)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:c.isAuth&&c.id},dangerouslyDisableFetch:!u||!e});return c.isAuth&&void 0===c.save_behavior&&h&&null!==(t=h.data)&&void 0!==t&&t.id&&n(Object(a.b)(h.data.save_behavior)),{showEnabledSaveBehavior:u}}function h(e){const t=Object(o.a)();let n;return e&&(t.save_behavior===c?n={type:"classic"}:t.save_behavior===l&&(n={type:"inline"})),{saveBehaviorType:n}}},wzxk:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("9Hsp");const r=e=>"string"==typeof e?e:"",o=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,a=(e,t)=>e?e.trim().length>t?Object(i.b)(e.trim(),t).trim():e.trim():"",s=(e,t)=>{const{grid_title:n}=e||{},{hasRichAttributionTitle:i,hasPlaceInfo:r}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),s=o(e),c=t?a(n,200):n;return c||(i?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:r?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&s?s:null)},c=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],r=n.map(e=>(t.annotations_with_links||{})[e]||{name:e,url:""});let o="";const a=(e.rich_metadata||{}).description||"",s=e.closeup_unified_description||"",c=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),l=a.toLocaleLowerCase().trim(),d=s.toLocaleLowerCase().trim();return s&&s.length>3&&d!==c?o=s:a&&a.length>3&&l!==c&&(o=a),o&&(o=Object(i.a)(Object(i.b)(o,496)).trim()),{description:o,vaseAnnotations:n,annotationsWithLinks:r}},l=(e,t,n,i)=>{const r=(n||[]).map(e=>e.name),o=e=>(e||[])[0]||null;return s(e,i)||o(t)||o(r)||e.title},d=(e,t,n)=>{const i=r(e);let o=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),a=r(t);n!==i.toLowerCase()&&n!==a.trim().toLowerCase()&&(o=e)}let a=n.visual_annotation;a&&(a=a.join(", "),o&&(o+=" "),o+=a)}return o}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},xUWj:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("w70y");const r=({boardId:e,ownerUsername:t,ownerName:n,ownerImgSrc:r})=>{const{data:o,isLoaded:a}=Object(i.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),s=[{name:n,src:r,href:`/${t}/`,isDim:!1}];return a&&o&&o.length>0&&o.forEach(e=>{s.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),s};function o({children:e,...t}){return e(r(t))}t.b=r},xZ6X:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{iconNode:t,title:n,subtitle:o,accessory:a}=e;return Object(r.jsxs)(i.f,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[Object(r.jsx)(i.f,{marginEnd:2,children:t}),Object(r.jsxs)(i.f,{display:"flex",flex:"grow",alignItems:"start",direction:"column",children:[Object(r.jsx)(i.bb,{color:"darkGray",size:"lg",truncate:!0,weight:"bold",children:n}),Object(r.jsx)(i.bb,{truncate:!0,size:"sm",color:"gray",children:o})]}),a&&Object(r.jsx)(i.f,{children:a})]})}},xfna:function(e,t,n){n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return L}));var i=n("q1tI"),r=n("EHyI");var o=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`},a=n("7w6Q"),s=n("LrH5"),c=n("ONNR");const l=Object(s.a)("LayoutShiftDebugger"),d=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&d(e.parentNode)||null;var u=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let i=[];const r=o(e)+".CLS";let s=0;const u=()=>{var e;s=null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():0};window.addEventListener("scroll",u),window.addEventListener("beforeunload",()=>window.removeEventListener("scroll",u)),Object(c.a)(({entries:e})=>{const r=t(),o=n(),a=e.slice(i.length);i=i.concat(a.map(e=>({shift:e,route:r,hadRecentNavigation:o>0&&o+500>e.startTime,hadRecentScroll:s>0&&s+500>e.startTime})))},!0);let h=0;const p=setInterval(()=>{if(i.length===h)return;const e=i.slice(h);h=i.length;let t=Object.freeze({});e.forEach(({shift:{value:e,sources:n},route:i,hadRecentNavigation:r,hadRecentScroll:o})=>{if(!n||!n.length)return;const a=e/n.length;n.forEach(({node:e})=>{const n=e?d(e)||"ROOT":"NODE_REMOVED",s={route:i,boundaryId:n,hadRecentNavigation:r,hadRecentScroll:o},c=JSON.stringify(s);t={...t,[c]:{score:((t[c]||{}).score||0)+a,tags:s}}})}),Object.keys(t).forEach(e=>{const{score:n,tags:i}=t[e];a.a.count(r+".shifts",(e=>Math.round(1e3*e))(n),1,{...i})});const n=e.reduce((e,{shift:{value:t}})=>e+t,0);l("Debug CLS boundaries",n,t,e)},1e3);window.addEventListener("beforeunload",()=>clearInterval(p))};var h=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}},p=n("gg0E"),b=n("SyXB"),m=n("FZ8N"),f=n("3/Bf"),g=n("+lzj"),j=n("HMdf");const y=()=>({current:0,entries:[],firstTs:Number.NEGATIVE_INFINITY,id:`v1-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,max:0,prevTs:Number.NEGATIVE_INFINITY});var O=e=>{let t,n=y();const i=()=>{"hidden"===document.visibilityState&&(void 0===t||n.max>t)&&(t=n.max,e({name:"CLS",value:n.max,delta:0,id:n.id,entries:n.entries}))},r=e=>{e.hadRecentInput||((e.startTime-n.firstTs>5e3||e.startTime-n.prevTs>1e3)&&(n.firstTs=e.startTime,n.current=0),n.prevTs=e.startTime,n.current+=e.value,n.max=Math.max(n.max,n.current),n.entries.push(e),i())},o=((e,t)=>{try{if(window.PerformanceObserver.supportedEntryTypes.includes(e)){const n=new window.PerformanceObserver(e=>e.getEntries().map(t));return n.observe({type:e,buffered:!0}),n}}catch(n){}return null})("layout-shift",r);var a;o&&((e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==document.visibilityState||e()};window.addEventListener("visibilitychange",t,!0),window.addEventListener("pagehide",t,!0)})(()=>{o.takeRecords().map(r),i()}),a=()=>{n=y(),t=void 0},window.addEventListener("pageshow",e=>{e.persisted&&a()},!0))},x=n("iMUD");const v=Object(s.a)("Vitals"),_={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},w=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_srcset_original_image","mweb_pin_page_ssr_lite"];case"board":return["mweb_unauth_ssr_board_page"];default:return[]}},S=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=Object(x.c)({annotateExperiments:w({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:_[t].LCP,pwtStaticContext:e}),i=Object(x.c)({name:_[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,i={},r=(r,s)=>{if(!i[r]){i[r]=!0;const c=o(e);if("LCPCount"===r){const n="enabled"===e.getExperimentGroup("mweb_pin_page_ssr_lite"),i=`${c}.${t}.${n?"mweb_pin_page_ssr_lite.":""}${r}`;a.a.count(i+".sum",s,1),a.a.increment(i+".size",1)}else a.a.timing(`${c}.${t}.${r}`,s,1),n&&n(r,s)}};Object(c.c)(({value:e})=>r("FID",(e=>Number(e.toFixed(2)))(e))),Object(c.d)(({value:e})=>{r("LCPCount",Object(g.d)()),r("LCP",(e=>10*Math.round(e/10))(e))}),Object(c.b)(({value:e})=>r("FCP",e))},C=e=>{const{isAuthenticated:t}=e,n=o(e)+".CLS";let i=null;O(({id:e,value:r})=>{const o=(s=r)<=.1?"good":s<=.25?"adequate":"poor";var s,c;i&&e===i.id?r>i.value&&(i.invalidation||(i={...i,invalidation:"score"},a.a.increment(n+".firstReportScoreWasInvalid",1,{bucket:i.bucket,isAuthenticated:t}),v("First record score was invalid")),"scoreAndBucket"!==!i.invalidation&&o!==i.bucket&&(i={...i,invalidation:"scoreAndBucket"},a.a.increment(n+".firstReportBucketWasInvalid",1,{bucket:i.bucket,isAuthenticated:t}),v("First record bucket was invalid"))):(i={id:e,value:r,bucket:o},a.a.timing(n+".firstRecordScore",(c=r,Math.ceil(100*c)),1),a.a.increment(n+".firstRecord",1,{bucket:o,isAuthenticated:t}),v("CLS report",r))})};var T=n("EC67"),I=n("nKUr");const E=Object(i.createContext)(null),k=Object(i.createContext)(null);function P({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:s}){const c=Object(i.useRef)(null),l=Object(i.useRef)(null),d=Object(i.useRef)(t),y=Object(i.useRef)(!0),{path:O}=Object(T.k)(),x=Object(i.useRef)(O),v=Object(r.a)(s.deviceType);if(Object(i.useEffect)(()=>{x.current=O},[O]),Object(i.useEffect)(()=>{if(Object(j.f)({size:n||1e3}),Object(g.f)(),Object(f.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(f.c)("not_supported.window.performance."+e)}):Object(f.c)("not_supported.window.performance"),window.PerformanceObserver||Object(f.c)("not_supported.window.PerformanceObserer"),Object(p.a)()||Object(f.c)("not_supported.grid_profiler"),y.current=!1,v&&!m.c&&((()=>{let e=0,t=0;const n={less25:0,less50:0,less100:0,less250:0,less500:0,less1K:0},i=i=>{const{timeStamp:r}=i,o=r-e;!e||o>=1e3?t+=1:o<25?n.less25+=1:o<50?n.less50+=1:o<100?n.less100+=1:o<250?n.less250+=1:o<500?n.less500+=1:n.less1K+=1,e=r};window.addEventListener("scroll",i),window.addEventListener("pagehide",()=>{a.a.count("pwtLogger.scrollSession.scrollSessionCount",t),Object.keys(n).forEach(e=>{const t=n[e];t&&a.a.count("pwtLogger.scrollSession.timeBetweenScrollCb."+e,t,1)}),window.removeEventListener("scroll",i)})})(),"Chrome"===s.browserName)){C(s),u({staticContext:s,getCurrentRoute:()=>x.current,getLastNavigationTime:()=>l.current||0});const e=h(O);e&&S({pwtStaticContext:s,surface:e})}},[]),d.current!==t){d.current=t,l.current=null!==(_=window.performance)&&void 0!==_&&_.now?window.performance.now():null;const{current:e}=l;if(!y.current){const t=!c.current;Object(f.c)("routeStart",{tags:{action:o}}),Object(j.a)(t),Object(g.a)(t),Object(g.b)(),Object(b.b)();const{customBufferSize:n,defaultBufferSize:i}=Object(j.e)();e&&(Object(f.c)("routeStart.customBufferSize",{count:n}),Object(f.c)("routeStart.defaultBufferSize",{count:i}),c.current={time:e,action:o})}}var _;return Object(I.jsx)(E.Provider,{value:v?s:null,children:Object(I.jsx)(k.Provider,{value:c.current,children:e})})}const R=()=>Object(i.useContext)(k),L=()=>Object(i.useContext)(E)},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:a}}}function r(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},"xkL+":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("viewer");function s(e){var t,n,i,r,o,a,s,c,l,d,u,h,p,b,m,f,g,j,y,O,x;return e&&e.id?{isAuth:!0,id:e.id,username:e.username,fullName:null!==(t=e.full_name)&&void 0!==t?t:"",firstName:null!==(n=e.first_name)&&void 0!==n?n:"",lastName:null!==(i=e.last_name)&&void 0!==i?i:"",email:null!==(r=e.email)&&void 0!==r?r:"",hasPassword:null!==(o=e.has_password)&&void 0!==o&&o,isEmployee:null!==(a=e.is_employee)&&void 0!==a&&a,isLimitedLogin:2===e.login_state,isPartner:null!==(s=e.is_partner)&&void 0!==s&&s,imageSmallUrl:null!==(c=e.image_small_url)&&void 0!==c?c:"",imageMediumUrl:null!==(l=e.image_medium_url)&&void 0!==l?l:"",imageLargeUrl:null!==(d=e.image_large_url)&&void 0!==d?d:"",imageXLargeUrl:null!==(u=e.image_xlarge_url)&&void 0!==u?u:"",profileDiscoveredPublic:null!==(h=e.profile_discovered_public)&&void 0!==h&&h,showDiscoveredFeed:null!==(p=e.show_discovered_feed)&&void 0!==p&&p,createdAt:null!==(b=e.created_at)&&void 0!==b?b:"",resurrectionInfo:e.resurrection_info&&e.resurrection_info.resurrection_dt?{resurrectionDate:e.resurrection_info.resurrection_dt}:void 0,country:null!==(m=e.country)&&void 0!==m?m:"",domainUrl:e.domain_url,domainVerified:e.domain_verified,isAnyWebsiteVerified:e.is_any_website_verified,verifiedWebsites:e.verified_user_websites,listedWebsiteUrl:null!==(f=e.listed_website_url)&&void 0!==f?f:"",gender:e.gender,customGender:e.custom_gender,firstHomeFeedRequestAfterNux:!1,partner:e.partner,socialNetwork:{facebook:{connected:!!e.connected_to_facebook},google:{connected:!!e.connected_to_google},youtube:{connected:!!e.connected_to_youtube},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:!!e.connected_to_microsoft},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:!!e.connected_to_etsy},instagram:{connected:!!e.connected_to_instagram},dropbox:{connected:!!e.connected_to_dropbox}},can_enable_mfa:null!==(g=e.can_enable_mfa)&&void 0!==g&&g,has_mfa_enabled:null!==(j=e.has_mfa_enabled)&&void 0!==j&&j,has_quicksave_board:e.has_quicksave_board,phone_country:null!==(y=e.phone_country)&&void 0!==y?y:"",phone_number:null!==(O=e.phone_number)&&void 0!==O?O:"",phone_number_end:null!==(x=e.phone_number_end)&&void 0!==x?x:"",third_party_marketing_tracking_enabled:void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}:{isAuth:!1,isLimitedLogin:!1}}t.b=a},"xs/l":function(e,t,n){var i=n("TYy9"),r=n("Ioao"),o=n("wclG");e.exports=function(e){return o(r(e,void 0,i),e+"")}},xweI:function(e,t,n){var i=n("XGnz"),r=n("alwl"),o=n("EA7m"),a=n("mv/X"),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=s},y5tp:function(e,t,n){const i={argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"debD"},{kind:"RootArgument",name:"query"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:r=["v3SearchUsersQuery","data","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:r},fragmentPathInResult:[],operation:n("OVpa")}},name:"UserSearchPagination_query",selections:[{alias:null,args:[{kind:"Variable",name:"debD",variableName:"debD"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:null,kind:"LinkedField",name:"v3SearchUsersQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"V3SearchUsersDataConnection",kind:"LinkedField",name:"__UserSearchPagination_data_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3SearchUsersDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"SearchResultUsersList"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SearchContainer_searchUsersConnection"}],storageKey:null}],type:"V3SearchUsersDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3SearchUsers",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null};var r;i.hash="b6a507c7249878125742d60cb8466df7",e.exports=i},y7hk:function(e,t,n){n.d(t,"b",(function(){return I}));var i=n("q1tI"),r=n("/MKj"),o=n("jmst"),a=n("d90F"),s=n("Vt0H"),c=n("vZlu"),l=n("Y8Sn"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=Object(o.a)(s.a);class p extends i.Component{constructor(...e){super(...e),u(this,"handleVisibilityChanged",e=>{const{pinId:t,isPromoted:n,setCurrentVideo:i,pauseAutoplay:r,videosAutoplaying:o,videoStartTime:a}=this.props,s=Object(l.j)(t,o);e&&!s?i({pinId:t,isPromoted:!!n,currentTime:a}):!e&&s&&r({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})}),u(this,"handleVideoTimeChange",e=>{const{pinId:t,videosAutoplaying:n}=this.props;Object(l.j)(t,n)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,pauseAutoplay:i,pinId:r,isPromoted:o,setCurrentVideo:a,videosAutoplaying:s}=this.props,c=Object(l.j)(r,s),d=Object(l.b)(r,s);this.currentVideoCurrentTime=null!=d?d:this.currentVideoCurrentTime,n!==t&&!n&&c?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:r,isPromoted:!!o,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:r,isPromoted:!!o,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){const{pinId:e,isPromoted:t,pauseAutoplay:n}=this.props;n({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){const{setCurrentVideo:e,pauseAutoplay:t,videoStartTime:n,videosAutoplaying:i,...r}=this.props;return Object(d.jsx)(a.a,{name:"ads_desktop_video_ads",activate:!1,children:({anyEnabled:e})=>Object(d.jsx)(h,{inAdsDesktopVideoExperiment:e,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!e,...r})})}}var b=Object(r.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,r=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:o,promotedVideosAutoplaying:a}=r,s=i?a[n]:o[n];return{appInFocus:e.ui.app.appInFocus,videosAutoplaying:r,videoStartTime:s?s.currentTime:null}},(e,t)=>({pauseAutoplay:t=>e(Object(c.a)(t)),setCurrentVideo:t=>e(Object(c.c)(t))}))(p),m=n("JW66"),f=n("1unC"),g=n("clxp"),j=n("ZP0o"),y=n("z7q0"),O=n("rYoy"),x=n("n6mq"),v=n("JRj3"),_=n("QLqj"),w=n("QAzJ"),S=n("/zJj"),C=n("7jH2");const T=Object(i.lazy)(()=>n.e("CloseupTagButtonCommon").then(n.bind(null,"mJyq"))),I=(e,t)=>!!(e.includes("below_15")&&t>=0&&t<=15e3)||(!!(e.includes("15_to_30")&&t>15e3&&t<=3e4)||(!!(e.includes("30_to_45")&&t>3e4&&t<=45e3)||(!!(e.includes("45_to_60")&&t>45e3&&t<=6e4)||!!(e.includes("above_60")&&t>6e4)))),E=({children:e,name:t})=>Object(d.jsx)(x.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"experimental-closeup-image-overlay-layer-"+t,left:!0,position:"absolute",right:!0,top:!0,children:e});t.a=({closeupIsFirstPageInHistoryStack:e,imageContainerRef:t,isWideVideo:n,pin:i,shouldPadImage:r,flyoutShareProps:o})=>{const a=Object(C.r)({pin:i}),{embed:s}=Object(C.j)(a)||{},{video:c}=Object(C.z)(a)||{},{hls:l={},hlsv3:u={},mp4:h={}}=c||{},p=l.duration||u.duration||h.duration||null,{group:k}=Object(w.b)("web_mp4_video_closeup")({dangerouslySkipActivation:!0}),P=!!p&&I(k,p),R=Object(w.b)("web_mp4_video_closeup"),L=P&&R().anyEnabled,{videos:A}=i,{video_list:D={}}=A||{};if(L){const e=Object(v.b)(D);e&&(c.mp4=e)}const B=s&&"gif"===s.type,{image564x:N={}}=Object(C.m)(Object(C.p)(a))||{},M=B?s.src:N.url,F=!!i.promoter&&!i.is_downstream_promotion,U=F&&!i.is_eligible_for_web_closeup,{access:z}=i||{},H=!!z&&z.includes("tag"),q=S.d-S.b,G=r?{maxWidth:{maxWidth:q},minWidth:{minWidth:q},height:{},borderRadius:16}:{},W="undefined"!=typeof window&&0===_.c.getItem(m.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),V=Object(d.jsxs)(y.a,{isVideo:!0,isWideVideo:n,shouldPadImage:r,styleOverrides:G,variant:"default",children:[Object(d.jsx)(x.f,{width:"100%",ref:t,children:Object(d.jsx)(b,{showControls:!0,autoplay:!W,customThumbnail:M,flyoutShareProps:o,isPromoted:F,loop:U,muted:e,preferMp4:L,pinId:i.id,video:c,variant:"default"})}),H&&Object(d.jsx)(E,{name:"tag-button",children:Object(d.jsx)(g.a,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:Object(d.jsx)(O.a,{children:Object(d.jsx)(f.b,{children:Object(d.jsx)(T,{pin:i})})})})})]});return r?Object(d.jsx)(j.a,{children:V}):V}},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("US8k"),r=n("yweb"),o=n("n6mq"),a=n("nKUr");function s({duration:e}){const t=Object(r.c)();return Object(a.jsxs)(o.f,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(a.jsx)(o.w,{accessibilityLabel:t._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(a.jsx)(o.f,{marginStart:1,children:Object(a.jsx)(o.bb,{color:"white",size:"sm",truncate:!0,children:Object(i.a)(e)})})]})}},yYqh:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("pLLR"),r=n("RNo4");var o=n("EC67");function a({checkExperiments:e,disableFetch:t,viewer:n}){const a=Object(o.i)(),s=Object(o.k)(),c=Object(i.d)(),l=function({location:{pathname:e,search:t},match:{params:n,path:i},viewer:o}){return{routeData:{matchPath:i,params:n,parsedSearch:Object(r.k)(t),pathname:e,search:t},user:{country:o.country||void 0,id:o.id||void 0,isAuth:o.isAuth,isEmployee:!!o.isEmployee||!1,isPartner:!!o.isPartner||!1,username:o.username||void 0}}}({location:a,match:s,viewer:n}),d=!!t&&t(l),u=!(!d&&e)||e(c.experiments);return{args:l,fetchDisabled:d||!u}}},yaUg:function(e,t,n){var i=n("Q2/A");const r=/\{\{\s*(\w+)\s*\}\}/g;t.a=(e,t)=>Object(i.a)(r,e,t)},yqcB:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("gg0E"),r=n("q1tI"),o=n("y2Ga"),a=n("SyXB");function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:c=!1,includeVideos:l=!1}){return Object(i.b)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:l}),function(e){const t=Object(o.c)(),n=Object(r.useRef)(null);Object(r.useEffect)(()=>{e!==n.current&&(n.current=e,t&&Object(a.c)(a.a))},[!!t,e])}(s),e}},yue5:function(e,t,n){var i=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=i(e),s=void 0!==t,c=null===t,l=t==t,d=i(t);if(!c&&!d&&!a&&e>t||a&&s&&l&&!c&&!d||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!d&&e<t||d&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},yweb:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("i18n");t.c=a},z7q0:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("afy1"),r=n("n6mq"),o=n("4cTg"),a=n("/zJj"),s=n("nKUr");function c({children:e,isVideo:t=!1,isWideVideo:n,shouldPadImage:c,styleOverrides:l={},variant:d}){return Object(s.jsx)(o.b.Consumer,{children:({showCloseupContentRight:o,showPdp:u,viewportSize:h})=>{const p="default"===d,b=o&&"lg"===h||p||n,m=u?a.f:a.d;if(b){var f,g,j;const d=Object(i.a)({isSideBySide:o&&!n,isPadded:c}),u=n?a.j:m,h=n?0:6,b=n?a.j:496,y=(null===(f=l.height)||void 0===f?void 0:f.height)||"100%",O=(null===(g=l.maxWidth)||void 0===g?void 0:g.maxWidth)||u,x=(null===(j=l.minWidth)||void 0===j?void 0:j.minWidth)||m;return Object(s.jsx)(r.f,{dangerouslySetInlineStyle:{__style:{borderRadius:l.borderRadius||d.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...c&&t?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{}}},display:p?"flex":void 0,flex:p&&n?"grow":void 0,height:p?y:void 0,justifyContent:p?"center":void 0,marginBottom:p?void 0:6,marginEnd:p?void 0:h,maxWidth:p?O:b,minWidth:p?x:344,rounding:p?void 0:2,children:e})}return Object(s.jsx)(r.f,{children:e})}})}},zQfT:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI");const r=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new r(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=o,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.a.create(e,n),r=new a,o=()=>{i.abort()};return async function(e){const t=r.get(e);if(t){const n=t.items;if(n&&n.length){o();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{var t;if(i.isCalling()){var n;if(e===(null===(n=i.options)||void 0===n?void 0:n.term))return;o()}const{bookmarks:a,...s}=i.options||{};i.options={...s,term:e};const c=null===(t=(await i.callGet({showError:!1})).resource_response)||void 0===t?void 0:t.data,l=null==c?void 0:c.items,d=(null==c?void 0:c.hint)||{},u={hint:d,items:l};return r.set(e,u),{term:e,items:l,hint:d}})(e):{hint:{},items:[],term:e}}}function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:r}){const o=Object(i.useRef)(!1),a=Object(i.useRef)({}),[s,l]=Object(i.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=Object(i.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(i.useEffect)(()=>{(async()=>{if(null!=r&&(e||o.current))if(r in a.current)l(a.current[r]);else try{const e=await d(r);if(e){const{items:t}=e;a.current[r]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()},[r]),s}},zpin:function(e,t){e.exports="https://s.pinimg.com/webapp/straight-24f68b43.svg"},zq6P:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const r=Object(i.createContext)(Object.freeze({})),o=r.Provider;function a(){return Object(i.useContext)(r)}},zyV6:function(e,t,n){var i={"./EditProfileQuery.graphql.js":["1b1X",636],"./EditProfileUpdatePartnerMutation.graphql.js":["QpC1",637],"./EditProfileUpdatePinnerMutation.graphql.js":["flSK",638],"./FollowerListPaginationQuery.graphql.js":["X/jF",639],"./FollowersControllerGraphQLQuery.graphql.js":["qlyT",640],"./FollowersListMobilePaginationQuery.graphql.js":["hqXy",641],"./FollowersModalGraphQL_pinner.graphql.js":["IlN1",580],"./ProfileFollowersControllerGraphQLMobileQuery.graphql.js":["n8fP",642],"./ProfileFollowersGraphQLMobile_pinner.graphql.js":["cMLN",581],"./ProfileUserRepGraphQLMobileFollowMutation.graphql.js":["dlJh",643],"./ProfileUserRepGraphQLMobileUnfollowMutation.graphql.js":["QOsn",644],"./ProfileUserRepGraphQLMobile_pinner.graphql.js":["J8YR",645],"./SearchContainer_searchUsersConnection.graphql.js":["BsAR",646],"./SearchDebugInfo_searchUsersConnection.graphql.js":["V0qe",647],"./SearchNagWithCheckGQL_searchUsersConnection.graphql.js":["1F5s",648],"./SearchResultUsersList.graphql.js":["ZQCV",649],"./SearchSensitiveContentNotice_sensitivity.graphql.js":["+P9k",650],"./SearchTabBar_searchfeedTabs.graphql.js":["0cRR",651],"./UserListItemFollowMutation.graphql.js":["fwO1",652],"./UserListItemUnfollowMutation.graphql.js":["kTwP",653],"./UserListItem_pinner.graphql.js":["VAmm",654],"./UserSearchPaginationQuery.graphql.js":["OVpa",655],"./UserSearchPagination_query.graphql.js":["y5tp",582],"./UserSearchQuery.graphql.js":["2eop",656],"./useLazyLoadQueryTestQuery.graphql.js":["4TPU",657]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(i)},r.id="zyV6",e.exports=r},zyj3:function(e,t,n){var i=n("q1tI");t.a=()=>{const[e,t]=Object(i.useState)(!1),[n,r]=Object(i.useState)(!1),[o,a]=Object(i.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}}}},[["bb3j","runtime","vendor-react",0,6,1,2,4,3,5,12,13,14,17,15,18,23]],[32,71,107,211,"PinSaveButtonCommon",156,"PinBetterSaveCommon",340,"ChangeBoardModalCommon","PinRepEditButtonCommon","QuickSaveButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon","SearchPageFiltersDrawer"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/search/[scope]-authdesktop-39c69e868e4bcade7a69.mjs.map